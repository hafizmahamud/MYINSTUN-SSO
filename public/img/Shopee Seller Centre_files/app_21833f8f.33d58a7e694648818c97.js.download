!function(e){function t(t){for(var a,n,l=t[0],u=t[1],c=t[2],d=0,_=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&_.push(o[n][0]),o[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(i&&i(t);_.length;)_.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,l=1;l<r.length;l++){var u=r[l];0!==o[u]&&(a=!1)}a&&(s.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},o={0:0},s=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://deo.shopeemobile.com/shopee/shopee-seller-live-my/chateasy/";var l=window.miniJsonp=window.miniJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var i=u;s.push([4,4,3,5,10,12,9,11,8,6,7,2,1]),r()}({"+iqz":function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _processor=__webpack_require__("yYuc"),_processor2=_interopRequireDefault(_processor),_objectWithoutProperties2=__webpack_require__("jo6Y"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_defineProperty2=__webpack_require__("YEIV"),_defineProperty3=_interopRequireDefault(_defineProperty2),_EXPOSE_TYPES,_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_LoadingSpin=__webpack_require__("Jitt"),_LoadingSpin2=_interopRequireDefault(_LoadingSpin),_sellerWebchatUi=__webpack_require__("h4gR"),_BlacklistHint=__webpack_require__("s1zR"),_BlacklistHint2=_interopRequireDefault(_BlacklistHint),_CancelOrderHint=__webpack_require__("B/Zq"),_CancelOrderHint2=_interopRequireDefault(_CancelOrderHint),_SpecialMessageCard=__webpack_require__("DI0R"),_SpecialMessageCard2=_interopRequireDefault(_SpecialMessageCard),_warningNew=__webpack_require__("Uek7"),_warningNew2=_interopRequireDefault(_warningNew),_messages=__webpack_require__("3atR"),_sellerWebchatUtils=__webpack_require__("XnKn"),_sellerWebchatService=__webpack_require__("tvxL"),_util=__webpack_require__("KmjB"),_index=__webpack_require__("soV0"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MSG_TYPE_WEBVIEW=_sellerWebchatUtils.MessageTypes.MSG_TYPE_WEBVIEW,MSG_TYPE_NOTIFICATION=_sellerWebchatUtils.MessageTypes.MSG_TYPE_NOTIFICATION,MSG_TYPE_ORDER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_ORDER,MSG_TYPE_OFFER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_OFFER,MSG_TYPE_IMAGE=_sellerWebchatUtils.MessageTypes.MSG_TYPE_IMAGE,MSG_TYPE_STICKER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_STICKER,MSG_TYPE_RATE_CARDS=_sellerWebchatUtils.MessageTypes.MSG_TYPE_RATE_CARDS,MSG_TYPE_BUNDEL_DEAL=_sellerWebchatUtils.MessageTypes.MSG_TYPE_BUNDEL_DEAL,MSG_TYPE_FLASH_SALE=_sellerWebchatUtils.MessageTypes.MSG_TYPE_FLASH_SALE,MSG_TYPE_VOUCHER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_VOUCHER,MSG_TYPE_CATEGORY=_sellerWebchatUtils.MessageTypes.MSG_TYPE_CATEGORY,MSG_TYPE_PRODUCT_LIST=_sellerWebchatUtils.MessageTypes.MSG_TYPE_PRODUCT_LIST,MSG_TYPE_ORDER_REVIEW_REMINDER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_ORDER_REVIEW_REMINDER,MSG_TYPE_CART_REMINDER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_CART_REMINDER,MSG_TYPE_PRODUCT=_sellerWebchatUtils.MessageTypes.MSG_TYPE_PRODUCT,EXPOSE_TYPES=(_EXPOSE_TYPES={},(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_BUNDEL_DEAL,"bundle_deal_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_FLASH_SALE,"flash_sale_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_VOUCHER,"claim_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_CATEGORY,"product_category_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_PRODUCT_LIST,"product_list_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_PRODUCT,"product_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_ORDER_REVIEW_REMINDER,"rate_card"),(0,_defineProperty3.default)(_EXPOSE_TYPES,MSG_TYPE_CART_REMINDER,"cart_card"),_EXPOSE_TYPES),CHECK_PROPS=["timeFlag","isLastMessage"],BaseMessage=function BaseMessage(MessageBody){var BaseMessage=function(_React$PureComponent){function BaseMessage(e,t){(0,_classCallCheck3.default)(this,BaseMessage);var r=(0,_possibleConstructorReturn3.default)(this,(BaseMessage.__proto__||(0,_getPrototypeOf2.default)(BaseMessage)).call(this,e,t)),a=e.index,o=e.message,s=e.newMessageFlag,n=e.exposedMessageIds,l=void 0===n?[]:n,u=e.addExposedMessageId,c=o.type===MSG_TYPE_ORDER&&"done"===o.fetchStatus&&!o.order;if((0===a||o.type===MSG_TYPE_OFFER||s||c)&&(r.needRemeasure=!0),r.handleReload=r.handleReload.bind(r),r.resendMessage=r.resendMessage.bind(r),r.renderMetaInfo=r.renderMetaInfo.bind(r),r.checkOrderStatus=r.checkOrderStatus.bind(r),r.shouldShowTimeFlag=r.shouldShowTimeFlag.bind(r),r.track=r.track.bind(r),r.timer=null,r.messageNode=null,r.shouldExpose=!0,r.clearTimer=r.clearTimer.bind(r),r.needExpose="function"==typeof IntersectionObserver&&EXPOSE_TYPES[r.props.message.type]&&!l.includes(r.props.message.id),r.needExpose){var i={root:document.querySelector("#messagesContainer"),threshold:.5};r.observer=new IntersectionObserver((function(e){var t=e[0];t&&t.isIntersecting&&t.intersectionRatio>=.5?!r.timer&&r.shouldExpose&&(r.shouldExpose=!1,r.timer=setTimeout((function(){r.track(),r.clearTimer(),u&&u(r.props.message.id)}),1e3)):t&&t.intersectionRatio<=0&&(r.shouldExpose=!0)}),i)}return r}return(0,_inherits3.default)(BaseMessage,_React$PureComponent),(0,_createClass3.default)(BaseMessage,[{key:"componentDidMount",value:function(){var e=this.props,t=e.message,r=e.hasSourceMessageMap;void 0===r[t.id]&&(r[t.id]=t.hasMessageSource),this.needExpose&&this.observer.observe(this.messageNode),this.measureMessage()}},{key:"componentWillUnmount",value:function(){this.clearTimer(),this.needExpose&&this.observer.unobserve(this.messageNode)}},{key:"componentDidUpdate",value:function(e){var t=this,r=e.message,a=e.hasSourceMessageMap,o=e.newMessageFlag,s=this.props,n=s.message,l=s.newMessageFlag,u=!1;if(r.type===MSG_TYPE_OFFER)u=(r.textContent&&r.textContent.status)!==(n.textContent&&n.textContent.status);else{var c=["errorCode","status","send_status","fetchStatus"];n.type!==MSG_TYPE_WEBVIEW&&c.push("content"),(u=c.some((function(e){return r[e]!==n[e]})))||(u=CHECK_PROPS.some((function(r){return t.props[r]!==e[r]})))}a[n.id]!==n.hasMessageSource&&(u=!0,a[n.id]=n.hasMessageSource),o!==l&&(u=!0),u&&(this.needRemeasure=u),this.measureMessage()}},{key:"clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"handleReload",value:function(){var e=this.props,t=e.message;(0,e.populateMessageRequested)({message:t})}},{key:"measureMessage",value:function(){this.needRemeasure&&(this.props.measure(),this.needRemeasure=!1)}},{key:"resendMessage",value:function(){var e=this.props,t=e.message;(0,e.resendMessageRequested)({conversationId:e.conversation.id,message:t})}},{key:"renderSendingStatus",value:function(e,t){return e===_messages.MSG_STATUS.SENDING&&![MSG_TYPE_IMAGE,MSG_TYPE_STICKER].includes(t)&&_react2.default.createElement("div",{className:_index2.default.sendingWrap},_react2.default.createElement(_LoadingSpin2.default,{theme:"dark"}))}},{key:"renderNewMessageTips",value:function(e){return e&&_react2.default.createElement("div",{className:_index2.default.newMessageTip},_react2.default.createElement("span",{className:_index2.default.prevLine}),_react2.default.createElement("span",{className:_index2.default.newMessageContent},$t("conversation_detail.message_list.unread_messages")),_react2.default.createElement("span",{className:_index2.default.postLine}))}},{key:"renderSendFailed",value:function(e,t){var r=e.send_status,a=e.errorCode,o=e.message_option,s=e.status,n=r===_messages.MSG_STATUS.FAILED||"censored_blacklist"===s,l=43===a,u=(0,_util.hasTargetMessageOption)(o,66496);return n?l||t?_react2.default.createElement("div",{className:_index2.default.resendWrap},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_warningNew2.default,className:_index2.default.blacklistIcon})):_react2.default.createElement("div",{className:_index2.default.resendWrap},_react2.default.createElement(_sellerWebchatUi.Tooltip,{content:$t("conversation_detail.message_list.resend")},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_warningNew2.default,className:_index2.default.resend,onClick:this.resendMessage}))):u&&_react2.default.createElement("div",{className:_index2.default.resendWrap},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_warningNew2.default,className:_index2.default.blacklistIcon}))}},{key:"checkOrderStatus",value:function(e){var t=e.type,r=e.fetchStatus,a=e.order;return"order"===t&&"done"===r&&!a}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"impression",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.props,o=a.message,s=o.id,n=o.type,l=o.content,u=o.crm_activity_id,c=a.currentUser,i=void 0===c?{}:c,d=(0,_extends3.default)({message_id:s,crm_activity_id:u||"",from_source:u?"CRM":""},r);switch(n){case MSG_TYPE_BUNDEL_DEAL:d.bundle_deal_id=l.bundle_deal_id;break;case MSG_TYPE_FLASH_SALE:d.flash_sale_id=l.flash_sale_id;break;case MSG_TYPE_ORDER_REVIEW_REMINDER:d.order_id=l.order_id;break;case MSG_TYPE_VOUCHER:d.voucher_id=l.voucher_id;break;case MSG_TYPE_CATEGORY:d.shop_collection_id=l.collection_id}"impression"===t&&(d={viewed_objects:[(0,_extends3.default)({},d,{shopid:i.shop_id||""})]}),(0,_sellerWebchatService.tracker)("",e||EXPOSE_TYPES[n],d,t,"chat_window")}},{key:"renderMessage",value:function(e){var t=this.props,r=t.message,a=t.measure,o=t.imgCache,s=t.timeFlag,n=t.isScChat,l=t.isSubAccount,u=t.conversation,c=t.currentUser,i=t.currentBuyer,d=t.newMessageFlag,_=t.visitShopSellerCenterRequested,p=t.isLastSystemMessage,f=t.sendMessagesRequested,h=t.fetchFaqMessagesRequested,g=t.showModal,v=t.closeModal,b=(0,_objectWithoutProperties3.default)(t,["message","measure","imgCache","timeFlag","isScChat","isSubAccount","conversation","currentUser","currentBuyer","newMessageFlag","visitShopSellerCenterRequested","isLastSystemMessage","sendMessagesRequested","fetchFaqMessagesRequested","showModal","closeModal"]),S=r.type,M=r.send_status,y=r.hasMessageSource,m=r.fetchStatus,C=void 0===m?"":m,k=r.content,L=void 0===k?{}:k,R=i.country,E=null,T=null,w=!1,q=!1;e?(E=this.renderSendFailed(r,"closed"===u.status),w=M===_messages.MSG_STATUS.SENDING,q=this.renderSendingStatus(M,S)):T=this.renderNewMessageTips(d);var P=this.renderMetaInfo(r),H=this.renderMessageSource(r,s),G=S===MSG_TYPE_NOTIFICATION||S===MSG_TYPE_WEBVIEW&&L.type===MSG_TYPE_RATE_CARDS&&(e||l),x=G?_index2.default.message:e?_index2.default.messageSend:_index2.default.messageReceive,I=!(y||s||p||G)||s&&G?"4px":"8px";return _react2.default.createElement(_react2.default.Fragment,null,T,s&&_react2.default.createElement("div",{className:_index2.default.messageTime},s),H,_react2.default.createElement("div",{style:{marginTop:I},className:x},E,!G&&q,_react2.default.createElement("div",{className:_index2.default.bubble},C.includes("Card")?_react2.default.createElement(_processor2.default,{type:"loading",messageType:S,content:S===MSG_TYPE_OFFER&&u.shop_id!==L.shop_id?(0,_extends3.default)({},L,{tax_value:"0.00"}):L}):_react2.default.createElement(MessageBody,(0,_extends3.default)({},r,{isScChat:n,isSend:e,showModal:g,closeModal:v,measure:a,country:R,imgCache:o,isSending:w,currentUser:c,conversation:u,isSubAccount:l,handleReload:this.handleReload,visitShopSellerCenterRequested:_,sendMessagesRequested:f,fetchFaqMessagesRequested:h,track:this.track},b)))),P)}},{key:"renderProductSource",value:function(e,t,r,a){var o=e.content,s=void 0===o?{}:o,n=s.status,l=s.id,u=s.shop_id,c=this.props,i=c.currentUser,d=c.visitShopSellerCenterRequested,_=c.conversation.hasViewProductAccess,p=c.isSubAccount,f=c.isScChat,h=void 0,g=void 0,v=void 0,b=void 0;p?(g=t&&t.content?t.content:null)&&(h=g.id,b="https://"+(0,_sellerWebchatUtils.getMallUrl)(g.country)+"/product/"+u+"/"+l+"/"):(v="https://"+(0,_sellerWebchatUtils.getSellerCenterUrl)()+"/portal/product/"+l,b="https://"+(0,_sellerWebchatUtils.getMallUrl)()+"/product/"+u+"/"+l);var S=s.id,M=s.image,y=s.name,m=s.original_price_string,C=s.actual_price_string,k={isSubAccount:p,originPrice:m,status:n,stock:s.stock,scProductLink:v,mallProductLink:b,hasViewProductAccess:_,visitShopSellerCenterRequested:d,shopId:h,itemId:S,sendStatus:r,isSendByMe:a,isScChat:f};return _react2.default.createElement(_SpecialMessageCard2.default,{id:S,currentUser:i,category:"source",type:"product",image:M,name:y,price:C,extraProps:k})}},{key:"renderOrderSource",value:function(e,t,r){var a=e.content,o=void 0===a?{}:a,s=this.props,n=s.currentUser,l=s.visitShopSellerCenterRequested,u=s.isSubAccount,c=s.conversation,i=c.shop,d=void 0===i?{}:i,_=c.hasViewOrderAccess,p=c.shop_id,f=c.to_shop_id,h=s.isScChat,g=void 0;u||(g="https://"+(0,_sellerWebchatUtils.getSellerCenterUrl)()+"/portal/sale/"+o.id);var v="https://"+(0,_sellerWebchatUtils.getMallUrl)()+"/user/purchase/order/"+o.id+"/?shopid="+(r?f:n.shop_id),b={};"refund"===o.status?b.refundId=o.refund_serial_number:b.orderId=o.serial_number;var S=(0,_sellerWebchatUtils.getOrderPayment)(o,d.country).payment,M={orderId:o.id,smallImage:!0,itemCount:o.products_count,status:o.status,statusText:$t(_sellerWebchatUtils.OrderStatus[o.status]),hasViewOrderAccess:_,visitShopSellerCenterRequested:l,isSubAccount:u,shopId:p,orderLink:g,mallOrderLink:v,orderOrRefundId:b,sendStatus:t,isSendByMe:r,isScChat:h},y=o.image,m=o.title;return _react2.default.createElement(_SpecialMessageCard2.default,{id:o.id,currentUser:n,category:"source",type:"order",image:y,name:m,price:S,extraProps:M})}},{key:"renderMessageSource",value:function(e,t){var r=e.source_type,a=e.sourceContent,o=e.hasMessageSource,s=e.shopContent,n=void 0===s?{}:s,l=e.fetchStatus,u=void 0===l?"":l,c=e.to_id,i=this.props.conversation;if(!o)return null;var d=i.to_id===c,_={marginTop:t?"1.5em":"0.75em"};if(u.includes("Source"))return _react2.default.createElement(_processor2.default,{type:"loading",messageType:"source",style:_});if(!a&&"done"===u)return _react2.default.createElement(_processor2.default,{type:"reload",messageType:"source",reloadRequest:this.handleReload,style:_});if(!a)return null;var p=void 0;return"product"===r?p=this.renderProductSource(a,n,e.send_status,d):"order"===r&&(p=this.renderOrderSource(a,e.send_status,d)),p&&_react2.default.createElement("div",{style:_},p)}},{key:"renderMetaInfo",value:function(){var e=void 0,t=this.props,r=t.message,a=r.type,o=r.textContent,s=r.to_id,n=r.errorCode,l=r.message_option,u=t.conversation,c=u.to_id,i=u.to_name,d=u.shop,_=s===c,p=(o||{}).buyer_id;if(a===MSG_TYPE_OFFER&&o){var f=p===c;switch(o.status){case"accepted":e=f?_?null:$t("conversation_detail.message_list.accept_offer"):_?$t("conversation_detail.message_list.accept_offer_user",{username:i}):null;break;case"rejected":e=f?_?null:$t("conversation_detail.message_list.reject_offer"):_?$t("conversation_detail.message_list.reject_offer_user",{username:i}):null;break;case"cancelled":e=f?$t("conversation_detail.message_list.cancel_offer",{username:i}):$t("conversation_detail.message_list.cancel_offer_self")}}if(28===n)e=$t("conversation_detail.message_list.error_message_blocked",{username:i});else if(43===n)e=_react2.default.createElement(_BlacklistHint2.default,{color:"#bbb"});else if(45===n)e=$t("conversation_detail.message_list.unverified_phone_number");else if(_&&((0,_util.hasTargetMessageOption)(l,66496)||(0,_util.hasTargetMessageOption)(l,32768))){var h=d&&d.country?d.country.toLowerCase():"sg";e=_react2.default.createElement(_CancelOrderHint2.default,{code:l,region:h})}if(e)return _react2.default.createElement("div",{className:_index2.default.metaInfo},_react2.default.createElement("div",{className:_index2.default.metaContent},e))}},{key:"shouldShowTimeFlag",value:function(e,t){return Date.parse(e)-Date.parse(t)>3e5}},{key:"render",value:function(){var e=this,t=this.props,r=t.style,a=t.message,o=t.isLastMessage,s=t.conversation.to_id,n=t.className,l=this.renderMessage(a.to_id===s),u=_index2.default.root+" "+(o?_index2.default.lastMessage:"")+" "+n;return _react2.default.createElement("div",{style:r,className:u,ref:function(t){return e.messageNode=t}},l)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BaseMessage}(_react2.default.PureComponent);return BaseMessage.propTypes={index:_propTypes2.default.number,message:_propTypes2.default.object,newMessageFlag:_propTypes2.default.bool,isLastMessage:_propTypes2.default.bool,style:_propTypes2.default.object,measure:_propTypes2.default.func,timeFlag:_propTypes2.default.string,imgCache:_propTypes2.default.object,resendMessageRequested:_propTypes2.default.func,conversation:_propTypes2.default.object,currentUser:_propTypes2.default.object,currentBuyer:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,visitShopSellerCenterRequested:_propTypes2.default.func,visitMallRequested:_propTypes2.default.func,populateMessageRequested:_propTypes2.default.func,isLastSystemMessage:_propTypes2.default.bool,hasSourceMessageMap:_propTypes2.default.object,isScChat:_propTypes2.default.bool,sendMessagesRequested:_propTypes2.default.func,fetchFaqMessagesRequested:_propTypes2.default.func,showModal:_propTypes2.default.func,className:_propTypes2.default.string,closeModal:_propTypes2.default.func,addExposedMessageId:_propTypes2.default.func,exposedMessageIds:_propTypes2.default.array},BaseMessage},_default=BaseMessage,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MSG_TYPE_WEBVIEW,"MSG_TYPE_WEBVIEW","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_NOTIFICATION,"MSG_TYPE_NOTIFICATION","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_ORDER,"MSG_TYPE_ORDER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_OFFER,"MSG_TYPE_OFFER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_IMAGE,"MSG_TYPE_IMAGE","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_STICKER,"MSG_TYPE_STICKER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_RATE_CARDS,"MSG_TYPE_RATE_CARDS","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_BUNDEL_DEAL,"MSG_TYPE_BUNDEL_DEAL","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_FLASH_SALE,"MSG_TYPE_FLASH_SALE","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_VOUCHER,"MSG_TYPE_VOUCHER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_CATEGORY,"MSG_TYPE_CATEGORY","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_PRODUCT_LIST,"MSG_TYPE_PRODUCT_LIST","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_ORDER_REVIEW_REMINDER,"MSG_TYPE_ORDER_REVIEW_REMINDER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_CART_REMINDER,"MSG_TYPE_CART_REMINDER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_PRODUCT,"MSG_TYPE_PRODUCT","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(EXPOSE_TYPES,"EXPOSE_TYPES","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(CHECK_PROPS,"CHECK_PROPS","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(BaseMessage,"BaseMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},"/PCz":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("c2A2")),s=u(r("q1tI")),n=u(r("17x9")),l=u(r("+iqz"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=e.measure,r=e.isSend,a=e.textContent,n=void 0===a?[]:a,l=e.fetchStatus,u=e.handleReload,c=e.conversation,i=e.content,d=i.cart_items,_=void 0===d?[]:d,p=i.shop_id,f=e.track,h=(c||{}).shop,g=(h&&h.country?h.country:"SG").toLowerCase();return s.default.createElement(o.default,{isSend:r,measure:t,handleReload:u,failed:"failed"===l,products:n,cartItems:_,shopId:p,region:g,track:f})};c.propTypes={measure:n.default.func,isSend:n.default.bool,textContent:n.default.array,fetchStatus:n.default.string,handleReload:n.default.func,content:n.default.object,conversation:n.default.object,track:n.default.func.isRequired};var i,d,_=(0,l.default)(c);t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"CartReminderMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/CartReminderMessage/index.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/CartReminderMessage/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},"/ZKH":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=r("14Xm"),s=(a=o)&&a.__esModule?a:{default:a};t.watchTemporary=f;var n,l=r("tvxL"),u=r("5rFJ");(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var c,i,d=s.default.mark(p),_=s.default.mark(f);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function p(e){var t=e.payload.resource;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="login"===t,!e.t0){e.next=4;break}return e.next=4,(0,u.put)((0,l.updateChatEntryStatus)({showEntry:!0}));case 4:return e.next=6,(0,u.put)((0,l.updateLoginSuccessStatus)({loginSuccess:!1}));case 6:return e.next=8,(0,u.put)((0,l.forceLogoutRequested)());case 8:case"end":return e.stop()}}),d,this)}function f(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(l.handle401ErrorRequested,p);case 2:case"end":return e.stop()}}),_,this)}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(p,"handle401Error","/workspace/src/reducers/temporary/index.js"),c.register(f,"watchTemporary","/workspace/src/reducers/temporary/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},"1X8k":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _stickerPanel=__webpack_require__("s+t5"),_stickerPanel2=_interopRequireDefault(_stickerPanel),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_sellerWebchatService=__webpack_require__("tvxL"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},StickerPopover=function(_React$PureComponent){function StickerPopover(){return(0,_classCallCheck3.default)(this,StickerPopover),(0,_possibleConstructorReturn3.default)(this,(StickerPopover.__proto__||(0,_getPrototypeOf2.default)(StickerPopover)).apply(this,arguments))}return(0,_inherits3.default)(StickerPopover,_React$PureComponent),(0,_createClass3.default)(StickerPopover,[{key:"render",value:function(){return _react2.default.createElement(_stickerPanel2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),StickerPopover}(_react2.default.PureComponent),selector=function(e){return{stickers:(0,_sellerWebchatService.stickersSelector)(e),allStickers:(0,_sellerWebchatService.allStickersArraySelector)(e),currentSticker:(0,_sellerWebchatService.currentStickerSelector)(e),currentStickerPage:(0,_sellerWebchatService.currentStickerPageSelector)(e),stickerHttpStatus:(0,_sellerWebchatService.stickerHttpStatusSelector)(e)}},actions={selectSticker:_sellerWebchatService.selectSticker},_default=(0,_reactRedux.connect)(selector,actions)(StickerPopover),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(StickerPopover,"StickerPopover","/workspace/src/containers/InputField/Toolbar/StickerPopover/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/InputField/Toolbar/StickerPopover/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/InputField/Toolbar/StickerPopover/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/InputField/Toolbar/StickerPopover/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"2Z54":function(e,t,r){"use strict";var a=r("XnKn");"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;(0,a.init)("MY","live","4.9.0","ms-MY")},"3atR":function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_WEBVIEW:"webview",MSG_TYPE_RATE_CARDS:"rate_cards",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_VOUCHER_WEB:"voucher_web",MSG_TYPE_CATEGORY:"shop_category",MSG_TYPE_PRODUCT_LIST:"item_list",MSG_TYPE_FEED_STORY:"feed_story",MSG_TYPE_CART_REMINDER:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_FAQ_HISTORY:"bundle_message",MSG_TYPE_BUNDEL_DEAL:"bundle_deal",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_ORDER_REVIEW_REMINDER:"unrated_order_reminder"};t.default=a;var o,s,n=t.MSG_STATUS={SENDING:1,FAILED:2,SUCCEED:3},l=t.EvaluationStatus={Unrated:"unrated",Rated:"rated",Expired:"expired"},u=t.EvaluationErrorCode={Rated:"rating_card_rated",Expired:"rating_card_expired"},c=t.PromotionStatus={UpComing:"upcoming",OnGoing:"ongoing",Expired:"expired"};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(n,"MSG_STATUS","/workspace/src/constants/messages.js"),o.register(l,"EvaluationStatus","/workspace/src/constants/messages.js"),o.register(u,"EvaluationErrorCode","/workspace/src/constants/messages.js"),o.register(c,"PromotionStatus","/workspace/src/constants/messages.js"),o.register(a,"default","/workspace/src/constants/messages.js")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r("YuTi")(e))},"4Q5n":function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_ProductItem=__webpack_require__("dm17"),_ProductItem2=_interopRequireDefault(_ProductItem),_index=__webpack_require__("NSnx"),_index2=_interopRequireDefault(_index),_sellerWebchatUtils=__webpack_require__("XnKn"),_Count=__webpack_require__("azN6"),_Count2=_interopRequireDefault(_Count),_reactDotdotdot=__webpack_require__("m2L4"),_reactDotdotdot2=_interopRequireDefault(_reactDotdotdot),_messages=__webpack_require__("3atR"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},UpComing=_messages.PromotionStatus.UpComing,OnGoing=_messages.PromotionStatus.OnGoing,Expired=_messages.PromotionStatus.Expired,FlashSaleMessage=function(_React$PureComponent){function FlashSaleMessage(e){(0,_classCallCheck3.default)(this,FlashSaleMessage);var t=(0,_possibleConstructorReturn3.default)(this,(FlashSaleMessage.__proto__||(0,_getPrototypeOf2.default)(FlashSaleMessage)).call(this,e));return t.renderProductList=t.renderProductList.bind(t),t.isProductInValid=t.isProductInValid.bind(t),t.renderHeaderText=t.renderHeaderText.bind(t),t.renderFooter=t.renderFooter.bind(t),t.countOnSec=t.countOnSec.bind(t),t.tick=t.tick.bind(t),t.formatTime=t.formatTime.bind(t),t.transValue=t.transValue.bind(t),t.trackItem=t.trackItem.bind(t),t.needRemeasure=!1,t.timerID=null,t.status="",t.state={date:Math.floor(Date.now()/1e3)},t}return(0,_inherits3.default)(FlashSaleMessage,_React$PureComponent),(0,_createClass3.default)(FlashSaleMessage,[{key:"componentDidMount",value:function(){this.countOnSec(),this.props.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"countOnSec",value:function(){var e=this;clearTimeout(this.timerID),this.timerID=setTimeout((function(){e.tick(),e.countOnSec()}),1e3)}},{key:"tick",value:function(){this.setState({date:Math.floor(Date.now()/1e3)})}},{key:"formatTime",value:function(e){return e>=10?e:"0"+e}},{key:"calculateLeftTime",value:function(e){var t=e-this.state.date;if(t<=0)return{isReachEndTime:!0};var r=Math.floor(t/86400),a=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),s=Math.floor(t%3600%60);return{isReachEndTime:!1,day:!!r&&this.formatTime(r),hour:this.formatTime(a),minute:this.formatTime(o),second:this.formatTime(s)}}},{key:"isProductInValid",value:function(e){return e.stock<=0}},{key:"transValue",value:function(e){return e/1e5}},{key:"trackItem",value:function(e){this.props.track("flash_sale_items","click",{itemid:e})}},{key:"renderProductList",value:function(e,t,r,a){var o=this;return e.map((function(e){var s=e.name,n=e.raw_discount,l=e.price,u=e.hidden_price_display,c=e.image,i=e.item_id,d=o.transValue(l),_=a===UpComing?(0,_sellerWebchatUtils.transPrice)(u||d,t):(0,_sellerWebchatUtils.formatPrice)(d,t),p="https://"+(0,_sellerWebchatUtils.getMallUrl)(t)+"/product/"+r+"/"+i+"/",f=o.isProductInValid(e),h=f?_react2.default.createElement("div",{className:_index2.default.soldout},$t("conversation_detail.conversation_origin.product_origin.sold_out")):a!==UpComing&&n<100&&n>0?_react2.default.createElement("div",{className:_index2.default.discount},n,"% ",$t("common.label.off")):null;return _react2.default.createElement(_ProductItem2.default,{key:e.item_id,name:s,price:_,image:c,inValid:f,url:p,status:h,id:i,trackItem:o.trackItem})}))}},{key:"renderHeaderText",value:function(e){var t=this.props.content,r=t.start_time,a=t.end_time,o=(0,_sellerWebchatUtils.customizeTime)(1e3*r),s=e===OnGoing?this.calculateLeftTime(a):{},n=e===UpComing?_react2.default.createElement("span",{className:_index2.default.headerText},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",clamp:1},$t("common.flash_sale.start_at")," ",o)):e!==OnGoing||s.isReachEndTime?_react2.default.createElement("span",{className:_index2.default.headerText,title:$t("message.flash_sale.end")},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",clamp:1},$t("message.flash_sale.end"))):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("span",{className:_index2.default.textEnd},$t("common.flash_sale.end_in")),(0,_Count2.default)((0,_extends3.default)({},s))),l=_index2.default.productHeader+" "+(e===Expired?_index2.default.productHeaderInactive:"");return _react2.default.createElement("div",{className:_index2.default.header},_react2.default.createElement("div",{className:l},$t("message.flash_sale")),_react2.default.createElement("div",{className:_index2.default.headerRight},n))}},{key:"renderFooter",value:function(e,t,r){var a=this,o=e[0].item_id,s="https://"+(0,_sellerWebchatUtils.getMallUrl)(t)+"/product/"+r+"/"+o+"/";return _react2.default.createElement("div",{className:_index2.default.footer,onClick:function(){window.open(s),a.props.track("flash_sale_button","click")}},$t("conversation_detail.conversation_origin.view_details"))}},{key:"render",value:function(){var e=this.props,t=e.isSend,r=e.content,a=r.shop_id,o=r.start_time,s=r.end_time,n=r.flash_sale_item,l=void 0===n?[]:n,u=e.conversation,c=this.state.date,i=(u||{}).shop,d=(i&&i.country?i.country:"SG").toLowerCase();this.status=c<o?UpComing:c<s&&c>o?OnGoing:Expired;var _=l.slice(0,4),p=_index2.default.root+" "+(t?_index2.default.send:_index2.default.receive),f=this.renderProductList(_,d,a,this.status),h=this.renderHeaderText(this.status),g=1===l.length&&this.renderFooter(l,d,a);return _react2.default.createElement("div",{className:p},h,f,g)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FlashSaleMessage}(_react2.default.PureComponent);FlashSaleMessage.propTypes={measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,content:_propTypes2.default.object,conversation:_propTypes2.default.object,track:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(FlashSaleMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(UpComing,"UpComing","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(OnGoing,"OnGoing","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(Expired,"Expired","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(FlashSaleMessage,"FlashSaleMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},"5se9":function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Menus=__webpack_require__("SdKD"),_Menus2=_interopRequireDefault(_Menus),_Modal=__webpack_require__("axYV"),_Modal2=_interopRequireDefault(_Modal),_ToastBubble=__webpack_require__("OTLN"),_ToastBubble2=_interopRequireDefault(_ToastBubble),_ConversationLists=__webpack_require__("g6PX"),_ConversationLists2=_interopRequireDefault(_ConversationLists),_ConversationDetail=__webpack_require__("FO8H"),_ConversationDetail2=_interopRequireDefault(_ConversationDetail),_sellerWebchatService=__webpack_require__("tvxL"),_sellerWebchatUtils=__webpack_require__("XnKn"),_sellerWebchatUi=__webpack_require__("h4gR"),_chat=__webpack_require__("x3MO"),_chat2=_interopRequireDefault(_chat),_liaoliao=__webpack_require__("j0sr"),_liaoliao2=_interopRequireDefault(_liaoliao),_show_conversation=__webpack_require__("BQdB"),_show_conversation2=_interopRequireDefault(_show_conversation),_hide_conversation=__webpack_require__("AU40"),_hide_conversation2=_interopRequireDefault(_hide_conversation),_icon_up=__webpack_require__("jbrJ"),_icon_up2=_interopRequireDefault(_icon_up),_gotowebchat=__webpack_require__("HxWO"),_gotowebchat2=_interopRequireDefault(_gotowebchat),_choose=__webpack_require__("Vuie"),_choose2=_interopRequireDefault(_choose),_jump=__webpack_require__("v/m5"),_jump2=_interopRequireDefault(_jump),_viewmore=__webpack_require__("YS8r"),_viewmore2=_interopRequireDefault(_viewmore),_icon_logo=__webpack_require__("y6GN"),_icon_logo2=_interopRequireDefault(_icon_logo),_open_paren=__webpack_require__("VBfZ"),_open_paren2=_interopRequireDefault(_open_paren),_close_paren=__webpack_require__("lmJ8"),_close_paren2=_interopRequireDefault(_close_paren),_goToWebChat=__webpack_require__("OW4m"),_goToWebChat2=_interopRequireDefault(_goToWebChat),_blank=__webpack_require__("oWPI"),_blank2=_interopRequireDefault(_blank),_faildload=__webpack_require__("S4Or"),_faildload2=_interopRequireDefault(_faildload),_serverError=__webpack_require__("VTii"),_serverError2=_interopRequireDefault(_serverError),_index=__webpack_require__("vJMG"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},EntryIconMap={seeAll:_gotowebchat2.default,minimize:_icon_up2.default,hideDialog:_hide_conversation2.default,showDialog:_show_conversation2.default},MainLayout=function(_React$PureComponent){function MainLayout(e){(0,_classCallCheck3.default)(this,MainLayout);var t=(0,_possibleConstructorReturn3.default)(this,(MainLayout.__proto__||(0,_getPrototypeOf2.default)(MainLayout)).call(this,e));return t.handleMenusOpen=t.handleMenusOpen.bind(t),t.handleMenusClose=t.handleMenusClose.bind(t),t.handleClickEntry=t.handleClickEntry.bind(t),t.handleGoToWebchat=t.handleGoToWebchat.bind(t),t.getToolbarContent=t.getToolbarContent.bind(t),t.state={isStatusHoverd:!1,isStatusMenuOpen:!1},t.openedWindow=null,t.openWebChatTimer=null,t.hasBindMessageEvent=!1,t.goToWebchatConfig={key:"seeAll",tip:"header.tooltip.see_all",customProps:{position:"right",edgeDistance:12},icon:"seeAll",handler:t.handleGoToWebchat},t.minimizeConfig={key:"minimize",tip:"header.tooltip.minimize",icon:"minimize",handler:function(e){(0,t.props.updateChatWindowStatus)({shouldShowWindow:!1}),(0,_sellerWebchatService.tracker)("","close_button")}},t}return(0,_inherits3.default)(MainLayout,_React$PureComponent),(0,_createClass3.default)(MainLayout,[{key:"componentDidMount",value:function(){this.props.isScChat&&(0,_sellerWebchatService.tracker)("","chat_icon",{ctx_url:window.location.href},"impression")}},{key:"handleGoToWebchat",value:function(e,t){var r=(0,_sellerWebchatUtils.getWebChatUrl)(),a=this.props.currentConversation;(0,_sellerWebchatService.tracker)("","to_webchat_button"),(0,_goToWebChat2.default)({currentConversation:a,webChatUrl:r})}},{key:"getToolbarContent",value:function(){var e=this.props,t=e.isScChat,r=e.showConversationDetail,a=e.updateConversationDetailStatus,o=[];return r?o.push({key:"hideDialog",tip:"header.tooltip.close_dialog",icon:"hideDialog",handler:function(e){a({shouldShowConversationDetail:!1}),(0,_sellerWebchatService.tracker)("","fold_button")}}):o.push({key:"showDialog",tip:"header.tooltip.open_dialog",icon:"showDialog",handler:function(e){a({shouldShowConversationDetail:!0,needMark:!0}),(0,_sellerWebchatService.tracker)("","unfold_button")}}),o.push(this.minimizeConfig),t&&o.push(this.goToWebchatConfig),_react2.default.createElement("div",{className:_index2.default.operatorWrapper},o.map((function(e){return _react2.default.createElement("div",{key:e.key,className:_index2.default.operatorItemWrapper},_react2.default.createElement(_sellerWebchatUi.Tooltip,{content:$t(e.tip)},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:EntryIconMap[e.icon],className:_index2.default[e.icon],onClick:e.handler})))})))}},{key:"getStatusMenuOption",value:function(e){var t=this.props.updateUserRequested;return[{name:_react2.default.createElement("div",{className:_index2.default.statusOption},_react2.default.createElement("div",{className:_index2.default.selected},e&&_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_choose2.default,className:_index2.default.currentStatus})),_react2.default.createElement("div",{className:_index2.default.status+" "+_index2.default.working}),_react2.default.createElement("div",{className:e?_index2.default.active:""},$t("common.online"))),handleSelect:function(){!e&&t({status:"working"}),!e&&(0,_sellerWebchatService.tracker)("shop_head_status_dropdown","status_online_button")},meta:{noBorder:!0}},{name:_react2.default.createElement("div",{className:_index2.default.statusOption},_react2.default.createElement("div",{className:_index2.default.selected},!e&&_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_choose2.default,className:_index2.default.currentStatus})),_react2.default.createElement("div",{className:_index2.default.status+" "+_index2.default.hangup}),_react2.default.createElement("div",{className:e?"":_index2.default.active},$t("common.offline"))),handleSelect:function(){e&&t({status:"hang_up"}),e&&(0,_sellerWebchatService.tracker)("shop_head_status_dropdown","status_hangup")}}]}},{key:"handleMenusOpen",value:function(){var e=this.props.updateOpenedMenu;(0,_sellerWebchatService.tracker)("","shop_head_status"),e("user_status"),this.setState({isStatusMenuOpen:!0})}},{key:"handleMenusClose",value:function(){this.setState({isStatusMenuOpen:!1})}},{key:"handleClickEntry",value:function(){var e=this.props,t=e.showChatWindow,r=e.loginSuccess,a=e.socketSuccess,o=e.totalUnreadCount,s=e.updateChatWindowStatus;t||(s({shouldShowWindow:!0}),r&&a&&(0,_sellerWebchatService.tracker)("","chat_icon",{redbot:o,ctx_url:window.location.href}))}},{key:"makeChatWindowsContent",value:function(){var e=this.props,t=e.toast,r=e.isScChat,a=e.openedMenu,o=e.currentUser,s=e.currentBuyer,n=e.isSubAccount,l=e.loginSuccess,u=e.socketSuccess,c=e.connectSocket,i=e.updateOpenedMenu,d=e.currentConversation,_=e.setToastInformation,p=e.currentConversationId,f={isScChat:r,openedMenu:a,currentUser:o,isSubAccount:n,currentBuyer:s,loginSuccess:l,socketSuccess:u,updateOpenedMenu:i,setToastInformation:_,currentConversation:d,showConversationDetail:e.showConversationDetail,changeConversationStatusRequested:e.changeConversationStatusRequested,currentUserId:(o||{}).id};return l?u?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_ToastBubble2.default,{toast:t,isScChat:r,setToastInformation:_}),_react2.default.createElement("div",{className:_index2.default.details},p?_react2.default.createElement(_ConversationDetail2.default,f):_react2.default.createElement("div",{className:_index2.default.blank},_react2.default.createElement("img",{src:_blank2.default,className:_index2.default.image}),_react2.default.createElement("div",{className:_index2.default.title},$t("blank_page."+(r?"":"mall_")+"title")),r&&_react2.default.createElement("div",{className:_index2.default.subtitle},$t("blank_page.tip")))),_react2.default.createElement(_ConversationLists2.default,f),_react2.default.createElement(_Modal2.default,null)):_react2.default.createElement("div",{className:_index2.default.maxBlank},_react2.default.createElement("img",{src:_faildload2.default,className:_index2.default.errorImage}),_react2.default.createElement("div",{className:_index2.default.title},$t("socket_error.title")),_react2.default.createElement("div",{className:_index2.default.reload,onClick:c},$t("common.error.reload"))):_react2.default.createElement("div",{className:_index2.default.maxBlank},_react2.default.createElement("img",{src:_serverError2.default,className:_index2.default.errorImage}),_react2.default.createElement("div",{className:_index2.default.title},$t("common.error.hint_text")),_react2.default.createElement("div",{className:_index2.default.subtitle},$t("login_error.tips")))}},{key:"render",value:function(){var e=this,t=this.props,r=t.isScChat,a=t.showEntry,o=t.openedMenu,s=t.currentUser,n=t.isSubAccount,l=t.showChatWindow,u=t.totalUnreadCount,c=t.showConversationDetail,i=this.state,d=i.isStatusHoverd,_=i.isStatusMenuOpen,p=s.distribution_status,f=s.locale,h=["tw","cn"].includes((0,_sellerWebchatUtils.handleLocale)(f,!1)),g="working"===p,v=this.getStatusMenuOption(g),b=u>0,S=u>99?"99+":u,M=_index2.default.userStatus+" "+_index2.default.hoverStyle+" "+(g?_index2.default.working:_index2.default.hangup),y=this.getToolbarContent(),m=_index2.default.wrapper+" "+(r&&!l?_index2.default.scEntry:"")+" "+(l?c?_index2.default.container:_index2.default.halfContainer:b?_index2.default.hasUnread:"");return a&&_react2.default.createElement("div",{className:m,style:r?{borderRadius:"4px"}:{}},_react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.logoWrapper,onClick:this.handleClickEntry},u>0&&_react2.default.createElement("div",{className:_index2.default.counts},S),n&&p&&!l&&_react2.default.createElement("div",{className:_index2.default.statusDot+" "+_index2.default[p]}),n&&l&&_react2.default.createElement("div",{className:_index2.default.customMenu},_react2.default.createElement(_Menus2.default,{options:v,placement:"bottom-start",menuKey:"user_status",openedMenu:o,onOpen:this.handleMenusOpen,onClose:this.handleMenusClose,label:_react2.default.createElement(_sellerWebchatUi.Tooltip,{content:$t("common."+(g?"online":"offline"))},_react2.default.createElement("div",{className:M,onMouseEnter:function(){return e.setState({isStatusHoverd:!0})},onMouseLeave:function(){return e.setState({isStatusHoverd:!1})}},(_||d)&&_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_viewmore2.default,className:_index2.default.arrow})))})),_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_icon_logo2.default,className:_index2.default.chat}),_react2.default.createElement(_sellerWebchatUi.Icon,{svg:h?_liaoliao2.default:_chat2.default,className:_index2.default.logo}),!!u&&_react2.default.createElement("div",{className:_index2.default.unread},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_open_paren2.default,className:_index2.default.unreadOpen}),u,_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_close_paren2.default,className:_index2.default.unreadClose}))),r&&!l&&_react2.default.createElement("div",{className:_index2.default.jumpbar,onClick:function(t){return e.handleGoToWebchat(t,!0)}},_react2.default.createElement(_sellerWebchatUi.Tooltip,{placement:"right",content:$t("header.tooltip.see_all")},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_jump2.default,className:_index2.default.jump}))),l&&y),_react2.default.createElement("div",{className:_index2.default.windows},this.makeChatWindowsContent()))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MainLayout}(_react2.default.PureComponent);MainLayout.propTypes={toast:_propTypes2.default.object,isScChat:_propTypes2.default.bool,showEntry:_propTypes2.default.bool,openedMenu:_propTypes2.default.string,currentUser:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,loginSuccess:_propTypes2.default.bool,currentBuyer:_propTypes2.default.object,socketSuccess:_propTypes2.default.bool,connectSocket:_propTypes2.default.func,showChatWindow:_propTypes2.default.bool,updateChatParams:_propTypes2.default.func,updateOpenedMenu:_propTypes2.default.func,totalUnreadCount:_propTypes2.default.number,updateUserRequested:_propTypes2.default.func,setToastInformation:_propTypes2.default.func,currentConversation:_propTypes2.default.object,updateGuideRequested:_propTypes2.default.func,currentConversationId:_propTypes2.default.string,updateChatWindowStatus:_propTypes2.default.func,showConversationDetail:_propTypes2.default.bool,resetConversationRequested:_propTypes2.default.func,updateConversationDetailStatus:_propTypes2.default.func,changeConversationStatusRequested:_propTypes2.default.func};var _default=MainLayout,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(EntryIconMap,"EntryIconMap","/workspace/src/components/MainLayout/index.js"),reactHotLoader.register(MainLayout,"MainLayout","/workspace/src/components/MainLayout/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MainLayout/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},"7b+N":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchProductSagas=void 0;var a,o=u(r("QbLZ")),s=r("6SzI"),n=r("WnRE"),l=u(n);function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d=t.watchProductSagas=[n.watchFetch],_=(0,s.handleActions)((0,o.default)({},l.default),{myShopSearchStatus:"",otherShopSearchStatus:"",fetchResult:{},myShopSearchKeyword:"",otherShopSearchKeyword:"",selectedProductTab:"other",allShopSearchStatus:""});t.default=_,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"watchProductSagas","/workspace/src/reducers/product/index.js"),c.register(_,"default","/workspace/src/reducers/product/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},"7hFk":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(r("qHss")),s=n(r("+iqz"));function n(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=o.default,i=(0,s.default)(c);t.default=i,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"StickerMessageInstance","/workspace/src/components/MessageSectionLayout/ConversationMessages/StickerMessage/index.js"),l.register(i,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/StickerMessage/index.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},"87Cs":function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.getPosition=function(e){return e?e.getBoundingClientRect():null};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"getPosition","/workspace/src/helpers/position.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},"8K9y":function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=["blue","green","orange","purple","red","yellow"],n=["blue-gray","green-gray","orange-gray","purple-gray","red-gray","yellow-gray"],l=t.getAvatarBackground=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"member",a=e%s.length;return"member"===r?"inactive"===t?n[a]:s[a]:"inactive"===t?"group-gray":"group"};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(s,"backgroundList","/workspace/src/helpers/color.js"),a.register(n,"inactiveBackgroundList","/workspace/src/helpers/color.js"),a.register(l,"getAvatarBackground","/workspace/src/helpers/color.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},"8Wdg":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},onShowScrollToTop=function onShowScrollToTop(WrappedComponent){var indicator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"open";return function(_React$Component){function _class(){return(0,_classCallCheck3.default)(this,_class),(0,_possibleConstructorReturn3.default)(this,(_class.__proto__||(0,_getPrototypeOf2.default)(_class)).apply(this,arguments))}return(0,_inherits3.default)(_class,_React$Component),(0,_createClass3.default)(_class,[{key:"componentDidMount",value:function(){if("function"!=typeof this.instanceRef.handleScrollToTop)throw new Error("WrappedComponent lacks a handleScrollToTop function")}},{key:"componentWillReceiveProps",value:function(e){var t=this.props[indicator];!0===e[indicator]&&!1===t&&this.instanceRef.handleScrollToTop()}},{key:"render",value:function(){var e=this;return _react2.default.createElement(WrappedComponent,(0,_extends3.default)({ref:function(t){e.instanceRef=t}},this.props))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),_class}(_react2.default.Component)},_default=onShowScrollToTop,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(onShowScrollToTop,"onShowScrollToTop","/workspace/src/hocs/onShowScrollToTop.js"),reactHotLoader.register(_default,"default","/workspace/src/hocs/onShowScrollToTop.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"8cBu":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_MainLayout=__webpack_require__("5se9"),_MainLayout2=_interopRequireDefault(_MainLayout),_sellerWebchatService=__webpack_require__("tvxL"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Index=function(_React$PureComponent){function Index(){return(0,_classCallCheck3.default)(this,Index),(0,_possibleConstructorReturn3.default)(this,(Index.__proto__||(0,_getPrototypeOf2.default)(Index)).apply(this,arguments))}return(0,_inherits3.default)(Index,_React$PureComponent),(0,_createClass3.default)(Index,[{key:"render",value:function(){return _react2.default.createElement(_MainLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Index}(_react2.default.PureComponent),selector=function(e){return{toast:(0,_sellerWebchatService.toastSelector)(e),isScChat:(0,_sellerWebchatService.isScChatSelector)(e),showEntry:(0,_sellerWebchatService.showEntrySelector)(e),openedMenu:(0,_sellerWebchatService.openedMenuSelector)(e),currentUser:(0,_sellerWebchatService.currentUserSelector)(e)||{},currentBuyer:(0,_sellerWebchatService.currentBuyerSelector)(e)||{},isSubAccount:(0,_sellerWebchatService.isSubAccountSelector)(e),loginSuccess:(0,_sellerWebchatService.loginSuccessSelector)(e),socketSuccess:(0,_sellerWebchatService.socketSuccessSelector)(e),showChatWindow:(0,_sellerWebchatService.showChatWindowSelector)(e),totalUnreadCount:(0,_sellerWebchatService.totalUnreadConversationsCountSelector)(e),currentConversation:(0,_sellerWebchatService.currentConversationSelector)(e),currentConversationId:(0,_sellerWebchatService.currentConversationIdSelector)(e),showConversationDetail:(0,_sellerWebchatService.showConversationDetailSelector)(e)}},actions={connectSocket:_sellerWebchatService.connectSocket,updateOpenedMenu:_sellerWebchatService.updateOpenedMenu,updateUserRequested:_sellerWebchatService.updateUserRequested,setToastInformation:_sellerWebchatService.setToastInformation,updateGuideRequested:_sellerWebchatService.updateGuideRequested,updateChatWindowStatus:_sellerWebchatService.updateChatWindowStatus,updateConversationDetailStatus:_sellerWebchatService.updateConversationDetailStatus,changeConversationStatusRequested:_sellerWebchatService.changeConversationStatusRequested},_default=(0,_reactRedux.connect)(selector,actions)(Index),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Index,"Index","/workspace/src/containers/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"9bFT":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_index=__webpack_require__("kIFs"),_index2=_interopRequireDefault(_index),_Star=__webpack_require__("bwTI"),_Star2=_interopRequireDefault(_Star),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Stars=function(_React$PureComponent){function Stars(e){(0,_classCallCheck3.default)(this,Stars);var t=(0,_possibleConstructorReturn3.default)(this,(Stars.__proto__||(0,_getPrototypeOf2.default)(Stars)).call(this,e));return t.generateStars=t.generateStars.bind(t),t.handleRateChange=t.handleRateChange.bind(t),t.handleHoverChange=t.handleHoverChange.bind(t),t.state={hoverScore:void 0},t}return(0,_inherits3.default)(Stars,_React$PureComponent),(0,_createClass3.default)(Stars,[{key:"handleRateChange",value:function(e){var t=this.props,r=t.onRateChange;t.editable&&r&&r(e)}},{key:"handleHoverChange",value:function(e,t){if(this.props.editable){var r=e?t+1:void 0;this.setState({hoverScore:r})}}},{key:"generateStars",value:function(e,t){if(e<t){var r=Math.floor(e),a=parseFloat((e-r).toFixed(1));return new Array(t).fill(1,0,r).fill(a,r,r+1).fill(0,r+1)}return new Array(t).fill(1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.score,a=t.total,o=t.size,s=t.editable,n=this.state.hoverScore,l=void 0!==n&&n>r?n:r,u=this.generateStars(l,a);return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.stars,onMouseLeave:function(){return e.handleHoverChange(!1)}},u.map((function(t,r){return _react2.default.createElement(_Star2.default,{editable:s,key:r,rate:t,index:r,size:o,handleClick:e.handleRateChange,handleHover:e.handleHoverChange})}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Stars}(_react2.default.PureComponent);Stars.propTypes={size:_propTypes2.default.string.isRequired,score:_propTypes2.default.number.isRequired,total:_propTypes2.default.number,onRateChange:_propTypes2.default.func,editable:_propTypes2.default.bool},Stars.defaultProps={size:"normal",score:5,total:5,editable:!0};var _default=Stars,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Stars,"Stars","/workspace/src/components/UI/Stars/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/UI/Stars/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"9uOX":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("IVEy")),s=u(r("q1tI")),n=u(r("17x9")),l=u(r("+iqz"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=e.id,r=e.content,a=e.conversation,n=e.sendMessagesRequested,l=e.isSend,u=a.id,c=a.shop_id,i=a.to_id;return s.default.createElement(o.default,{id:t,content:r,sendMessagesRequested:n,conversationId:u,conversationUserId:i,isSend:l,shopId:c})};c.propTypes={id:n.default.string,isSend:n.default.bool,content:n.default.object,conversation:n.default.object,sendMessagesRequested:n.default.func};var i,d,_=(0,l.default)(c);t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"FAQFeedbackPromptMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},DE7l:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__("P2sY"),_assign2=_interopRequireDefault(_assign),_keys=__webpack_require__("GQeE"),_keys2=_interopRequireDefault(_keys),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_List=__webpack_require__("C5SH"),_List2=_interopRequireDefault(_List),_AutoSizer=__webpack_require__("s3ZY"),_AutoSizer2=_interopRequireDefault(_AutoSizer),_CellMeasurer=__webpack_require__("GqUL"),_CellMeasurer2=_interopRequireDefault(_CellMeasurer),_CellMeasurerCache=__webpack_require__("Iatj"),_CellMeasurerCache2=_interopRequireDefault(_CellMeasurerCache),_TranslateTips=__webpack_require__("gfNt"),_TranslateTips2=_interopRequireDefault(_TranslateTips),_UnreadBriefMessages=__webpack_require__("m/jO"),_UnreadBriefMessages2=_interopRequireDefault(_UnreadBriefMessages),_ConversationMessages=__webpack_require__("furG"),_ConversationMessages2=_interopRequireDefault(_ConversationMessages),_catchStatus=__webpack_require__("se/o"),_catchStatus2=_interopRequireDefault(_catchStatus),_sellerWebchatUtils=__webpack_require__("XnKn"),_function=__webpack_require__("yghM"),_message=__webpack_require__("yDfg"),_util=__webpack_require__("KmjB"),_VoucherMessage=__webpack_require__("HSHk"),_VoucherMessage2=_interopRequireDefault(_VoucherMessage),_EvaluationMessage=__webpack_require__("Mqqo"),_EvaluationMessage2=_interopRequireDefault(_EvaluationMessage),_index=__webpack_require__("q+Hb"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MSG_TYPE_IMAGE=_sellerWebchatUtils.MessageTypes.MSG_TYPE_IMAGE,MSG_TYPE_TEXT=_sellerWebchatUtils.MessageTypes.MSG_TYPE_TEXT,MSG_TYPE_ORDER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_ORDER,MSG_TYPE_OFFER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_OFFER,MSG_TYPE_PRODUCT=_sellerWebchatUtils.MessageTypes.MSG_TYPE_PRODUCT,MSG_TYPE_WEBVIEW=_sellerWebchatUtils.MessageTypes.MSG_TYPE_WEBVIEW,MSG_TYPE_NOTIFICATION=_sellerWebchatUtils.MessageTypes.MSG_TYPE_NOTIFICATION,MSG_TYPE_RATE_CARDS=_sellerWebchatUtils.MessageTypes.MSG_TYPE_RATE_CARDS,MSG_TYPE_VOUCHER_WEB=_sellerWebchatUtils.MessageTypes.MSG_TYPE_VOUCHER_WEB,MSG_TYPE_VOUCHER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_VOUCHER,MSG_TYPE_FEED_STORY=_sellerWebchatUtils.MessageTypes.MSG_TYPE_FEED_STORY,MSG_TYPE_CART_REMINDER=_sellerWebchatUtils.MessageTypes.MSG_TYPE_CART_REMINDER,FIVE_MINUTES=3e5,MessageSectionLayout=function(_React$Component){function MessageSectionLayout(e){(0,_classCallCheck3.default)(this,MessageSectionLayout);var t=(0,_possibleConstructorReturn3.default)(this,(MessageSectionLayout.__proto__||(0,_getPrototypeOf2.default)(MessageSectionLayout)).call(this,e));return t.keyMapper=t.keyMapper.bind(t),t.getListRef=t.getListRef.bind(t),t.handleWheel=t.handleWheel.bind(t),t.rowRenderer=t.rowRenderer.bind(t),t.handleScroll=t.handleScroll.bind(t),t.handleRowsRender=t.handleRowsRender.bind(t),t.handleRecomputeRow=t.handleRecomputeRow.bind(t),t.handleMessageListChanged=t.handleMessageListChanged.bind(t),t.handleConversationChanged=t.handleConversationChanged.bind(t),t.handleMessageListLengthUnchanged=t.handleMessageListLengthUnchanged.bind(t),t.addExposedMessageId=t.addExposedMessageId.bind(t),t.debounceShouldFetchPrevMessage=(0,_function.debounce)(t.shouldFetchPrevMessage.bind(t)),t.scrollUpHandler=(0,_function.memFn)(_util.isGreaterThan,10),t.viewNewMessage=t.markMessage.bind(t),t.containerProps={onWheel:t.handleWheel},t._cache=new _CellMeasurerCache2.default({fixedWidth:!0,keyMapper:t.keyMapper}),t.imgCache={},t.listNode=null,t.targetIndex=null,t.startIndex=0,t.stopIndex=0,t.scrollTop=0,t.hasSourceMessageMap={},t.state={firstUnreadMsgId:null,shouldRenderNewMessageTip:!1},t.exposedMessageIds=[],t}return(0,_inherits3.default)(MessageSectionLayout,_React$Component),(0,_createClass3.default)(MessageSectionLayout,[{key:"addExposedMessageId",value:function(e){this.exposedMessageIds.push(e)}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.handleConversationChanged(e.props)}))}},{key:"shouldComponentUpdate",value:function(e,t){var r=this,a=(0,_keys2.default)(e),o=(0,_keys2.default)(this.props);return a.length!==o.length||(t.shouldRenderNewMessageTip!==this.state.shouldRenderNewMessageTip||a.some((function(t){var a=e[t],o=r.props[t],s=!1;switch(t){case"currentConversation":s=a.id!==o.id;break;case"unreadMessageIds":s=!(0,_util.areShallowEqualArrays)(a,o);break;case"messageList":s=!(0,_message.areDeepEqualMessageList)(a,o);break;default:s=a!==o}return s})))}},{key:"componentDidUpdate",value:function(e){var t=e.hasMoreOlderMessage,r=e.messageList,a=e.unreadMessageIds,o=e.currentConversation,s=this.props,n=s.hasMoreOlderMessage,l=s.messageList,u=s.unreadMessageIds,c=s.currentConversation,i={hasMoreOlderMessage:t,messageList:r,conversation:o,unreadMessageIds:a},d={hasMoreOlderMessage:n,messageList:l,unreadMessageIds:u,currentConversationCanRead:s.currentConversationCanRead,conversation:c};c.id===o.id?l.length===r.length?this.handleMessageListLengthUnchanged(i,d):this.handleMessageListChanged(i,d):(this.handleConversationChanged(d),this.exposedMessageIds=[])}},{key:"handleConversationChanged",value:function(e){this.startIndex=0,this.stopIndex=0,this.hasSourceMessageMap={},this.cleanTargetIndex(),this.scrollUpHandler.reset(),this.listNode&&(this.listNode.Grid._rowSizeAndPositionManager.arrangeOffsetData(),this.listNode.forceUpdateGrid(),this.listNode.scrollToPosition(200)),this._cache.clearAll();var t=e.messageList,r=e.unreadMessageIds,a=r.length?r[0]:null,o=a?t.findIndex((function(e){return e.id===a})):null;this.handleAppendMessage({index:o}),this.setState({firstUnreadMsgId:a,shouldRenderNewMessageTip:!1})}},{key:"handleMessageListLengthUnchanged",value:function(e,t){var r=t.messageList,a=t.unreadMessageIds,o=t.currentConversationCanRead,s=this.checkForceRerender(e.messageList,r),n=e.hasMoreOlderMessage&&!t.hasMoreOlderMessage;(s||n)&&this.listNode&&this.listNode.forceUpdateGrid(),(o||e.unreadMessageIds.length&&!a.length)&&this.setState({shouldRenderNewMessageTip:!1});var l=(0,_util.getLastItemFromArray)(r),u=(0,_util.getLastItemFromArray)(e.messageList);if(l&&u){var c=l.type,i=l.request_id,d=l.errorCode,_=l.message_option,p=u.request_id,f=u.retryRequestId,h=u.errorCode,g=u.message_option;(u.id!==l.id&&l.isFaking||c===MSG_TYPE_TEXT&&(i===p&&d!==h&&43===d||(i===p||i===f)&&_!==g&&0!==_)||c===MSG_TYPE_CART_REMINDER&&u.fetchStatus.includes("pending")&&"done"===l.fetchStatus)&&this.handleAppendMessage()}}},{key:"handleMessageListChanged",value:function(e,t){var r=t.messageList,a=t.unreadMessageIds,o=t.conversation,s=t.currentConversationCanRead,n=r.length,l=e.messageList.length,u=0===l&&n>0||this.checkAppend(r,e.messageList),c=((0,_util.getLastItemFromArray)(r)||{}).to_id===o.to_id&&n>l,i=r.findIndex((function(e){return e.id===o.last_read_message_id})),d=!0;(c||!a.length||this.stopIndex>=i||s)&&(d=!1),this.setState({shouldRenderNewMessageTip:d}),!u||!c&&l&&l-1!==this.stopIndex||(this.cleanTargetIndex(),this.handleAppendMessage()),u||(this.cleanTargetIndex(),this.scrollToTarget=this.startIndex+n-l,this.bufferScrollTop=this.scrollTop,this.handlePrependMessage())}},{key:"getListRef",value:function(e){this.listNode=e}},{key:"keyMapper",value:function(e){var t=this.props.messageList[e];return t&&t.id}},{key:"handleWheel",value:function(e){this.targetIndex&&e.deltaY<0&&this.cleanTargetIndex()}},{key:"markMessage",value:function(e){var t=this.props,r=t.showChatWindow,a=t.showConversationDetail,o=t.markMessagesRequested,s=t.currentConversation,n=s.status,l=s.shop_id,u=s.id,c=s.unread_count,i=s.latest_message_id;r&&a&&"closed"!==n&&c>0&&o({shopId:l,isRead:!0,conversationId:u,latestMessageId:i,unreadCount:c}),!e&&this.handleAppendMessage()}},{key:"checkForceRerender",value:function(e,t){var r=e.slice(this.startIndex,this.stopIndex+1),a=t.slice(this.startIndex,this.stopIndex+1);return!(0,_message.areDeepEqualMessageList)(r,a)}},{key:"checkAppend",value:function(e,t){return(t.length?t[0].id:null)===(e.length?e[0].id:null)}},{key:"handleAppendMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.props.messageList.length){var t=e.alignment,r=void 0===t?"end":t,a=e.index,o=void 0===a?null:a,s=o||this.props.messageList.length-1;"end"===r&&(this.targetIndex={index:s,range:this.makeCheckRange(this.startIndex,s)});var n=this.listNode&&"end"!==r?this.listNode.getOffsetForRow({index:s,alignment:r}):null;this.goToBottom({toRow:"end"===r,index:s<0?0:s,position:n})}}},{key:"handlePrependMessage",value:function(){if(this.listNode){var e=this.listNode.getOffsetForRow({index:this.scrollToTarget,alignment:"start"});this.listNode.scrollToPosition(e+this.bufferScrollTop),this._resolveGridPosition()}}},{key:"rowRenderer",value:function(e){var t=this,r=e.index,a=(e.key,e.parent),o=e.style,s=this.props,n=s.messageList,l=s.hasMoreOlderMessage,u=s.isSubAccount,c=s.currentUser,i=n[r];if(!i)return null;var d=n[r-1]||{},_=d.type,p=d.created_timestamp,f=d.content,h=void 0===f?{}:f,g=d.to_id,v=1e3*i.created_timestamp,b=1e3*p,S=v&&!b||v-b>FIVE_MINUTES||0===r&&!l?(0,_sellerWebchatUtils.customizeTime)(v):null,M=i.id===this.state.firstUnreadMsgId,y=r===n.length-1,m=_===MSG_TYPE_NOTIFICATION||_===MSG_TYPE_WEBVIEW&&h&&h.type===MSG_TYPE_RATE_CARDS&&(c.id!==g||u);return _react2.default.createElement(_CellMeasurer2.default,{key:i.id,parent:a,rowIndex:r,columnIndex:0,cache:this._cache},(function(e){var a=e.measure;return t.renderMessage({index:r,style:o,message:i,measure:a,timeFlag:S,isLastMessage:y,newMessageFlag:M,isLastSystemMessage:m})}))}},{key:"handleScroll",value:function(e){var t=e.clientHeight,r=e.scrollHeight,a=e.scrollTop,o=this.props,s=o.hasMoreOlderMessage,n=o.handleComponentScroll;!1!==s&&a<200&&0!==t&&a<this.scrollTop&&this.debounceShouldFetchPrevMessage("older"),this.targetIndex&&this.scrollUpHandler.check(this.scrollTop,a)&&this.cleanTargetIndex(),this.scrollTop>a?n("up"):n("down"),this.scrollTop=a,t+a===r&&(0,_function.debounce)(this.viewNewMessage,250)(!0)}},{key:"handleRecomputeRow",value:function(e){this.targetIndex&&(this.targetIndex.range=this.targetIndex.range.map((function(t){return t.index!==e?t:(0,_assign2.default)({},t,{measured:t.measured-1})})),this.listNode&&this.listNode.scrollToRow(this.targetIndex.index),this._resolveGridPosition(),this.targetIndex.range.every((function(e){return 0===e.measured}))&&this.cleanTargetIndex())}},{key:"cleanTargetIndex",value:function(){this.targetIndex=null}},{key:"makeCheckRange",value:function(e,t){for(var r=[],a=this._cache,o=e<t?e:0;o<=t;){var s=this.props.messageList[o],n=a.has(o),l=s.type===MSG_TYPE_IMAGE&&!this.imgCache[s.id],u=s.type===MSG_TYPE_TEXT&&"enabled"===this.props.autoTranslation&&"succeed"!==s.translateStatus,c=s.type===MSG_TYPE_ORDER&&s.order&&(!s.order.orderId||!s.order.orderStatus),i=s.type===MSG_TYPE_OFFER&&(s.textContent&&s.textContent.id||s.textContent&&!(0,_keys2.default)(s.textContent).length),d=s.type===MSG_TYPE_PRODUCT&&s.textContent&&(!s.textContent.id||!s.textContent.actual_price_string),_=s.type===MSG_TYPE_WEBVIEW&&s.content&&s.content.type===MSG_TYPE_VOUCHER_WEB&&!s.content.reward,p=s.type===MSG_TYPE_VOUCHER&&s.textContent&&!s.textContent.reward,f=s.type===MSG_TYPE_FEED_STORY&&s.textContent&&!s.textContent.id,h=l||u||c||i||d||p||_||f;n?h&&r.push({index:o,measured:2}):r.push({index:o,measured:h?2:1}),o++}return r}},{key:"handleRowsRender",value:function(e){var t=e.startIndex,r=e.stopIndex,a=this.props,o=a.messageList,s=a.currentConversationCanRead,n=a.setCurrentConversationCanRead;if(this.startIndex=t,this.stopIndex=r,this.targetIndex){var l=this.targetIndex.range.filter((function(e){return e.index>=t&&e.measured>0}));l.length?this.targetIndex.range=l:this.cleanTargetIndex()}this.stopIndex<o.length-1&&s?n({canRead:!1}):this.stopIndex!==o.length-1||s||n({canRead:!0})}},{key:"shouldFetchPrevMessage",value:function(e){if(this.scrollTop<200){var t=this.props;(0,t.fetchRequested)({conversation:t.currentConversation,direction:e})}}},{key:"goToBottom",value:function(e){var t=this,r=e.toRow,a=e.index,o=e.position;r?this.listNode&&this.listNode.scrollToRow(a):this.listNode&&this.listNode.scrollToPosition(o),setTimeout((function(){r?t.listNode&&t.listNode.scrollToRow(a):t.listNode&&t.listNode.scrollToPosition(o),t._resolveGridPosition()}))}},{key:"_resolveGridPosition",value:function(){this.listNode&&(this.listNode.measureAllRows(),this.listNode.Grid._rowSizeAndPositionManager.resetCell(0),this.listNode.Grid._rowSizeAndPositionManager.getTotalSize())}},{key:"renderMessage",value:function(e){var t=e.index,r=e.style,a=e.message,o=e.measure,s=e.timeFlag,n=e.fromSameUser,l=e.isLastMessage,u=e.newMessageFlag,c=e.isLastSystemMessage,i=this.props,d=i.isScChat,_=i.currentUser,p=i.currentBuyer,f=i.isSubAccount,h=i.visitMallRequested,g=i.currentConversation,v=i.resendMessageRequested,b=i.populateMessageRequested,S=i.visitShopSellerCenterRequested,M=i.sendMessagesRequested,y=i.fetchFaqMessagesRequested,m=i.showModal,C=i.closeModal,k=a.type,L=a.content,R=void 0===L?{}:L,E=a.to_id,T=(0,_ConversationMessages2.default)(k);if(a.type===MSG_TYPE_WEBVIEW){var w=a.content.type;w===MSG_TYPE_VOUCHER_WEB||R.url&&R.url.includes("voucher")?(T=_VoucherMessage2.default,a.textContent=a.content):w===MSG_TYPE_RATE_CARDS&&E===_.id&&(T=_EvaluationMessage2.default)}return _react2.default.createElement(T,{showModal:m,closeModal:C,index:t,style:r,message:a,measure:o,timeFlag:s,isScChat:d,imgCache:this.imgCache,currentUser:_,currentBuyer:p,fromSameUser:n,isSubAccount:f,isLastMessage:l,newMessageFlag:u,conversation:g,visitMallRequested:h,isLastSystemMessage:c,hasSourceMessageMap:this.hasSourceMessageMap,resendMessageRequested:v,populateMessageRequested:b,visitShopSellerCenterRequested:S,sendMessagesRequested:M,fetchFaqMessagesRequested:y,addExposedMessageId:this.addExposedMessageId,exposedMessageIds:this.exposedMessageIds})}},{key:"render",value:function(){var e=this,t=this.props,r=t.currentUser,a=t.messageList,o=void 0===a?[]:a,s=t.unreadMessageIds,n=void 0===s?[]:s,l=t.currentConversation,u=t.translateTips,c=t.updateTranslateTips,i=t.autoTranslation,d=t.isSubAccount,_=l.status,p=l.shop_id,f=l.to_name,h=l.auto_translation,g=o.filter((function(e){return n.includes(e.id)})),v=g.length?g[g.length-1]:null,b=!u[p]||"closed"!==u[p],S=d&&b&&h||!d&&"enabled"===i&&b,M=o.length||1;return _react2.default.createElement("div",{className:_index2.default.messageSection},_react2.default.createElement(_AutoSizer2.default,null,(function(t){var r=t.width,a=t.height;return _react2.default.createElement(_List2.default,{width:r,height:a,containerStyle:{},ref:e.getListRef,overscanRowCount:10,className:_index2.default.grid,onScroll:e.handleScroll,rowCount:M,rowRenderer:e.rowRenderer,rowHeight:e._cache.rowHeight,containerProps:e.containerProps,onRowsRendered:e.handleRowsRender,deferredMeasurementCache:e._cache,onRecomputeGrid:e.handleRecomputeRow})})),this.state.shouldRenderNewMessageTip&&"closed"!==_&&_react2.default.createElement(_UnreadBriefMessages2.default,{currentUser:r,username:f,message:v||{},onClick:this.viewNewMessage}),S&&_react2.default.createElement(_TranslateTips2.default,{currentConversation:l,updateTranslateTips:c}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MessageSectionLayout}(_react2.default.Component);MessageSectionLayout.propTypes={hasMoreOlderMessage:_propTypes2.default.bool,isScChat:_propTypes2.default.bool,messageList:_propTypes2.default.array,currentUser:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,currentBuyer:_propTypes2.default.object,translateTips:_propTypes2.default.object,fetchRequested:_propTypes2.default.func,autoTranslation:_propTypes2.default.string,unreadMessageIds:_propTypes2.default.array,visitMallRequested:_propTypes2.default.func,updateTranslateTips:_propTypes2.default.func,currentConversation:_propTypes2.default.object,handleComponentScroll:_propTypes2.default.func,markMessagesRequested:_propTypes2.default.func,resendMessageRequested:_propTypes2.default.func,populateMessageRequested:_propTypes2.default.func,currentConversationCanRead:_propTypes2.default.bool,setCurrentConversationCanRead:_propTypes2.default.func,visitShopSellerCenterRequested:_propTypes2.default.func,showChatWindow:_propTypes2.default.bool,showConversationDetail:_propTypes2.default.bool,sendMessagesRequested:_propTypes2.default.func,fetchFaqMessagesRequested:_propTypes2.default.func,showModal:_propTypes2.default.func,closeModal:_propTypes2.default.func};var _default=(0,_catchStatus2.default)(MessageSectionLayout,"revered"),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MSG_TYPE_IMAGE,"MSG_TYPE_IMAGE","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_TEXT,"MSG_TYPE_TEXT","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_ORDER,"MSG_TYPE_ORDER","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_OFFER,"MSG_TYPE_OFFER","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_PRODUCT,"MSG_TYPE_PRODUCT","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_WEBVIEW,"MSG_TYPE_WEBVIEW","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_NOTIFICATION,"MSG_TYPE_NOTIFICATION","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_RATE_CARDS,"MSG_TYPE_RATE_CARDS","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_VOUCHER_WEB,"MSG_TYPE_VOUCHER_WEB","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_VOUCHER,"MSG_TYPE_VOUCHER","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_FEED_STORY,"MSG_TYPE_FEED_STORY","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MSG_TYPE_CART_REMINDER,"MSG_TYPE_CART_REMINDER","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(FIVE_MINUTES,"FIVE_MINUTES","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(MessageSectionLayout,"MessageSectionLayout","/workspace/src/components/MessageSectionLayout/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},DI0R:function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_objectWithoutProperties2=__webpack_require__("jo6Y"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("T1DP"),_index2=_interopRequireDefault(_index),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_ProductBody=__webpack_require__("XftY"),_ProductBody2=_interopRequireDefault(_ProductBody),_OrderBody=__webpack_require__("FHw+"),_OrderBody2=_interopRequireDefault(_OrderBody),_Footer=__webpack_require__("ymbT"),_Footer2=_interopRequireDefault(_Footer),_messageCardLabel=__webpack_require__("kiWX"),_messageCardLabel2=_interopRequireDefault(_messageCardLabel),_sellerWebchatUtils=__webpack_require__("XnKn"),_sellerWebchatService=__webpack_require__("tvxL"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},SpecialMessageCard=function(_React$PureComponent){function SpecialMessageCard(e){(0,_classCallCheck3.default)(this,SpecialMessageCard);var t=(0,_possibleConstructorReturn3.default)(this,(SpecialMessageCard.__proto__||(0,_getPrototypeOf2.default)(SpecialMessageCard)).call(this,e));return t.visitInSC=t.visitInSC.bind(t),t.visitOrderInSC=t.visitOrderInSC.bind(t),t.visitProductInSC=t.visitProductInSC.bind(t),t.renderCardHeader=t.renderCardHeader.bind(t),t}return(0,_inherits3.default)(SpecialMessageCard,_React$PureComponent),(0,_createClass3.default)(SpecialMessageCard,[{key:"componentDidMount",value:function(){var e=this.props,t=e.category,r=e.type,a=e.id,o=r+"_message"+("source"===t?"_source":""),s={};"source"===t?s[r+"_id"]=a:"offer"===r?s.itemid=a:s[r+"_id"]=a,(0,_sellerWebchatService.tracker)("conversation_window",o,s,"impression")}},{key:"renderCardHeader",value:function(){var e=this.props.type,t=$t(_messageCardLabel2.default.message[e]);return _react2.default.createElement("div",{className:_index2.default.header},t)}},{key:"visitInSC",value:function(){var e=this.props,t=e.category,r=e.type;"source"===t&&("product"===r?this.visitProductInSC():"order"===r&&this.visitOrderInSC())}},{key:"visitProductInSC",value:function(){var e=this.props.extraProps,t=e.isScChat,r=e.isSubAccount,a=e.scProductLink,o=e.mallProductLink,s=e.hasViewProductAccess,n=e.visitShopSellerCenterRequested,l=e.shopId,u=e.itemId;if((0,_sellerWebchatService.tracker)("conversation_window","product_message_source",{product_id:u}),t){var c=r?function(){n({shopId:l,itemId:u})}:a;(0,_sellerWebchatUtils.viewLinkWithAccess)(s,c)}else window.open(o)}},{key:"visitOrderInSC",value:function(){var e=this.props.extraProps,t=e.isScChat,r=e.hasViewOrderAccess,a=e.visitShopSellerCenterRequested,o=e.isSubAccount,s=e.shopId,n=e.orderLink,l=e.mallOrderLink,u=e.orderId;if((0,_sellerWebchatService.tracker)("conversation_window","order_message_source",{order_id:u}),t){var c=o?function(){a({shopId:s,orderId:u})}:n;(0,_sellerWebchatUtils.viewLinkWithAccess)(r,c)}else window.open(l)}},{key:"render",value:function(){var e=this.props,t=e.category,r=e.type,a=e.image,o=(0,_objectWithoutProperties3.default)(e,["category","type","image"]),s=o.extraProps,n=s.hasViewOrderAccess,l=s.hasViewProductAccess,u=s.isSend,c=n||l,i=_index2.default.root+" "+("source"===t?_index2.default.source:_index2.default[r]);return _react2.default.createElement("div",{className:i,onClick:this.visitInSC,style:{cursor:c?"pointer":"default"}},"message"===t&&this.renderCardHeader(),"product"===r&&_react2.default.createElement(_ProductBody2.default,(0,_extends3.default)({category:t,image:a},o)),"order"===r&&_react2.default.createElement(_OrderBody2.default,(0,_extends3.default)({category:t,image:a},o)),"message"!==t||"order"!==r&&"product"!==r?_react2.default.createElement(_Footer2.default,(0,_extends3.default)({isSend:u,category:t,type:r},o)):null)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SpecialMessageCard}(_react2.default.PureComponent);SpecialMessageCard.propTypes={id:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),currentUser:_propTypes2.default.object,category:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,image:_propTypes2.default.string,extraProps:_propTypes2.default.object.isRequired},SpecialMessageCard.defaultProps={category:"source"};var _default=SpecialMessageCard,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(SpecialMessageCard,"SpecialMessageCard","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},DUT9:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=i(r("7gef")),s=i(r("q1tI")),n=i(r("17x9")),l=r("tvxL"),u=i(r("+iqz")),c=r("XnKn");function i(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d=function(e){var t=e.id,r=e.type,a=e.isSend,n=e.content,u=e.country,i=e.measure,d=e.isSubAccount,_=e.textContent,p=void 0===_?{}:_,f=e.handleReload,h=e.conversation,g=void 0===h?{}:h,v=e.replyOfferRequested;return s.default.createElement(o.default,{id:t,type:r,isSend:a,country:u,measure:i,onReply:function(e){(0,l.tracker)("conversation_window",e.isAccept?"accept_offer":"reject_offer",{itemid:p.id}),v(e)},priceBeforeTax:n.price_before_tax,taxValue:n.tax_value,textContent:p,handleReload:f,onClickDetail:function(){var e=n.shop_id,t=n.product_id;window.open("https://"+(d?(0,c.getMallUrl)(u):(0,c.getMallUrl)())+"/product/"+e+"/"+t+"/")},conversationClosed:"closed"===g.status,isFromSelf:g.shop_id!==n.shop_id})};d.propTypes={id:n.default.string,type:n.default.string,isSend:n.default.bool,measure:n.default.func,country:n.default.string,content:n.default.object,textContent:n.default.object,isSubAccount:n.default.bool,handleReload:n.default.func,conversation:n.default.object,replyOfferRequested:n.default.func};var _,p,f=(0,u.default)(d);t.default=f,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(d,"_OfferMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/layout.js"),_.register(f,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/layout.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},DkPT:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("FxhH")),s=u(r("q1tI")),n=u(r("17x9")),l=u(r("+iqz"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=e.conversation,r=e.sendMessagesRequested,a=e.isSend,n=t.id,l=t.shop_id,u=t.to_id;return s.default.createElement(o.default,{sendMessagesRequested:r,isSend:a,conversationId:n,shopId:l,conversationUserId:u})};c.propTypes={isSend:n.default.bool,conversation:n.default.object,sendMessagesRequested:n.default.func};var i,d,_=(0,l.default)(c);t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"FAQLiveAgentPromptMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQLiveAgentPromptMessage/index.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQLiveAgentPromptMessage/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},F2Lx:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(r("74Ao")),s=n(r("+iqz"));function n(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=o.default,i=(0,s.default)(c);t.default=i,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"ImageMessageInstance","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),l.register(i,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},"FHw+":function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("oL4b"),_index2=_interopRequireDefault(_index),_common=__webpack_require__("tIYL"),_common2=_interopRequireDefault(_common),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_sellerWebchatUi=__webpack_require__("h4gR"),_refundOrder=__webpack_require__("WNfc"),_refundOrder2=_interopRequireDefault(_refundOrder),_unpaid=__webpack_require__("4Al/"),_unpaid2=_interopRequireDefault(_unpaid),_shipOrder=__webpack_require__("VZ59"),_shipOrder2=_interopRequireDefault(_shipOrder),_shipingOrder=__webpack_require__("r92p"),_shipingOrder2=_interopRequireDefault(_shipingOrder),_completedOrder=__webpack_require__("tMYO"),_completedOrder2=_interopRequireDefault(_completedOrder),_cancelOrder=__webpack_require__("6XUW"),_cancelOrder2=_interopRequireDefault(_cancelOrder),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},OrderIconMap={unpaid:_unpaid2.default,to_ship:_shipOrder2.default,shipping:_shipingOrder2.default,completed:_completedOrder2.default,cancelled:_cancelOrder2.default,refund:_refundOrder2.default},OrderBody=function(_React$PureComponent){function OrderBody(e){(0,_classCallCheck3.default)(this,OrderBody);var t=(0,_possibleConstructorReturn3.default)(this,(OrderBody.__proto__||(0,_getPrototypeOf2.default)(OrderBody)).call(this,e));return t.renderOrderStatus=t.renderOrderStatus.bind(t),t.renderOrderInfo=t.renderOrderInfo.bind(t),t}return(0,_inherits3.default)(OrderBody,_React$PureComponent),(0,_createClass3.default)(OrderBody,[{key:"renderOrderStatus",value:function(e){var t=e.status,r=e.statusText,a=OrderIconMap[t];return _react2.default.createElement("div",{className:_index2.default.orderStatus},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:a,className:_index2.default.statusIcon+" "+_index2.default[t]}),_react2.default.createElement("div",{className:_index2.default.statusText,title:r},r))}},{key:"renderOrderInfo",value:function(e){var t=e.price;return _react2.default.createElement("div",{className:_index2.default.orderInfo},_react2.default.createElement("div",{className:_index2.default.firstBlock},_react2.default.createElement("div",{className:_index2.default.payment},$t("common.order.payment"),": "),_react2.default.createElement("div",{className:_index2.default.income},t)))}},{key:"render",value:function(){var e=this.props,t=e.category,r=e.image,a=e.price,o=e.extraProps,s=o.itemCount,n=this.renderOrderStatus(o),l=$t("conversation_detail.message_list.order_total_price",{orderTotalPrice:a}),u=$t("conversation_detail.message_list.order_product_count"+(s>1?"s":""),{orderProductCount:s});return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_common2.default.detailBlock},_react2.default.createElement("div",{className:_common2.default.image},_react2.default.createElement(_Image2.default,{src:r}),_react2.default.createElement("div",{className:_common2.default.imageBorder})),_react2.default.createElement("div",{className:_common2.default.content},n,"source"===t?_react2.default.createElement("div",{className:_index2.default.detail},_react2.default.createElement("div",{className:_index2.default.payment,title:l},l),_react2.default.createElement("div",{className:_common2.default.divider}),_react2.default.createElement("div",{className:_index2.default.sourceCount,title:u},u)):_react2.default.createElement("div",{className:_index2.default.count},u))),"message"===t&&this.renderOrderInfo({price:a,extraProps:o}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),OrderBody}(_react2.default.PureComponent);OrderBody.propTypes={image:_propTypes2.default.string,price:_propTypes2.default.string,category:_propTypes2.default.string,extraProps:_propTypes2.default.object.isRequired};var _default=OrderBody,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(OrderIconMap,"OrderIconMap","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OrderBody/index.js"),reactHotLoader.register(OrderBody,"OrderBody","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OrderBody/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OrderBody/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},FO8H:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_sellerWebchatService=__webpack_require__("tvxL"),_ConversationDetailLayout=__webpack_require__("X3FT"),_ConversationDetailLayout2=_interopRequireDefault(_ConversationDetailLayout),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ConversationDetail=function(_React$PureComponent){function ConversationDetail(){return(0,_classCallCheck3.default)(this,ConversationDetail),(0,_possibleConstructorReturn3.default)(this,(ConversationDetail.__proto__||(0,_getPrototypeOf2.default)(ConversationDetail)).apply(this,arguments))}return(0,_inherits3.default)(ConversationDetail,_React$PureComponent),(0,_createClass3.default)(ConversationDetail,[{key:"render",value:function(){return _react2.default.createElement(_ConversationDetailLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ConversationDetail}(_react2.default.PureComponent),selector=function(e){return{}},actions={sendMessagesRequested:_sellerWebchatService.sendMessagesRequested,showModal:_sellerWebchatService.showModal,closeModal:_sellerWebchatService.closeModal,blockUserRequested:_sellerWebchatService.blockUserRequested},_default=(0,_reactRedux.connect)(selector,actions)(ConversationDetail),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ConversationDetail,"ConversationDetail","/workspace/src/containers/ConversationDetail/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/ConversationDetail/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/ConversationDetail/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/ConversationDetail/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},GC6J:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_message=__webpack_require__("yDfg"),_index=__webpack_require__("zeYU"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},CustomMessage=function(_React$PureComponent){function CustomMessage(){return(0,_classCallCheck3.default)(this,CustomMessage),(0,_possibleConstructorReturn3.default)(this,(CustomMessage.__proto__||(0,_getPrototypeOf2.default)(CustomMessage)).apply(this,arguments))}return(0,_inherits3.default)(CustomMessage,_React$PureComponent),(0,_createClass3.default)(CustomMessage,[{key:"render",value:function(){var e=this.props,t=e.type,r=e.isSend;return _react2.default.createElement("div",{className:_index2.default.root+" "+(r?_index2.default.send:"")},(0,_message.getCustomMessageText)(t))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CustomMessage}(_react2.default.PureComponent);CustomMessage.propTypes={type:_propTypes2.default.string,isSend:_propTypes2.default.bool};var _default=(0,_BaseMessage2.default)(CustomMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(CustomMessage,"CustomMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/CustomMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/CustomMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},GGlB:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a={DELETED:"deleted",BANNED:"banned",NORMAL:"normal",SOLD_OUT:"sold_out"};t.default=a;var o,s,n=t.statusMap={deleted:"common.product.deleted",banned:"common.product.suspended",sold_out:"conversation_detail.conversation_origin.product_origin.sold_out",normal:"conversation_detail.conversation_origin.product_origin.product_stock"};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(n,"statusMap","/workspace/src/constants/productStatus.js"),o.register(a,"default","/workspace/src/constants/productStatus.js")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r("YuTi")(e))},GRUa:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("Aabj")),s=u(r("q1tI")),n=u(r("17x9")),l=u(r("+iqz"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=e.measure,r=e.content,a=e.evaluationRequested,n=e.handleReload;return s.default.createElement(o.default,{measure:t,content:r,handleReload:n,onSubmit:function(e){return a(e)}})};c.propTypes={measure:n.default.func,content:n.default.object,handleReload:n.default.func,evaluationRequested:n.default.func};var i,d,_=(0,l.default)(c);t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"_EvaluationMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/layout.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/layout.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},HSHk:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=i(r("/j1d")),s=i(r("q1tI")),n=r("/MKj"),l=i(r("+iqz")),u=r("tvxL"),c=r("empP");function i(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,_,p=function(e){return s.default.createElement(o.default,e)},f=function(e){return{locale:(0,u.localeSelector)(e),isSubAccount:(0,u.isSubAccountSelector)(e),hasViewVoucherAccess:(0,u.hasViewVoucherAccessSelector)(e)}},h={claimVoucherRequested:u.claimVoucherRequested,visitShopSellerCenterRequested:c.visitShopSellerCenterRequested},g=(0,l.default)((0,n.connect)(f,h)(p));t.default=g,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(p,"VoucherMessageContainer","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js"),d.register(f,"selector","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js"),d.register(h,"actions","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js"),d.register(g,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},HhcG:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=d(r("TZtu")),s=d(r("q1tI")),n=d(r("17x9")),l=r("/MKj"),u=d(r("+iqz")),c=r("empP"),i=r("XnKn");function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var _=function(e){var t=e.content,r=t.order_id,a=t.shop_id,n=e.textContent,l=e.isSend,u=e.handleReload,c=e.conversation,d=c.hasViewOrderAccess,_=c.shop,p=e.isSubAccount,f=e.visitShopSellerCenterRequested,h=e.track,g=(0,i.isVisitingCNSC)()?"cn":(_?_.country:"SG").toLowerCase();return s.default.createElement(o.default,{isSend:l,region:g,textContent:n,handleReload:u,hasViewOrderAccess:d,visitUnratedOrderRequest:function(){var e="https://"+(0,i.getMallUrl)(g)+"/user/purchase/order/"+r+"/?shopid="+a,t="https://"+(0,i.getSellerCenterUrl)(g)+"/portal/sale/"+r;if(l){var o=p?function(){return f({shopId:a,orderId:r})}:t;(0,i.viewLinkWithAccess)(d,o)}else window.open(e)},track:h})},p=function(){return{}},f={visitShopSellerCenterRequested:c.visitShopSellerCenterRequested};_.propTypes={isSend:n.default.bool,handleReload:n.default.func,content:n.default.object,textContent:n.default.object,conversation:n.default.object,isSubAccount:n.default.bool,visitShopSellerCenterRequested:n.default.func,track:n.default.func};var h,g,v=(0,u.default)((0,l.connect)(p,f)(_));t.default=v,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(_,"RateReminderMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/RateReminderMessage/index.js"),h.register(p,"mapStateToProps","/workspace/src/components/MessageSectionLayout/ConversationMessages/RateReminderMessage/index.js"),h.register(f,"mapDispatchToProps","/workspace/src/components/MessageSectionLayout/ConversationMessages/RateReminderMessage/index.js"),h.register(v,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/RateReminderMessage/index.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("YuTi")(e))},JbkK:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.resetReducers=t.reduxReset=void 0;var a,o=c(r("YEIV")),s=c(r("QbLZ")),n=c(r("sk9p")),l=c(r("oF3Q")),u=r("6SzI");function c(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=(0,u.createActions)({REDUX_RESET:function(){return{}}}).reduxReset;t.reduxReset=i;var d,_,p=t.resetReducers=function(e,t){return(0,l.default)(t).reduce((function(t,r){var a=(0,n.default)(r,2),l=a[0],u=a[1];return(0,s.default)({},t,(0,o.default)({},l,(function(t,r){return r.type!==""+i||e.blacklist.includes(l)||(t=void 0),u(t,r)})))}),{})};(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"reduxReset","/workspace/src/reducers/reset.js"),d.register(p,"resetReducers","/workspace/src/reducers/reset.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},Jitt:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_index=__webpack_require__("5BYv"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},LoadingSpin=function(_PureComponent){function LoadingSpin(){return(0,_classCallCheck3.default)(this,LoadingSpin),(0,_possibleConstructorReturn3.default)(this,(LoadingSpin.__proto__||(0,_getPrototypeOf2.default)(LoadingSpin)).apply(this,arguments))}return(0,_inherits3.default)(LoadingSpin,_PureComponent),(0,_createClass3.default)(LoadingSpin,[{key:"render",value:function(){var e=this.props.theme,t=_index2.default.root+" "+("light"===e?_index2.default.lightLoading:"");return _react2.default.createElement("div",{className:t})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LoadingSpin}(_react.PureComponent);LoadingSpin.propTypes={theme:_propTypes2.default.string};var _default=LoadingSpin,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(LoadingSpin,"LoadingSpin","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/LoadingSpin/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/LoadingSpin/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},KmjB:function(e,t,r){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.hasTargetMessageOption=t.greaterThan=t.translateText=t.deepMerge=t.handleCopy=t.camelCase=t.simpleEqualCheck=t.debounce=t.getErrorString=t.getInvalidKey=t.splitStringIntoDom=t.splitString=t.checkEmpty=t.getLocation=t.handleImagePlaceholderInText=t.calculateTextRenderedLength=t.getLastItemFromArray=t.isGreaterThan=t.areShallowEqualArrays=void 0;var o,s=u(r("gDS+")),n=u(r("GQeE")),l=u(r("FyfS"));function u(e){return e&&e.__esModule?e:{default:e}}t.encode=R,(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=t.areShallowEqualArrays=function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},i=t.isGreaterThan=function(e,t){return e>t},d=t.getLastItemFromArray=function(e){return e[e.length-1]},_=t.calculateTextRenderedLength=function(e,t){var r=document.body,a=document.createElement("span");r.appendChild(a),a.innerHTML=e,a.style.fontSize=t+"px",a.style.position="fixed",a.style.left=-1e3,a.style.top=-1e3;var o=a.getBoundingClientRect().width;return r.removeChild(a),o},p=t.handleImagePlaceholderInText=function(e,t,r){var a=[],o=[],s=!0,n=!1,u=void 0;try{for(var c,i=(0,l.default)(t);!(s=(c=i.next()).done);s=!0){var d=c.value,_=e.indexOf(d.key);-1!==_&&a.push({key:_,content:d.content})}}catch(e){n=!0,u=e}finally{try{!s&&i.return&&i.return()}finally{if(n)throw u}}return a.sort((function(e,t){return e.key-t.key})),a.forEach((function(t,s){0===s&&s!==a.length-1?o.push("<span class="+r+">"+e.substring(0,t.key)+"</span>","<span class="+t.content+"></span>"):0===s&&s===a.length-1?o.push("<span class="+r+">"+e.substring(0,t.key)+"</span>","<span class="+t.content+"></span>","<span class="+r+">"+e.substring(t.key+1,e.length)+"</span>"):s!==a.length-1?o.push("<span class="+r+">"+e.substring(a[s-1].key+1,t.key)+"</span>","<span class="+t.content+"></span>"):o.push("<span class="+r+">"+e.substring(a[s-1].key+1,t.key)+"</span>","<span class="+t.content+"></span>","<span class="+r+">"+e.substring(t.key+1,e.length)+"</span>")})),o.join("")},f=t.getLocation=function(){var e=window.location&&window.location.hostname,t=e&&e.split(".");return e&&e.includes("cn")?"xiapi"===t[1]?"tw":t[1].toLowerCase():t[t.length-1].toLowerCase()},h=t.checkEmpty=function(e){return"string"==typeof e&&(e=e.trim()),!(!e||0===(0,n.default)(e).length)},g=t.splitString=function(e,t,r){if(!e.includes(t))return e;var a=e.lastIndexOf(t);return""+e.substring(0,a)+(r?"<span class="+r+"></span>":"")+"<span>"+t+"</span>"+e.substring(a+t.length,e.length)},v=t.splitStringIntoDom=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t){var a=e,o=void 0;return Array.isArray(t)?t.forEach((function(e){" > "===e?(o=new RegExp(e,"ig"),a=a.replace(o,"<span>"+e+"</span>")):a=g(a,e,r)})):a=g(a,t,r),a}},b=t.getInvalidKey=function(e){var t="";return"username"===e?t="login_error.username_field.not_exist":"captcha"===e||"verification"===e?t="login_error."+e+"_field.incorrect":"password"===e&&(t="login_error.exception.not_matched"),a(t)},S=t.getErrorString=function(e,t){var r=void 0;return"string"==typeof e?r=e:Array.isArray(e)&&(r=e.map((function(e){switch(e.code){case"invalid":return b(t);case"authorize":return a("login_error.exception.no_authorization");case"server":return a("login_error.exception.server_error")}})).join(" ")),r},M=t.debounce=function(e,t){var r=null;return function(){for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];r&&(clearTimeout(r),r=null),r=setTimeout((function(){e.apply(void 0,o)}),t)}},y=t.simpleEqualCheck=function(e,t){return(0,s.default)(e)===(0,s.default)(t)},m=t.camelCase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()}))},C=t.handleCopy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],r=document.createElement("input"),a=document.getElementById(window.miniChatContainerId)||document.body;r.setAttribute("readonly","readonly"),r.setAttribute("value",e),a.appendChild(r),r.focus(),r.setSelectionRange(0,-1),document.execCommand("copy")&&t&&t(),a.removeChild(r)},k=t.deepMerge=function e(t,r){var a=JSON.parse((0,s.default)(t));for(var o in r)a[o]=a[o]&&"[object Object]"===a[o].toString()?e(a[o],r[o]):r[o];return a},L=t.translateText=function(e){return"string"==typeof e?e:a(e.key,e.vars)};function R(e){var t=new Uint16Array(e.length);return Array.prototype.forEach.call(t,(function(t,r,a){a[r]=e.charCodeAt(r)})),window.encodeURIComponent(window.btoa(String.fromCharCode.apply(null,new Uint8Array(t.buffer))))}var E,T,w=t.greaterThan=function(e,t){if(!e)return!1;if(!t)return!0;if((e+="").length!==(t+="").length)return e.length>t.length;var r=e.split(""),a=null;return r.forEach((function(e,r){"boolean"!=typeof a&&(a=e>t[r]||e===t[r]&&null)})),!!a},q=t.hasTargetMessageOption=function(e,t){return(e&t)===t};(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(c,"areShallowEqualArrays","/workspace/src/helpers/util.js"),E.register(i,"isGreaterThan","/workspace/src/helpers/util.js"),E.register(d,"getLastItemFromArray","/workspace/src/helpers/util.js"),E.register(_,"calculateTextRenderedLength","/workspace/src/helpers/util.js"),E.register(p,"handleImagePlaceholderInText","/workspace/src/helpers/util.js"),E.register(f,"getLocation","/workspace/src/helpers/util.js"),E.register(h,"checkEmpty","/workspace/src/helpers/util.js"),E.register(g,"splitString","/workspace/src/helpers/util.js"),E.register(v,"splitStringIntoDom","/workspace/src/helpers/util.js"),E.register(b,"getInvalidKey","/workspace/src/helpers/util.js"),E.register(S,"getErrorString","/workspace/src/helpers/util.js"),E.register(M,"debounce","/workspace/src/helpers/util.js"),E.register(y,"simpleEqualCheck","/workspace/src/helpers/util.js"),E.register(m,"camelCase","/workspace/src/helpers/util.js"),E.register(C,"handleCopy","/workspace/src/helpers/util.js"),E.register(k,"deepMerge","/workspace/src/helpers/util.js"),E.register(L,"translateText","/workspace/src/helpers/util.js"),E.register(R,"encode","/workspace/src/helpers/util.js"),E.register(w,"greaterThan","/workspace/src/helpers/util.js"),E.register(q,"hasTargetMessageOption","/workspace/src/helpers/util.js")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)}).call(this,r("YuTi")(e),r("kiXb").t)},LcIU:function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _processor=__webpack_require__("yYuc"),_processor2=_interopRequireDefault(_processor),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_classnames=__webpack_require__("TSYQ"),_classnames2=_interopRequireDefault(_classnames),_index=__webpack_require__("P3mV"),_index2=_interopRequireDefault(_index),_message=__webpack_require__("yDfg"),_sellerWebchatUtils=__webpack_require__("XnKn"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FAQHistoryMessage=function(_React$PureComponent){function FAQHistoryMessage(){return(0,_classCallCheck3.default)(this,FAQHistoryMessage),(0,_possibleConstructorReturn3.default)(this,(FAQHistoryMessage.__proto__||(0,_getPrototypeOf2.default)(FAQHistoryMessage)).apply(this,arguments))}return(0,_inherits3.default)(FAQHistoryMessage,_React$PureComponent),(0,_createClass3.default)(FAQHistoryMessage,[{key:"render",value:function(){var e=this.props,t=e.id,r=e.conversation.shop_id,a=e.isSend,o=e.content.messages,s=void 0===o?[]:o,n=e.textContent,l=void 0===n?{}:n,u=e.showModal,c=e.fetchFaqMessagesRequested,i=e.handleReload,d=l.messages,_=void 0===d?[]:d,p=l.error,f=(0,_classnames2.default)(_index2.default.root,a?_index2.default.send:_index2.default.receive),h=_.filter((function(e){return"webview"!==e.type})).map((function(e){var t,r={username:(t=e).from_user_name,content:(0,_message.previewMessage)(t)},a=r.username,o=r.content;return _react2.default.createElement("div",{key:e.id,className:_index2.default.preview},a+": "+o)}));if(p)return _react2.default.createElement(_processor2.default,{type:"reload",messageType:_sellerWebchatUtils.MessageTypes.MSG_TYPE_FAQ_HISTORY,reloadRequest:i});var g={height:18*(s.length>3?3:s.length)+"px"};return _react2.default.createElement("div",{className:f,onClick:function(){u({type:"FAQ_MODAL",show:!0}),c({sourceId:t,shopId:r,reset:!0})}},_react2.default.createElement("div",{className:_index2.default.header},$t("conversation_list.conversation_cell.new_bundle_message_message")),_react2.default.createElement("div",{style:g},h),_react2.default.createElement("div",{className:_index2.default.footer},$t("faq_history.see_all")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FAQHistoryMessage}(_react2.default.PureComponent);FAQHistoryMessage.propTypes={id:_propTypes2.default.string,isSend:_propTypes2.default.bool,showModal:_propTypes2.default.func,content:_propTypes2.default.object,textContent:_propTypes2.default.object,handleReload:_propTypes2.default.func,conversation:_propTypes2.default.object,fetchFaqMessagesRequested:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(FAQHistoryMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(FAQHistoryMessage,"FAQHistoryMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQHistoryMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQHistoryMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},M2OP:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentFaqId=t.updateFetchFaqMessagesRequestedStatus=t.fetchFaqMessagesSucceeded=t.fetchFaqMessagesRequested=void 0;var a,o=v(r("YEIV")),s=v(r("QbLZ")),n=v(r("jWXv")),l=v(r("rfXi")),u=v(r("14Xm")),c=v(r("4d7F"));t.watchFetch=E;var i,d=r("6SzI"),_=r("5rFJ"),p=r("tvxL"),f=r("ZB2U"),h=v(r("jtha")),g=v(r("b/qR"));function v(e){return e&&e.__esModule?e:{default:e}}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);var b=u.default.mark(R),S=u.default.mark(E),M=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,d.createActions)({FETCH_FAQ_MESSAGES_REQUESTED:function(e){var t=e.sourceId,r=e.shopId,a=e.reset;return{sourceId:t,shopId:r,reset:void 0!==a&&a}},FETCH_FAQ_MESSAGES_SUCCEEDED:function(e){var t=e.messageIds,r=e.sourceId,a=e.status,o=e.offset,s=e.hasMore;return{messageIds:t,sourceId:r,status:a,offset:o,hasMore:void 0===s||s}},UPDATE_FETCH_FAQ_MESSAGES_REQUESTED_STATUS:function(e){return{status:e.status}},UPDATE_CURRENT_FAQ_ID:function(e){return{id:e.id}}})),y=M.fetchFaqMessagesRequested,m=M.fetchFaqMessagesSucceeded,C=M.updateFetchFaqMessagesRequestedStatus,k=M.updateCurrentFaqId;t.fetchFaqMessagesRequested=y,t.fetchFaqMessagesSucceeded=m,t.updateFetchFaqMessagesRequestedStatus=C,t.updateCurrentFaqId=k;var L=function(e){var t=e.sourceId,r=e.shopId,a=e.offset,o=e.limit,s=void 0===o?20:o;return new c.default((function(e,o){(0,h.default)({parent:"conversation",resource:"bundle_message",params:{shop_id:r,offset:a,limit:s,source_id:t}}).then((function(t){var r=t.bundle_message,a=t.total;e({messages:r,total:a})})).catch((function(e){o(e)}))}))};function R(e){var t,r,a,o,s,n,l,c,i,d,h,v,S,M=e.payload,y=M.sourceId,R=M.shopId,E=M.reset;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.put)(k({id:y}));case 3:return e.next=5,(0,_.select)(f.currentFaqHistorySeletor);case 5:if(t=e.sent,r=t.offset,a=void 0===r?0:r,o=t.hasMore,!(!(void 0===o||o)||E&&a)){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,(0,_.select)(p.currentUserShopIdSelector);case 14:return s=e.sent,e.next=17,(0,_.select)(p.isSubAccountSelector);case 17:return n=e.sent,e.next=20,(0,_.put)(C({status:E?g.default.INIT_PENDING:g.default.PENDING}));case 20:return e.next=22,(0,_.call)(L,{sourceId:y,shopId:R,offset:a});case 22:return l=e.sent,c=l.messages,i=l.total,d=a+c.length,c.sort((function(e,t){return e.id-t.id})),c=c.filter((function(e){return"webview"!==e.type})),h=(0,p.normalize)("messages",c),v=h.result,S=h.entities,e.next=31,(0,_.put)((0,p.updateEntities)({entities:S}));case 31:return e.next=33,(0,_.call)(p.populateMessageWithSourceAndContent,c,s,n,!0);case 33:return e.next=35,(0,_.put)(m({sourceId:y,offset:d,hasMore:d<i,status:g.default.SUCCEED,messageIds:v}));case 35:e.next=41;break;case 37:return e.prev=37,e.t0=e.catch(0),e.next=41,(0,_.put)(C({status:E?g.default.INIT_FAILED:g.default.FAILED}));case 41:case"end":return e.stop()}}),b,this,[[0,37]])}function E(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.takeEvery)(y,R);case 2:case"end":return e.stop()}}),S,this)}var T,w,q=(a={},(0,o.default)(a,m,(function(e,t){var r=t.payload,a=r.messageIds,u=r.sourceId,c=r.status,i=r.offset,d=r.hasMore,_=e.faqHistoryHash,p=(_[u]||{all:[]}).all,f=(0,l.default)(new n.default(p.concat(a)));return(0,s.default)({},e,{faqHistoryHash:(0,s.default)({},_,(0,o.default)({},u,{all:f,offset:i,hasMore:d})),status:c})})),(0,o.default)(a,C,(function(e,t){var r=t.payload.status;return(0,s.default)({},e,{status:r})})),(0,o.default)(a,k,(function(e,t){var r=t.payload.id;return(0,s.default)({},e,{faqId:r})})),a);t.default=q,(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(y,"fetchFaqMessagesRequested","/workspace/src/reducers/faqHistory/fetch.js"),T.register(m,"fetchFaqMessagesSucceeded","/workspace/src/reducers/faqHistory/fetch.js"),T.register(C,"updateFetchFaqMessagesRequestedStatus","/workspace/src/reducers/faqHistory/fetch.js"),T.register(k,"updateCurrentFaqId","/workspace/src/reducers/faqHistory/fetch.js"),T.register(L,"fetchFaqHistoryMessages","/workspace/src/reducers/faqHistory/fetch.js"),T.register(R,"fetchFaqMessagesRequestedSaga","/workspace/src/reducers/faqHistory/fetch.js"),T.register(E,"watchFetch","/workspace/src/reducers/faqHistory/fetch.js"),T.register(q,"default","/workspace/src/reducers/faqHistory/fetch.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)}).call(this,r("YuTi")(e))},MJv7:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s={PERSONAL:1,TEAM:2};t.default=s,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"default","/workspace/src/constants/messageShortcutGroup.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},Mqqo:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("q1tI")),s=u(r("GRUa")),n=r("/MKj"),l=r("tvxL");function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d=function(e){return o.default.createElement(s.default,e)},_=function(){return{}},p={evaluationRequested:l.evaluationRequested},f=(0,n.connect)(_,p)(d);t.default=f,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"EvaluationMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),c.register(_,"selectors","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),c.register(p,"actions","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),c.register(f,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},N6RE:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchOrderSagas=void 0;var a,o=u(r("QbLZ")),s=r("6SzI"),n=r("R/fK"),l=u(n);function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d=t.watchOrderSagas=[n.watchFetch],_=(0,s.handleActions)((0,o.default)({},l.default),{status:"succeed",fetchMyOrdersStatus:"succeed",fetchHisOrdersStatus:"succeed",fetchResult:{}});t.default=_,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"watchOrderSagas","/workspace/src/reducers/order/index.js"),c.register(_,"default","/workspace/src/reducers/order/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},Nv8w:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"};t.default=s,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"default","/workspace/src/constants/offerStatus.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},OVuk:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchShopDetailInfo=void 0;var a,o=r("14Xm"),s=(a=o)&&a.__esModule?a:{default:a};t.watchShow=f;var n,l=r("5rFJ"),u=r("tvxL"),c=r("6SzI");(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var i,d,_=s.default.mark(f),p=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,c.createActions)({FETCH_SHOP_DETAIL_INFO:function(e){return{shopId:e.shopId}}}).fetchShopDetailInfo);function f(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeEvery)(p,u.showShop);case 2:case"end":return e.stop()}}),_,this)}t.fetchShopDetailInfo=p,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(p,"fetchShopDetailInfo","/workspace/src/reducers/shop/show.js"),i.register(f,"watchShow","/workspace/src/reducers/shop/show.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},OW4m:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=r("QbLZ"),n=(a=s)&&a.__esModule?a:{default:a},l=r("XnKn");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u=null,c=null,i="";function d(e){e.data.received&&window.clearInterval(c)}window.addEventListener("message",d,!1);var _,p,f=function(e){var t=e.currentConversation,r=void 0===t?{}:t,a=e.webChatUrl;return(0,l.getItem)("mini-sc_redirect").then((function(e){e&&e.conversationId===r.id||(e={shopId:r.shop_id,userId:r.to_id});var t=(0,n.default)({},e,{type:"MiniChatRedirect"});u&&!u.closed?(i!==a&&(u.location.href=a),u.focus()):u=window.open(""+a,"_blank"),i=a,c&&window.clearInterval(c),c=window.setInterval((function(){try{u.postMessage(t,a)}catch(e){u=null,window.clearInterval(c)}}),1e3)}))};t.default=f,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(u,"openedWindow","/workspace/src/helpers/goToWebChat.js"),_.register(c,"openWebChatTimer","/workspace/src/helpers/goToWebChat.js"),_.register(i,"lastedWebchatUrl","/workspace/src/helpers/goToWebChat.js"),_.register(d,"handleReceivedMessage","/workspace/src/helpers/goToWebChat.js"),_.register(f,"default","/workspace/src/helpers/goToWebChat.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},PCWH:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_product=__webpack_require__("nbEg"),_fetch=__webpack_require__("WnRE"),_show=__webpack_require__("OVuk"),_ProductPopoverLayout=__webpack_require__("hrAk"),_ProductPopoverLayout2=_interopRequireDefault(_ProductPopoverLayout),_sellerWebchatService=__webpack_require__("tvxL"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ProductPopover=function(_React$PureComponent){function ProductPopover(){return(0,_classCallCheck3.default)(this,ProductPopover),(0,_possibleConstructorReturn3.default)(this,(ProductPopover.__proto__||(0,_getPrototypeOf2.default)(ProductPopover)).apply(this,arguments))}return(0,_inherits3.default)(ProductPopover,_React$PureComponent),(0,_createClass3.default)(ProductPopover,[{key:"render",value:function(){return _react2.default.createElement(_ProductPopoverLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductPopover}(_react2.default.PureComponent),selector=function(e){return{myShopProducts:(0,_product.myShopProductsSelector)(e),otherShopProducts:(0,_product.otherShopProductsSelector)(e),myShopSearchStatus:(0,_product.myShopSearchStatusSelector)(e),otherShopSearchStatus:(0,_product.otherShopSearchStatusSelector)(e),myShopSearchKeyword:(0,_product.myShopSearchKeywordSelector)(e),otherShopSearchKeyword:(0,_product.otherShopSearchKeywordSelector)(e),currentUser:(0,_sellerWebchatService.currentUserSelector)(e),currentConversation:(0,_sellerWebchatService.currentConversationSelector)(e),isSubAccount:(0,_sellerWebchatService.isSubAccountSelector)(e),currentBuyer:(0,_sellerWebchatService.currentBuyerSelector)(e),isScChat:(0,_sellerWebchatService.isScChatSelector)(e),allShopSearchStatus:(0,_product.allShopSearchStatusSelector)(e),selectedProductTab:(0,_product.selectedProductTabSelector)(e),myShop:(0,_sellerWebchatService.myShopSelector)(e),currentBuyerShop:(0,_sellerWebchatService.currentBuyerShopSelector)(e)}},actions={fetchProductsRequested:_fetch.fetchProductsRequested,fetchAllProductsRequested:_fetch.fetchAllProductsRequested,sendMessagesRequested:_sellerWebchatService.sendMessagesRequested,updateSelectedProductTab:_fetch.updateSelectedProductTab,fetchShopDetailInfo:_show.fetchShopDetailInfo},_default=(0,_reactRedux.connect)(selector,actions)(ProductPopover),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ProductPopover,"ProductPopover","/workspace/src/containers/InputField/Toolbar/ProductPopover/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/InputField/Toolbar/ProductPopover/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/InputField/Toolbar/ProductPopover/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/InputField/Toolbar/ProductPopover/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},PWSW:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchFaqHistorySagas=void 0;var a,o=u(r("QbLZ")),s=r("6SzI"),n=r("M2OP"),l=u(n);function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d=t.watchFaqHistorySagas=[n.watchFetch],_=(0,s.handleActions)((0,o.default)({},l.default),{faqHistoryHash:{},faqId:null,status:""});t.default=_,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"watchFaqHistorySagas","/workspace/src/reducers/faqHistory/index.js"),c.register(_,"default","/workspace/src/reducers/faqHistory/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},Q83b:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.SubAccountType={NORMAL:"normal_subaccount",ADMIN:"admin_subaccount",MAIN:"main_subaccount"};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"SubAccountType","/workspace/src/constants/user.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},"R/fK":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateFetchOrdersStatus=t.fetchOrdersSucceed=t.fetchOrdersRequested=t.fetchAllOrdersRequested=void 0;var a,o=v(r("YEIV")),s=v(r("QbLZ")),n=v(r("jWXv")),l=v(r("m1cH")),u=v(r("14Xm"));t.fetchAllOrders=R,t.fetchOrders=E,t.watchFetch=T;var c,i=r("6SzI"),d=r("5rFJ"),_=r("tvxL"),p=v(r("jtha")),f=v(r("b/qR")),h=r("UP2C"),g=r("cOd3");function v(e){return e&&e.__esModule?e:{default:e}}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e);var b=u.default.mark(R),S=u.default.mark(E),M=u.default.mark(T),y=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,i.createActions)({FETCH_ALL_ORDERS_REQUESTED:function(e){return{shopId:e.shopId,buyerShopId:e.buyerShopId,userId:e.userId}},FETCH_ORDERS_REQUESTED:function(e){var t=e.from;return{from:void 0===t?h.ListTabs.MINE:t,shopId:e.shopId,userId:e.userId,reset:e.reset,isFromAll:e.isFromAll}},FETCH_ORDERS_SUCCEED:function(e){var t=e.shopId,r=e.userId,a=e.pagination;return{shopId:t,userId:r,result:e.result,pagination:a}},UPDATE_FETCH_ORDERS_STATUS:function(e){return{type:e.type,status:e.status}}})),m=y.fetchAllOrdersRequested,C=y.fetchOrdersRequested,k=y.fetchOrdersSucceed,L=y.updateFetchOrdersStatus;function R(e){var t=e.payload,r=t.shopId,a=t.buyerShopId,o=t.userId;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.put)(L({status:f.default.INIT_PENDING}));case 2:return e.prev=2,e.next=5,(0,d.all)([(0,d.call)(E,{payload:{shopId:r,userId:o,reset:!0,isFromAll:!0}}),(0,d.call)(E,{payload:{from:h.ListTabs.HIS,shopId:a,userId:o,reset:!0,isFromAll:!0}})]);case 5:return e.next=7,(0,d.put)(L({status:f.default.SUCCEED}));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,(0,d.put)(L({status:f.default.INIT_FAILED}));case 13:case"end":return e.stop()}}),b,this,[[2,9]])}function E(e){var t,r,a,o,s,c,i,v,b,M,y,m,C,R,E,T,w,q,P,H,G,x,I=e.payload,D=I.from,O=I.shopId,j=I.userId,Y=I.reset,A=I.isFromAll,N=void 0!==A&&A;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=[],r={},Y){e.next=9;break}return e.next=6,(0,d.select)((0,g.currentOrderFetchResultSelector)(O,j));case 6:a=e.sent,t=a.result,r=a.pagination;case 9:if(s=(o=r).currentPage,c=void 0===s?0:s,i=o.perPage,v=void 0===i?10:i,b=o.hasMore,!(void 0===b||b)){e.next=44;break}if(M=f.default.PENDING,!Y){e.next=16;break}return e.next=15,(0,d.put)(k({shopId:O,userId:j,result:t,pagination:r}));case 15:M=f.default.INIT_PENDING;case 16:return e.next=18,(0,d.put)(L({type:D,status:M}));case 18:return m={ssl:!0,suffix:"orders_by_buyer_id",resource:"orders",params:{shop_id:O,buyer_id:j,per_page:v,page:y=Y?1:c+1}},D===h.ListTabs.HIS&&(delete m.params.buyer_id,m.suffix="purchased"),e.next=23,(0,d.call)(p.default,m);case 23:if(C=e.sent,R=C.total,E=C.orders,w=null,q=null,!(P=(T=void 0===E?[]:E).length)){e.next=38;break}return H=(0,_.normalize)("orders",T),G=H.entities,x=H.result,e.next=34,(0,d.put)((0,_.updateEntities)({entities:G}));case 34:w={currentPage:y,perPage:v,total:R,hasMore:P>=v},q=Y?x:[].concat((0,l.default)(new n.default(t.concat(x)))),e.next=40;break;case 38:w={currentPage:y,perPage:v,total:R,hasMore:!1},q=t;case 40:return e.next=42,(0,d.put)(k({shopId:O,userId:j,result:q,pagination:w}));case 42:return e.next=44,(0,d.put)(L({type:D,status:f.default.SUCCEED}));case 44:e.next=52;break;case 46:return e.prev=46,e.t0=e.catch(0),e.next=50,(0,d.put)(L({type:D,status:Y?f.default.INIT_FAILED:f.default.FAILED}));case 50:if(!N){e.next=52;break}throw e.t0;case 52:case"end":return e.stop()}}),S,this,[[0,46]])}function T(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(m,R);case 2:return e.next=4,(0,d.takeEvery)(C,E);case 4:case"end":return e.stop()}}),M,this)}t.fetchAllOrdersRequested=m,t.fetchOrdersRequested=C,t.fetchOrdersSucceed=k,t.updateFetchOrdersStatus=L;var w,q,P=(a={},(0,o.default)(a,k,(function(e,t){var r=t.payload,a=r.shopId,n=r.userId,l=r.pagination,u=r.result,c=a+"_"+n;return(0,s.default)({},e,{fetchResult:(0,s.default)({},e.fetchResult,(0,o.default)({},c,{pagination:l,result:u}))})})),(0,o.default)(a,L,(function(e,t){var r=t.payload,a=r.type,o=r.status;switch(a){case h.ListTabs.MINE:e.fetchMyOrdersStatus=o;break;case h.ListTabs.HIS:e.fetchHisOrdersStatus=o;break;default:e.status=o}return(0,s.default)({},e)})),a);t.default=P,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(m,"fetchAllOrdersRequested","/workspace/src/reducers/order/fetch.js"),w.register(C,"fetchOrdersRequested","/workspace/src/reducers/order/fetch.js"),w.register(k,"fetchOrdersSucceed","/workspace/src/reducers/order/fetch.js"),w.register(L,"updateFetchOrdersStatus","/workspace/src/reducers/order/fetch.js"),w.register(R,"fetchAllOrders","/workspace/src/reducers/order/fetch.js"),w.register(E,"fetchOrders","/workspace/src/reducers/order/fetch.js"),w.register(T,"watchFetch","/workspace/src/reducers/order/fetch.js"),w.register(P,"default","/workspace/src/reducers/order/fetch.js")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)}).call(this,r("YuTi")(e))},Ri42:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=c(r("gwUx")),s=c(r("QbLZ")),n=c(r("q1tI")),l=c(r("17x9")),u=c(r("+iqz"));function c(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=function(e){var t=(e.conversation||{}).shop,r=(t?t.country:"SG").toLowerCase();return n.default.createElement(o.default,(0,s.default)({region:r},e))};i.propTypes={conversation:l.default.object};var d,_,p=(0,u.default)(i);t.default=p,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"ProductsMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductsMessage/index.js"),d.register(p,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductsMessage/index.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},UP2C:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.customMessageTextKey=t.ListTabs=t.PurchaseOrderStatus=t.shopStatusTextMap=void 0;var a,o,s,n=r("YEIV"),l=(a=n)&&a.__esModule?a:{default:a},u=r("XnKn");(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d=t.shopStatusTextMap={none:{title:"common.shop.none_title",content:"common.shop.none_tip"},unaccessible:{title:"common.shop.unaccessible_title",content:"common.shop.unaccessible_tip"},unallocated:{title:"common.shop.unallocated_title",content:"common.shop.unallocated_tip"}},_=t.PurchaseOrderStatus={unpaid:"common.order.status.to_pay",to_ship:"common.order.status.to_ship",shipping:"common.order.status.to_receive",completed:"common.order.status.completed",cancelled:"common.order.status.cancelled",refund:"common.order.status.refund"},p=t.ListTabs={MINE:"mine",HIS:"his"},f=t.customMessageTextKey=(o={},(0,l.default)(o,u.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT,"faq.live_agent"),(0,l.default)(o,u.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED,"faq.unsupport_input"),(0,l.default)(o,u.MessageTypes.MSG_TYPE_FAQ_FEEDBACK_PROMPT,"faq.feedback_prompt"),(0,l.default)(o,u.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,"faq.live_agent_prompt"),o);(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"shopStatusTextMap","/workspace/src/constants/text.js"),c.register(_,"PurchaseOrderStatus","/workspace/src/constants/text.js"),c.register(p,"ListTabs","/workspace/src/constants/text.js"),c.register(f,"customMessageTextKey","/workspace/src/constants/text.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},"Vt/u":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.goToPcMall=void 0;var a,o=r("XnKn");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,n,l=t.goToPcMall=function(e,t,r,a){window.open("https://"+(e?(0,o.getMallUrl)(t):(0,o.getMallUrl)())+"/product/"+a+"/"+r+"/")};(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(l,"goToPcMall","/workspace/src/services/url.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r("YuTi")(e))},WnRE:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAllProductsRequested=t.updateSelectedProductTab=t.updateOtherShopSearchKeyword=t.updateMyShopSearchKeyword=t.updateAllShopProductsRequestedStatus=t.updateOtherShopProductsRequestedStatus=t.updateMyShopProductsRequestedStatus=t.fetchProductsSucceed=t.fetchMyShopProducts=t.fetchProductsRequested=void 0;var a,o=f(r("YEIV")),s=f(r("QbLZ")),n=f(r("14Xm"));t.fetchAllShopProducts=q,t.fetchProducts=P,t.watchFetch=H;var l,u=r("6SzI"),c=r("5rFJ"),i=f(r("jtha")),d=r("tvxL"),_=r("nbEg"),p=f(r("b/qR"));function f(e){return e&&e.__esModule?e:{default:e}}(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);var h=n.default.mark(q),g=n.default.mark(P),v=n.default.mark(H),b=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,10),S=(0,u.createActions)({FETCH_PRODUCTS_REQUESTED:function(e){var t=e.shopId,r=e.keyword,a=void 0===r?"":r,o=e.reset;return{shopId:t,keyword:a,reset:void 0!==o&&o}},FETCH_PRODUCTS_SUCCEED:function(e){return{shopId:e.shopId,pagination:e.pagination,result:e.result}},UPDATE_MY_SHOP_PRODUCTS_REQUESTED_STATUS:function(e){return{status:e.status}},UPDATE_OTHER_SHOP_PRODUCTS_REQUESTED_STATUS:function(e){return{status:e.status}},UPDATE_ALL_SHOP_PRODUCTS_REQUESTED_STATUS:function(e){return{status:e.status}},UPDATE_MY_SHOP_SEARCH_KEYWORD:function(e){return{keyword:e.keyword}},UPDATE_OTHER_SHOP_SEARCH_KEYWORD:function(e){return{keyword:e.keyword}},UPDATE_SELECTED_PRODUCT_TAB:function(e){return{selectedTab:e}},FETCH_ALL_PRODUCTS_REQUESTED:function(e){return{myShopId:e.myShopId,otherShopId:e.otherShopId}}}),M=S.fetchProductsRequested,y=S.fetchMyShopProducts,m=S.fetchProductsSucceed,C=S.updateMyShopProductsRequestedStatus,k=S.updateOtherShopProductsRequestedStatus,L=S.updateAllShopProductsRequestedStatus,R=S.updateMyShopSearchKeyword,E=S.updateOtherShopSearchKeyword,T=S.updateSelectedProductTab,w=S.fetchAllProductsRequested;function q(e){var t=e.payload,r=t.myShopId,a=t.otherShopId;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.put)(L({status:p.default.INIT_PENDING}));case 2:return e.prev=2,e.next=5,(0,c.all)([P({payload:{shopId:r,keyword:"",reset:!0,isFromAll:!0}}),P({payload:{shopId:a,keyword:"",reset:!0,isFromAll:!0}})]);case 5:return e.next=7,(0,c.put)(L({status:p.default.SUCCEED}));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,(0,c.put)(L({status:p.default.INIT_FAILED}));case 13:case"end":return e.stop()}}),h,this,[[2,9]])}function P(e){var t,r,a,o,s,l,u,f,h,v,S,M,y,L,T,w,q,P,H,G,x,I,D=e.payload,O=D.shopId,j=D.keyword,Y=D.reset,A=D.isFromAll,N=void 0!==A&&A;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)(d.currentShopIdSelector);case 2:if(t=e.sent,r=t===O,e.prev=4,a={},o=[],Y){e.next=15;break}return e.next=10,(0,c.select)((0,_.currentFetchResultSelector)(O));case 10:s=e.sent,a=s.pagination,o=s.result,e.next=22;break;case 15:if(!r){e.next=20;break}return e.next=18,(0,c.put)(R({keyword:j}));case 18:e.next=22;break;case 20:return e.next=22,(0,c.put)(E({keyword:j}));case 22:if(u=(l=a).currentPage,f=void 0===u?0:u,h=l.perPage,v=void 0===h?b:h,S=l.hasMore,!(void 0===S||S)){e.next=60;break}if(y={shop_id:O,keyword:j,per_page:v,page:M=Y?1:f+1,need_cache:1,cache_expires:600},!r){e.next=31;break}return e.next=29,(0,c.put)(C({status:Y?p.default.INIT_PENDING:p.default.PENDING}));case 29:e.next=33;break;case 31:return e.next=33,(0,c.put)(k({status:Y?p.default.INIT_PENDING:p.default.PENDING}));case 33:return e.next=35,(0,c.call)(i.default,{ssl:!0,resource:"items",params:y,cleaner:d.productCleaner});case 35:if(L=e.sent,T=L.total,w=L.items,P=null,H=null,!(q=void 0===w?[]:w).length){e.next=49;break}return G=(0,d.normalize)("products",q),x=G.entities,I=G.result,e.next=45,(0,c.put)((0,d.updateEntities)({entities:x}));case 45:P={currentPage:M,perPage:v,total:T,hasMore:q.length>=v},H=Y?I:o.concat(I),e.next=51;break;case 49:P={currentPage:M,perPage:v,total:T,hasMore:!1},H=o;case 51:return e.next=53,(0,c.put)(m({shopId:O,pagination:P,result:H}));case 53:if(!r){e.next=58;break}return e.next=56,(0,c.put)(C({status:p.default.SUCCEED}));case 56:e.next=60;break;case 58:return e.next=60,(0,c.put)(k({status:p.default.SUCCEED}));case 60:e.next=76;break;case 62:if(e.prev=62,e.t0=e.catch(4),!Y){e.next=67;break}return e.next=67,(0,c.put)(m({shopId:O,pagination:{currentPage:0,perPage:b,hasMore:!0},result:[]}));case 67:if(!r){e.next=72;break}return e.next=70,(0,c.put)(C({status:Y?p.default.INIT_FAILED:p.default.FAILED}));case 70:e.next=74;break;case 72:return e.next=74,(0,c.put)(k({status:Y?p.default.INIT_FAILED:p.default.FAILED}));case 74:if(!N){e.next=76;break}throw e.t0;case 76:case"end":return e.stop()}}),g,this,[[4,62]])}function H(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(M,P);case 2:return e.next=4,(0,c.takeEvery)(w,q);case 4:case"end":return e.stop()}}),v,this)}t.fetchProductsRequested=M,t.fetchMyShopProducts=y,t.fetchProductsSucceed=m,t.updateMyShopProductsRequestedStatus=C,t.updateOtherShopProductsRequestedStatus=k,t.updateAllShopProductsRequestedStatus=L,t.updateMyShopSearchKeyword=R,t.updateOtherShopSearchKeyword=E,t.updateSelectedProductTab=T,t.fetchAllProductsRequested=w;var G,x,I=(a={},(0,o.default)(a,m,(function(e,t){var r=t.payload,a=r.shopId,n=r.pagination,l=r.result;return(0,s.default)({},e,{fetchResult:(0,s.default)({},e.fetchResult,(0,o.default)({},a,{pagination:n,result:l}))})})),(0,o.default)(a,C,(function(e,t){var r=t.payload.status;return(0,s.default)({},e,{myShopSearchStatus:r})})),(0,o.default)(a,k,(function(e,t){var r=t.payload.status;return(0,s.default)({},e,{otherShopSearchStatus:r})})),(0,o.default)(a,L,(function(e,t){var r=t.payload.status;return(0,s.default)({},e,{allShopSearchStatus:r})})),(0,o.default)(a,R,(function(e,t){var r=t.payload.keyword;return(0,s.default)({},e,{myShopSearchKeyword:r})})),(0,o.default)(a,E,(function(e,t){var r=t.payload.keyword;return(0,s.default)({},e,{otherShopSearchKeyword:r})})),(0,o.default)(a,T,(function(e,t){var r=t.payload.selectedTab;return(0,s.default)({},e,{selectedProductTab:r})})),a);t.default=I,(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(b,"PAGE_SIZE","/workspace/src/reducers/product/fetch.js"),G.register(M,"fetchProductsRequested","/workspace/src/reducers/product/fetch.js"),G.register(y,"fetchMyShopProducts","/workspace/src/reducers/product/fetch.js"),G.register(m,"fetchProductsSucceed","/workspace/src/reducers/product/fetch.js"),G.register(C,"updateMyShopProductsRequestedStatus","/workspace/src/reducers/product/fetch.js"),G.register(k,"updateOtherShopProductsRequestedStatus","/workspace/src/reducers/product/fetch.js"),G.register(L,"updateAllShopProductsRequestedStatus","/workspace/src/reducers/product/fetch.js"),G.register(R,"updateMyShopSearchKeyword","/workspace/src/reducers/product/fetch.js"),G.register(E,"updateOtherShopSearchKeyword","/workspace/src/reducers/product/fetch.js"),G.register(T,"updateSelectedProductTab","/workspace/src/reducers/product/fetch.js"),G.register(w,"fetchAllProductsRequested","/workspace/src/reducers/product/fetch.js"),G.register(q,"fetchAllShopProducts","/workspace/src/reducers/product/fetch.js"),G.register(P,"fetchProducts","/workspace/src/reducers/product/fetch.js"),G.register(H,"watchFetch","/workspace/src/reducers/product/fetch.js"),G.register(I,"default","/workspace/src/reducers/product/fetch.js")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)}).call(this,r("YuTi")(e))},"X3i/":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=i(r("MgcO")),s=i(r("q1tI")),n=r("/MKj"),l=i(r("17x9")),u=i(r("+iqz")),c=r("tvxL");function i(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d=function(e){var t=e.imgCache,r=e.id,a=e.request_id,n=e.measure,l=e.isSend,u=e.textContent,i=e.handleReload,d=e.fetchStatus,_=e.currentUser;return s.default.createElement(o.default,{imgCache:t,id:r,requestId:a,measure:n,isSend:l,textContent:u,handleReload:i,fetchStatus:d,handleTrackStory:function(){(0,c.tracker)("conversation_window","story",{story_id:u.id,account_id:_.id,account_type:_.type,shopid:_.shop_id?_.shop_id:""})}})},_=function(e){return{currentUser:(0,c.currentUserSelector)(e)}},p={};d.propTypes={imgCache:l.default.object,id:l.default.string,request_id:l.default.string,measure:l.default.func,isSend:l.default.bool,textContent:l.default.object,handleReload:l.default.func,fetchStatus:l.default.string,currentUser:l.default.object};var f,h,g=(0,u.default)((0,n.connect)(_,p)(d));t.default=g,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(d,"FeedStoryMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),f.register(_,"selectors","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),f.register(p,"actions","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),f.register(g,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,r("YuTi")(e))},XftY:function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("o1Ud"),_index2=_interopRequireDefault(_index),_common=__webpack_require__("tIYL"),_common2=_interopRequireDefault(_common),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_productStatus=__webpack_require__("GGlB"),_productStatus2=_interopRequireDefault(_productStatus),_sellerWebchatUi=__webpack_require__("h4gR"),_invalidWarning=__webpack_require__("8Kyb"),_invalidWarning2=_interopRequireDefault(_invalidWarning),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},DELETED=_productStatus2.default.DELETED,BANNED=_productStatus2.default.BANNED,NORMAL=_productStatus2.default.NORMAL,SOLD_OUT=_productStatus2.default.SOLD_OUT,invalidStatus=[DELETED,BANNED,SOLD_OUT],ProductBody=function(_React$PureComponent){function ProductBody(e){(0,_classCallCheck3.default)(this,ProductBody);var t=(0,_possibleConstructorReturn3.default)(this,(ProductBody.__proto__||(0,_getPrototypeOf2.default)(ProductBody)).call(this,e));return t.renderProductImage=t.renderProductImage.bind(t),t.renderProductPrice=t.renderProductPrice.bind(t),t}return(0,_inherits3.default)(ProductBody,_React$PureComponent),(0,_createClass3.default)(ProductBody,[{key:"renderProductStatus",value:function(e){var t=e.status,r=void 0===t?"normal":t,a=e.stock,o=void 0===a?0:a,s=_productStatus.statusMap[r],n=null,l=_index2.default.status+" ";return n=r===NORMAL?$t(s,{productStock:o}):$t(s),l+=r===NORMAL||r===DELETED?""+_index2.default[r]:""+_index2.default.invalid,_react2.default.createElement("div",{className:l,title:n},n)}},{key:"renderProductImage",value:function(e,t,r){var a=r.status,o=void 0===a?"normal":a,s="source"===e&&invalidStatus.includes(o);return _react2.default.createElement("div",{className:_common2.default.image},_react2.default.createElement(_Image2.default,{src:t}),_react2.default.createElement("div",{className:_common2.default.imageBorder}),s&&_react2.default.createElement("div",{className:_common2.default.invalid},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_invalidWarning2.default,className:_common2.default.invalidIcon})))}},{key:"renderProductPrice",value:function(e){var t=e.split("-");if(2===t.length){var r=null;return e.length<=23?r=_index2.default.priceTextSmall:e.length>23&&(r=_index2.default.priceTextMini),_react2.default.createElement("div",{className:r},_react2.default.createElement("span",{className:_index2.default.inlineBlock},t[0])," - ",_react2.default.createElement("span",{className:_index2.default.inlineBlock},t[1]))}return _react2.default.createElement("span",null,e)}},{key:"render",value:function(){var e=this.props,t=e.category,r=e.image,a=e.name,o=e.price,s=e.extraProps,n=(s||{}).originPrice,l=this.renderProductStatus(s),u=this.renderProductImage(t,r,s);return _react2.default.createElement("div",{className:_common2.default.detailBlock},u,_react2.default.createElement("div",{className:_common2.default.content},_react2.default.createElement("div",{className:_common2.default.productName,title:a},a),"source"===t?_react2.default.createElement("div",{className:_common2.default.productDetail+" "+(n?_index2.default.origin:"")},n&&_react2.default.createElement("div",{title:n,className:_index2.default.originalPrice},n),_react2.default.createElement("div",{className:_index2.default.price,title:o},o),_react2.default.createElement("div",{className:_common2.default.divider}),l):_react2.default.createElement("div",{className:_index2.default.rangePrice},this.renderProductPrice(o))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductBody}(_react2.default.PureComponent);ProductBody.propTypes={category:_propTypes2.default.string.isRequired,image:_propTypes2.default.string,name:_propTypes2.default.string,price:_propTypes2.default.string,extraProps:_propTypes2.default.object.isRequired};var _default=ProductBody,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(DELETED,"DELETED","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(BANNED,"BANNED","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(NORMAL,"NORMAL","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(SOLD_OUT,"SOLD_OUT","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(invalidStatus,"invalidStatus","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(ProductBody,"ProductBody","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},Z58h:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _objectWithoutProperties2=__webpack_require__("jo6Y"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactRedux=__webpack_require__("/MKj"),_FaqHistory=__webpack_require__("eULv"),_FaqHistory2=_interopRequireDefault(_FaqHistory),_faqHistory=__webpack_require__("ZB2U"),_sellerWebchatService=__webpack_require__("tvxL"),_visit=__webpack_require__("empP"),_fetch=__webpack_require__("M2OP"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MessageSection=function(_React$PureComponent){function MessageSection(e){(0,_classCallCheck3.default)(this,MessageSection);var t=(0,_possibleConstructorReturn3.default)(this,(MessageSection.__proto__||(0,_getPrototypeOf2.default)(MessageSection)).call(this,e));return t.fetchRequested=t.fetchRequested.bind(t),t}return(0,_inherits3.default)(MessageSection,_React$PureComponent),(0,_createClass3.default)(MessageSection,[{key:"fetchRequested",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needReset,r=void 0!==t&&t,a=this.props,o=a.messageList,s=a.currentConversation,n=a.fetchMessagesRequested,l={conversation:s};if(r)l.read=!0,l.reset=!0;else if(!o.length)return;n((0,_extends3.default)({},l))}},{key:"render",value:function(){var e=this.props,t=(e.fetchMessagesRequested,(0,_objectWithoutProperties3.default)(e,["fetchMessagesRequested"]));return _react2.default.createElement(_FaqHistory2.default,(0,_extends3.default)({},t,{fetchRequested:this.fetchRequested}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MessageSection}(_react2.default.PureComponent),mapStateToProps=function(e){return{isScChat:(0,_sellerWebchatService.isScChatSelector)(e),translateTips:(0,_sellerWebchatService.tipsSelector)(e),hasMoreOlderMessage:(0,_sellerWebchatService.hasMoreOlderMessageSelector)(e),autoTranslation:(0,_sellerWebchatService.autoTranslation)(e),isSubAccount:(0,_sellerWebchatService.isSubAccountSelector)(e),messageList:(0,_faqHistory.faqHistoryMessagesSelector)(e),currentUser:(0,_sellerWebchatService.currentUserSelector)(e),currentBuyer:(0,_sellerWebchatService.currentBuyerSelector)(e)||{},showChatWindow:(0,_sellerWebchatService.showChatWindowSelector)(e),unreadMessageIds:(0,_sellerWebchatService.unreadMessageIdsSelector)(e),currentUserShopId:(0,_sellerWebchatService.currentUserShopIdSelector)(e),messageHttpStatus:(0,_faqHistory.httpStatusSelector)(e),showConversationDetail:(0,_sellerWebchatService.showConversationDetailSelector)(e),currentConversation:(0,_sellerWebchatService.currentConversationSelector)(e),sourceId:(0,_faqHistory.faqIdSelector)(e)}},mapDispatchToProps={visitMallRequested:_visit.visitMallRequested,updateTranslateTips:_sellerWebchatService.updateTranslateTips,replyOfferRequested:_sellerWebchatService.replyOfferRequested,changeTranslateStatus:_sellerWebchatService.changeTranslateStatus,markMessagesRequested:_sellerWebchatService.markMessagesRequested,fetchMessagesRequested:_sellerWebchatService.fetchMessagesRequested,resendMessageRequested:_sellerWebchatService.resendMessageRequested,populateMessageRequested:_sellerWebchatService.populateMessageRequested,translateMessagesRequested:_sellerWebchatService.translateMessagesRequested,setCurrentConversationCanRead:_sellerWebchatService.setCurrentConversationCanRead,visitShopSellerCenterRequested:_visit.visitShopSellerCenterRequested,claimVoucherRequested:_sellerWebchatService.claimVoucherRequested,evaluationRequested:_sellerWebchatService.evaluationRequested,fetchFaqMessagesRequested:_fetch.fetchFaqMessagesRequested,showModal:_sellerWebchatService.showModal};MessageSection.propTypes={messageList:_propTypes2.default.array,messageHttpStatus:_propTypes2.default.string,currentConversation:_propTypes2.default.object,fetchMessagesRequested:_propTypes2.default.func};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(MessageSection),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MessageSection,"MessageSection","/workspace/src/containers/Messages/FaqHistory/index.js"),reactHotLoader.register(mapStateToProps,"mapStateToProps","/workspace/src/containers/Messages/FaqHistory/index.js"),reactHotLoader.register(mapDispatchToProps,"mapDispatchToProps","/workspace/src/containers/Messages/FaqHistory/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/Messages/FaqHistory/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},ZB2U:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.faqHistoryMessagesSelector=t.currentFaqHistorySeletor=t.faqIdSelector=t.faqHistoryHashSelector=t.httpStatusSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),n=r("tvxL");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=t.httpStatusSelector=function(e){return e.faqHistoryReducer.status},i=t.faqHistoryHashSelector=function(e){return e.faqHistoryReducer.faqHistoryHash},d=t.faqIdSelector=function(e){return e.faqHistoryReducer.faqId},_=t.currentFaqHistorySeletor=(0,s.createSelector)(i,d,(function(e,t){return e[t]||{all:[]}})),p=t.faqHistoryMessagesSelector=(0,s.createSelector)(n.entitiesSelector,_,n.currentUserSelector,n.currentConversationSelector,(function(e,t,r,a){var s=t.all;return(0,o.denormalize)(s,[n.messageSchema],e)}));(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"httpStatusSelector","/workspace/src/selectors/faqHistory.js"),l.register(i,"faqHistoryHashSelector","/workspace/src/selectors/faqHistory.js"),l.register(d,"faqIdSelector","/workspace/src/selectors/faqHistory.js"),l.register(_,"currentFaqHistorySeletor","/workspace/src/selectors/faqHistory.js"),l.register(p,"faqHistoryMessagesSelector","/workspace/src/selectors/faqHistory.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},ZEfi:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _text=__webpack_require__("z4sT"),_text2=_interopRequireDefault(_text),_defineProperty2=__webpack_require__("YEIV"),_defineProperty3=_interopRequireDefault(_defineProperty2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactRedux=__webpack_require__("/MKj"),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_classnames2=__webpack_require__("TSYQ"),_classnames3=_interopRequireDefault(_classnames2),_index=__webpack_require__("TRmF"),_index2=_interopRequireDefault(_index),_sellerWebchatUtils=__webpack_require__("XnKn"),_sellerWebchatService=__webpack_require__("tvxL"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MSG_TYPE_POND_SELECTED=_sellerWebchatUtils.MessageTypes.MSG_TYPE_POND_SELECTED,OPTION_PRIORITY_PRIMARY=1,PondMessage=function(_PureComponent){function PondMessage(e){(0,_classCallCheck3.default)(this,PondMessage);var t=(0,_possibleConstructorReturn3.default)(this,(PondMessage.__proto__||(0,_getPrototypeOf2.default)(PondMessage)).call(this,e));return t.renderOption=t.renderOption.bind(t),t.sendMessage=t.sendMessage.bind(t),t}return(0,_inherits3.default)(PondMessage,_PureComponent),(0,_createClass3.default)(PondMessage,[{key:"sendMessage",value:function(e){var t=e.request_live_agent,r=e.payload,a=e.text,o=this.props,s=o.conversation,n=o.sendMessagesRequested,l=s.id,u=s.shop_id;n({conversationId:l,conversationUserId:s.to_id,messages:[{shopId:u,type:MSG_TYPE_POND_SELECTED,content:{text:a,payload:r,request_live_agent:t}}]})}},{key:"renderOption",value:function(e,t){var r,a=this,o=e.text,s=e.variant,n=this.props,l=n.created_timestamp<n.conversation.max_general_option_hide_time,u=(0,_classnames3.default)(_index2.default.option,(r={},(0,_defineProperty3.default)(r,_index2.default.primary,s===OPTION_PRIORITY_PRIMARY),(0,_defineProperty3.default)(r,_index2.default.invalid,l),r));return _react2.default.createElement("div",{key:t,className:u,title:o,onClick:function(){if(l)return null;a.sendMessage(e)}},o)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,a=r.title,o=r.options,s=void 0===o?[]:o,n=t.handleSensitiveUrl,l=t.message_option;return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.title},_react2.default.createElement(_text2.default,{text:a,messageOption:l,handleSensitiveUrl:n})),s.map((function(t,r){return e.renderOption(t,r)})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PondMessage}(_react.PureComponent),seletors=function(e){return{conversation:(0,_sellerWebchatService.currentConversationSelector)(e)}},actions={handleSensitiveUrl:_sellerWebchatService.handleSensitiveUrl,sendMessagesRequested:_sellerWebchatService.sendMessagesRequested};PondMessage.propTypes={content:_propTypes2.default.object,created_timestamp:_propTypes2.default.number,message_option:_propTypes2.default.number,conversation:_propTypes2.default.object,sendMessagesRequested:_propTypes2.default.func,handleSensitiveUrl:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)((0,_reactRedux.connect)(seletors,actions)(PondMessage)),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MSG_TYPE_POND_SELECTED,"MSG_TYPE_POND_SELECTED","/workspace/src/components/MessageSectionLayout/ConversationMessages/PondMessage/index.js"),reactHotLoader.register(OPTION_PRIORITY_PRIMARY,"OPTION_PRIORITY_PRIMARY","/workspace/src/components/MessageSectionLayout/ConversationMessages/PondMessage/index.js"),reactHotLoader.register(PondMessage,"PondMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/PondMessage/index.js"),reactHotLoader.register(seletors,"seletors","/workspace/src/components/MessageSectionLayout/ConversationMessages/PondMessage/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/components/MessageSectionLayout/ConversationMessages/PondMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/PondMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"aF+W":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("Yhdg")),s=u(r("q1tI")),n=u(r("17x9")),l=u(r("+iqz"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=e.type,r=e.isSend,a=e.content;return s.default.createElement(o.default,{type:t,content:a,isSend:r})};c.propTypes={type:n.default.string,isSend:n.default.bool,content:n.default.object};var i,d,_=(0,l.default)(c);t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"SystemMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/SystemMessage/index.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SystemMessage/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},axYV:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_ModalLayout=__webpack_require__("FhzU"),_ModalLayout2=_interopRequireDefault(_ModalLayout),_sellerWebchatService=__webpack_require__("tvxL"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Modal=function(_React$PureComponent){function Modal(){return(0,_classCallCheck3.default)(this,Modal),(0,_possibleConstructorReturn3.default)(this,(Modal.__proto__||(0,_getPrototypeOf2.default)(Modal)).apply(this,arguments))}return(0,_inherits3.default)(Modal,_React$PureComponent),(0,_createClass3.default)(Modal,[{key:"render",value:function(){return _react2.default.createElement(_ModalLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Modal}(_react2.default.PureComponent),selector=function(e){var t=e.modalReducer,r=e.notificationReducer;return(0,_extends3.default)({},t,r)},mapDispatchToProps={closeModal:_sellerWebchatService.closeModal},_default=(0,_reactRedux.connect)(selector,mapDispatchToProps)(Modal),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Modal,"Modal","/workspace/src/containers/Common/Modal/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/Common/Modal/index.js"),reactHotLoader.register(mapDispatchToProps,"mapDispatchToProps","/workspace/src/containers/Common/Modal/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/Common/Modal/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},azN6:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=l(r("q1tI")),s=l(r("17x9")),n=l(r("a1tu"));function l(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o.default.createElement("div",{className:n.default.time},o.default.createElement("div",{className:n.default.count},e),t&&o.default.createElement("div",{className:n.default.split},":"))}function c(e){var t=e.day,r=e.hour,a=e.minute,s=e.second;return o.default.createElement("div",{className:n.default.countTime},!!t&&u(t),u(r),u(a),u(s,!1))}c.propTypes={hour:s.default.node,minute:s.default.node,second:s.default.node,day:s.default.node};var i,d,_=c;t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(u,"Time","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/Count/index.js"),i.register(c,"Count","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/Count/index.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/Count/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},"b/qR":function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s={NORMAL:"normal",INIT_PENDING:"pendingInit",PENDING:"pending",SUCCEED:"succeed",INIT_FAILED:"failedInit",FAILED:"failed",HISTORY:"history",SHOW:"show",BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError",SYSTEM_ERROR:"systemError",ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"};t.default=s,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"default","/workspace/src/constants/status.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},"b5/c":function(e,t,r){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomizeTime=t.getFormattedTime=t.customizeTime=t.updateTimeLocale=void 0;var o,s,n=r("oB4V"),l=(o=n)&&o.__esModule?o:{default:o};(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,c,i=new l.default,d=["Mon","Tue","Web","Thu","Fri","Sat","Sun"],_=t.updateTimeLocale=function(e){return i.locale.set(e)},p=t.customizeTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.noTodayFlag,o=t.noTimeFlag,s=t.needFullFormat,n=new Date,l=new Date(e),u=i.create(e),c=l.getFullYear(),d=l.getMonth()+1,_=l.getDate(),p=u.format("hh:mm"),f=a("conversation_detail.message_list.today"),h=a("conversation_detail.message_list.yesterday");if(s)return u.format("LHD")+", "+p;if(n.getFullYear()===c){if(n.getMonth()+1===d){if(n.getDate()===_)return r?""+p:f+"  "+p;if(n.getDate()-1===_)return o?""+h:h+"  "+p}return o?""+u.format("LHDS"):u.format("LHDS")+", "+p}return o?""+u.format("LHD"):u.format("LHD")+", "+p},f=t.getFormattedTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="YYYY-MM-DD hh:mm",a=i.create(e);return a.format(t||r)},h=function(e){return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),day:e.getDay()}},g=t.getCustomizeTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onlyTime,a=t.onlyDate,o=i.create(e),s=o.format("hh:mm"),n=o.format("YYYY-MM-DD");if(r)return s;if(a)return n;var l=new Date,u=new Date(e),c=h(l),_=c.year,p=c.month,f=c.date,g=h(u),v=g.year,b=g.month,S=g.date,M=g.day;if(v===_&&b===p){if(u===f)return s;var y=Math.abs(S-f),m=y+M<=7||M>y;return m?d[M]:n}return n};(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(i,"timeService","/workspace/src/services/time.js"),u.register(d,"weekMap","/workspace/src/services/time.js"),u.register(_,"updateTimeLocale","/workspace/src/services/time.js"),u.register(p,"customizeTime","/workspace/src/services/time.js"),u.register(f,"getFormattedTime","/workspace/src/services/time.js"),u.register(h,"splitDate","/workspace/src/services/time.js"),u.register(g,"getCustomizeTime","/workspace/src/services/time.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r("YuTi")(e),r("kiXb").t)},bvpD:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("VgLs")),s=u(r("q1tI")),n=u(r("17x9")),l=u(r("+iqz"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=e.isSend,r=e.measure,a=e.content,n=e.conversation,l=e.sendMessagesRequested,u=n.id,c=n.shop_id,i=n.to_id;return s.default.createElement(o.default,{isSend:t,measure:r,sendMessagesRequested:l,content:a,conversationId:u,shopId:c,conversationUserId:i})};c.propTypes={isSend:n.default.bool,measure:n.default.func,content:n.default.object,conversation:n.default.object,sendMessagesRequested:n.default.func};var i,d,_=(0,l.default)(c);t.default=_,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"FAQMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQMessage/index.js"),i.register(_,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQMessage/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},bwTI:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_sellerWebchatUi=__webpack_require__("h4gR"),_star=__webpack_require__("YmlJ"),_star2=_interopRequireDefault(_star),_starO=__webpack_require__("YhMV"),_starO2=_interopRequireDefault(_starO),_index=__webpack_require__("WuDf"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Star=function(_React$PureComponent){function Star(e){(0,_classCallCheck3.default)(this,Star);var t=(0,_possibleConstructorReturn3.default)(this,(Star.__proto__||(0,_getPrototypeOf2.default)(Star)).call(this,e));return t.renderHalfStar=t.renderHalfStar.bind(t),t.handleClickStar=t.handleClickStar.bind(t),t.handleMouseEvent=t.handleMouseEvent.bind(t),t}return(0,_inherits3.default)(Star,_React$PureComponent),(0,_createClass3.default)(Star,[{key:"handleClickStar",value:function(){var e=this.props,t=e.handleClick,r=e.index;t&&t(r)}},{key:"handleMouseEvent",value:function(e){var t=this.props,r=t.handleHover,a=t.index;r&&r(e,a)}},{key:"renderHalfStar",value:function(e,t){var r=_index2.default.full+" "+_index2.default[t];return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_star2.default,className:_index2.default.empty}),_react2.default.createElement("div",{className:_index2.default.layout,style:{width:100*e+"%"}},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_starO2.default,className:r})))}},{key:"render",value:function(){var e=this,t=this.props,r=t.rate,a=t.size,o=t.editable,s=_index2.default.root+" "+_index2.default[a]+" "+(o?_index2.default.editable:"");return _react2.default.createElement("div",{className:s,onClick:this.handleClickStar,onMouseEnter:function(){return e.handleMouseEvent(!0)}},0===r?_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_star2.default,className:_index2.default.empty}):1===r?_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_starO2.default,className:_index2.default.full}):this.renderHalfStar(r,a))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Star}(_react2.default.PureComponent);Star.propTypes={rate:_propTypes2.default.number.isRequired,index:_propTypes2.default.number.isRequired,size:_propTypes2.default.string.isRequired,handleClick:_propTypes2.default.func,handleHover:_propTypes2.default.func,editable:_propTypes2.default.bool},Star.defaultProps={size:"normal",index:0,rate:1};var _default=Star,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Star,"Star","/workspace/src/components/UI/Star/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/UI/Star/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},cOd3:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.hisOrderDataSelector=t.myOrderDataSelector=t.currentOrderFetchResultSelector=t.orderFetchResultSelector=t.fetchHisOrdersStatusSelector=t.fetchMyOrdersStatusSelector=t.fetchOrdersStatusSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),n=r("tvxL");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c={currentPage:0,perPage:20,total:0,hasMore:!0},i=t.fetchOrdersStatusSelector=function(e){return e.orderReducer.status},d=t.fetchMyOrdersStatusSelector=function(e){return e.orderReducer.fetchMyOrdersStatus},_=t.fetchHisOrdersStatusSelector=function(e){return e.orderReducer.fetchHisOrdersStatus},p=t.orderFetchResultSelector=function(e){return e.orderReducer.fetchResult},f=t.currentOrderFetchResultSelector=function(e,t){return(0,s.createSelector)(p,(function(r){var a=r[e+"_"+t];return a||{pagination:c,result:[]}}))},h=t.myOrderDataSelector=(0,s.createSelector)(p,n.currentShopIdSelector,n.currentBuyerIdSelector,n.entitiesSelector,(function(e,t,r,a){var s=e[t+"_"+r];if(!s)return[];var l=s.result||[];return(0,o.denormalize)(l,[n.orderSchema],a)})),g=t.hisOrderDataSelector=(0,s.createSelector)(p,n.currentBuyerShopIdSelector,n.currentBuyerIdSelector,n.entitiesSelector,(function(e,t,r,a){var s=e[t+"_"+r];if(!s)return[];var l=s.result||[];return(0,o.denormalize)(l,[n.orderSchema],a)}));(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"defaultPagination","/workspace/src/selectors/order.js"),l.register(i,"fetchOrdersStatusSelector","/workspace/src/selectors/order.js"),l.register(d,"fetchMyOrdersStatusSelector","/workspace/src/selectors/order.js"),l.register(_,"fetchHisOrdersStatusSelector","/workspace/src/selectors/order.js"),l.register(p,"orderFetchResultSelector","/workspace/src/selectors/order.js"),l.register(f,"currentOrderFetchResultSelector","/workspace/src/selectors/order.js"),l.register(h,"myOrderDataSelector","/workspace/src/selectors/order.js"),l.register(g,"hisOrderDataSelector","/workspace/src/selectors/order.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},cokx:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.sagas=t.reducers=t.preload=t.persistLimit=void 0;var a=m(r("14Xm")),o=m(r("m1cH")),s=r("ptXS");Object.defineProperty(t,"preload",{enumerable:!0,get:function(){return s.preload}});var n,l=r("SVmU"),u=r("5rFJ"),c=r("JbkK"),i=r("igIW"),d=m(i),_=r("/ZKH"),p=r("tvxL"),f=r("N6RE"),h=m(f),g=r("7b+N"),v=m(g),b=r("rfE5"),S=m(b),M=r("PWSW"),y=m(M);function m(e){return e&&e.__esModule?e:{default:e}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var C,k,L=t.persistLimit=(0,b.supportDB)()?1e3:100,R={blacklist:["modalReducer","userReducer"]},E={key:"mini-root",storage:S.default,blacklist:["toastReducer","socketReducer","draftReducer","modalReducer","productReducer","settingsReducer"],debug:!1},T={userReducer:p.userReducer,shopReducer:d.default,orderReducer:h.default,toastReducer:p.toastReducer,draftReducer:p.draftReducer,offerReducer:p.offerReducer,entityReducer:p.entityReducer,socketReducer:p.socketReducer,messageReducer:p.messageReducer,stickerReducer:p.stickerReducer,productReducer:v.default,settingsReducer:p.settingsReducer,unreadCountReducer:p.unreadCountReducer,conversationReducer:p.conversationReducer,modalReducer:p.modalReducer,messageShortcutGroupReducer:p.messageShortcutGroupReducer,faqHistoryReducer:y.default},w=(0,c.resetReducers)(R,T),q=t.reducers=(0,l.persistCombineReducers)(E,w),P=t.sagas=a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.all)([_.watchTemporary].concat((0,o.default)(p.watchUserSagas),(0,o.default)(i.watchShopSagas),(0,o.default)(p.watchOfferSagas),(0,o.default)(p.watchToastSagas),(0,o.default)(p.watchSocketSagas),(0,o.default)(p.watchUnreadSagas),(0,o.default)(p.watchStickerSagas),(0,o.default)(p.watchMessageSagas),(0,o.default)(g.watchProductSagas),(0,o.default)(p.watchConversationSagas),(0,o.default)(f.watchOrderSagas),(0,o.default)(p.watchVoucherSagas),(0,o.default)(p.watchMessageShortcutGroupSagas),(0,o.default)(M.watchFaqHistorySagas)).map(u.call));case 2:case"end":return e.stop()}}),e,this)}));(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(L,"persistLimit","/workspace/src/reducers/index.js"),C.register(R,"ResetConfig","/workspace/src/reducers/index.js"),C.register(E,"PersistConfig","/workspace/src/reducers/index.js"),C.register(T,"appReducers","/workspace/src/reducers/index.js"),C.register(w,"resetableReducers","/workspace/src/reducers/index.js"),C.register(q,"reducers","/workspace/src/reducers/index.js"),C.register(P,"sagas","/workspace/src/reducers/index.js")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,r("YuTi")(e))},dYmL:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_sellerWebchatService=__webpack_require__("tvxL"),_MessageShortcutPopoverLayout=__webpack_require__("k3Bb"),_MessageShortcutPopoverLayout2=_interopRequireDefault(_MessageShortcutPopoverLayout),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MessageShortcut=function(_React$PureComponent){function MessageShortcut(){return(0,_classCallCheck3.default)(this,MessageShortcut),(0,_possibleConstructorReturn3.default)(this,(MessageShortcut.__proto__||(0,_getPrototypeOf2.default)(MessageShortcut)).apply(this,arguments))}return(0,_inherits3.default)(MessageShortcut,_React$PureComponent),(0,_createClass3.default)(MessageShortcut,[{key:"render",value:function(){return _react2.default.createElement(_MessageShortcutPopoverLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MessageShortcut}(_react2.default.PureComponent),state=function(e){return{currentConversation:(0,_sellerWebchatService.currentConversationSelector)(e),isSubAccount:(0,_sellerWebchatService.isSubAccountSelector)(e),messageShortcutHttpStatus:(0,_sellerWebchatService.messageShortcutHttpStatusSelector)(e),currentGroupId:(0,_sellerWebchatService.currentGroupIdSelector)(e),currentGroupType:(0,_sellerWebchatService.currentGroupTypeSelector)(e),currentUserRole:(0,_sellerWebchatService.currentUserRoleSelector)(e),messageShortcuts:(0,_sellerWebchatService.messageShortcutsSelector)(e),messageShortcutGroupContent:(0,_sellerWebchatService.messageShortcutGroupContentSelector)(e)}},actions={fetchMessageShortcutsGroupRequested:_sellerWebchatService.fetchMessageShortcutsGroupRequested,setCurrentGroupType:_sellerWebchatService.setCurrentGroupType,setCurrentGroupId:_sellerWebchatService.setCurrentGroupId},_default=(0,_reactRedux.connect)(state,actions)(MessageShortcut),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MessageShortcut,"MessageShortcut","/workspace/src/containers/InputField/Toolbar/MessageShortcutPopover/index.js"),reactHotLoader.register(state,"state","/workspace/src/containers/InputField/Toolbar/MessageShortcutPopover/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/InputField/Toolbar/MessageShortcutPopover/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/InputField/Toolbar/MessageShortcutPopover/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},dm17:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactDotdotdot=__webpack_require__("m2L4"),_reactDotdotdot2=_interopRequireDefault(_reactDotdotdot),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_sellerWebchatUi=__webpack_require__("h4gR"),_invalidWarning=__webpack_require__("8Kyb"),_invalidWarning2=_interopRequireDefault(_invalidWarning),_index=__webpack_require__("51da"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ProductItem=function(_React$PureComponent){function ProductItem(e){(0,_classCallCheck3.default)(this,ProductItem);var t=(0,_possibleConstructorReturn3.default)(this,(ProductItem.__proto__||(0,_getPrototypeOf2.default)(ProductItem)).call(this,e));return t.renderProductImage=t.renderProductImage.bind(t),t.handleOnClick=t.handleOnClick.bind(t),t}return(0,_inherits3.default)(ProductItem,_React$PureComponent),(0,_createClass3.default)(ProductItem,[{key:"renderProductImage",value:function(e,t){return _react2.default.createElement("div",{className:_index2.default.image},_react2.default.createElement(_Image2.default,{src:e}),_react2.default.createElement("div",{className:_index2.default.imageBorder}),t&&_react2.default.createElement("div",{className:_index2.default.invalid},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_invalidWarning2.default,className:_index2.default.invalidIcon})))}},{key:"handleOnClick",value:function(){window.open(this.props.url),this.props.trackItem(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.image,r=e.name,a=e.price,o=e.inValid,s=e.status,n=this.renderProductImage(t,o);return _react2.default.createElement("div",{className:_index2.default.detailBlock,onClick:this.handleOnClick},n,_react2.default.createElement("div",{className:_index2.default.content},_react2.default.createElement("div",{className:_index2.default.name,title:r},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",className:_index2.default.dot,clamp:1},r)),_react2.default.createElement("div",{className:_index2.default.priceDetail},_react2.default.createElement("div",{className:_index2.default.price,title:a},a),s&&_react2.default.createElement("div",{className:_index2.default.divider}),s&&_react2.default.createElement("div",{className:_index2.default.invalidBrand},s))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductItem}(_react2.default.PureComponent);ProductItem.propTypes={image:_propTypes2.default.string,name:_propTypes2.default.string,price:_propTypes2.default.node,inValid:_propTypes2.default.bool,url:_propTypes2.default.string,status:_propTypes2.default.node,trackItem:_propTypes2.default.func.isRequired,id:_propTypes2.default.number.isRequired};var _default=ProductItem,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ProductItem,"ProductItem","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/ProductItem/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/ProductItem/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},eULv:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=f(r("yYuc")),s=f(r("q1tI")),n=f(r("17x9")),l=f(r("szol")),u=f(r("furG")),c=f(r("HSHk")),i=f(r("Mqqo")),d=r("XnKn"),_=f(r("nles")),p=r("b5/c");function f(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var h=d.MessageTypes.MSG_TYPE_WEBVIEW,g=d.MessageTypes.MSG_TYPE_RATE_CARDS,v=d.MessageTypes.MSG_TYPE_VOUCHER_WEB,b={},S={},M=function(e){var t=e.isScChat,r=e.currentConversation,a=e.currentUser,n=(e.currentUserShopId,e.isSubAccount),d=e.currentBuyer,f=e.messageList,M=e.visitShopSellerCenterRequested,y=e.visitMallRequested,m=e.changeTranslateStatus,C=e.populateMessageRequested,k=(e.fillCloseReasonFromAutoCloseConversation,e.closeReasonStatus,e.messageHttpStatus),L=e.fetchFaqMessagesRequested,R=e.sourceId,E=r.shop_id,T=r.to_id,w=function(){};return s.default.createElement("div",{className:_.default.list},s.default.createElement(l.default,{style:{backgroundColor:"#fff"},makeItem:function(e,l){if(e&&e.content){var f=e.type,k=e.fetchStatus,R=void 0===k?"":k,E=e.content,q=void 0===E?{}:E,P=e.to_id,H=e.from_user_name,G=e.created_timestamp,x=P===T,I=(0,p.customizeTime)(1e3*G),D=(0,u.default)(f);if(e.type===h){var O=q.type;O===v||q.url&&q.url.includes("voucher")?(D=c.default,e.textContent=e.content):O===g&&P===a.id&&(D=i.default)}return s.default.createElement("div",{key:e.id,className:_.default.baseMessage},function(e,t,r){var a=[s.default.createElement("span",{className:_.default.username},e),s.default.createElement("span",{className:_.default.split}),s.default.createElement("span",{className:_.default.stamp},t)],o=_.default.header+" "+(r?_.default.right:"");return s.default.createElement("div",{className:o},r?a.reverse():a)}(H,I,x),R.includes("Card")?s.default.createElement(o.default,{type:"loading",messageType:f,content:q}):s.default.createElement(D,{className:_.default.message,index:l,message:e,measure:w,isScChat:t,imgCache:b,currentUser:a,currentBuyer:d,isSubAccount:n,conversation:r,visitMallRequested:y,replyOfferRequested:w,hasSourceMessageMap:S,changeTranslateStatus:m,resendMessageRequested:w,populateMessageRequested:C,translateMessagesRequested:w,visitShopSellerCenterRequested:M,claimVoucherRequested:w,evaluationRequested:w,sendMessagesRequested:w,fetchFaqMessagesRequested:L}))}},listData:f,status:k,onLoadMore:function(){return L({sourceId:R,shopId:E})},onRefresh:function(){return L({sourceId:R,shopId:E,reset:!f.length})}}))};M.propTypes={isScChat:n.default.bool,currentConversation:n.default.object,currentUser:n.default.object,currentUserShopId:n.default.number,isSubAccount:n.default.bool,currentBuyer:n.default.object,messageList:n.default.array,visitShopSellerCenterRequested:n.default.func,visitMallRequested:n.default.func,changeTranslateStatus:n.default.func,populateMessageRequested:n.default.func,fillCloseReasonFromAutoCloseConversation:n.default.func,closeReasonStatus:n.default.string,messageHttpStatus:n.default.string,fetchFaqMessagesRequested:n.default.func,sourceId:n.default.string};var y,m,C=M;t.default=C,(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(h,"MSG_TYPE_WEBVIEW","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js"),y.register(g,"MSG_TYPE_RATE_CARDS","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js"),y.register(v,"MSG_TYPE_VOUCHER_WEB","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js"),y.register(b,"imgCache","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js"),y.register(S,"hasSourceMessageMap","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js"),y.register(M,"FaqHistory","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js"),y.register(C,"default","/workspace/src/components/MessageSectionLayout/FaqHistory/index.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,r("YuTi")(e))},empP:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.visitMallRequested=t.visitShopSellerCenterRequested=void 0;var a=i(r("14Xm"));t.visitShopSellerCenter=S,t.visitMall=M,t.watchVisit=y;var o,s=r("6SzI"),n=r("5rFJ"),l=i(r("jtha")),u=r("tvxL"),c=r("XnKn");function i(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d,_,p=a.default.mark(S),f=a.default.mark(M),h=a.default.mark(y),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,s.createActions)({VISIT_SHOP_SELLER_CENTER_REQUESTED:function(e){return{url:e.url,shopId:e.shopId,orderId:e.orderId,itemId:e.itemId}},VISIT_SHOP_SELLER_CENTER_FAILED:function(e){return{error:e.error}},VISIT_MALL_REQUESTED:function(e){return{shopId:e.shopId,country:e.country}}})),v=g.visitShopSellerCenterRequested,b=g.visitMallRequested;function S(e){var t,r,o,s,i,d,_,f,h,g,v,b,S,M,y,m,C,k,L,R,E,T,w=e.payload,q=w.url,P=w.shopId,H=w.orderId,G=w.itemId;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(l.default,{resource:"shop",id:P,suffix:"sc"});case 3:if(t=e.sent,r=t.sc_url,!t.upgraded){e.next=11;break}return o=window.open(),s=(0,c.getCNSCSellerCenterUrl)(),q?((i=q.split("/"))[2]=s,d=i.join("/"),o.location=d.includes("?")?d+"&cnsc_shop_id="+P:d+"?cnsc_shop_id="+P):o.location=H?"https://"+s+"/portal/sale/"+H+"?cnsc_shop_id="+P:G?"https://"+s+"/portal/product/"+G+"?cnsc_shop_id="+P:"https://"+s+"?cnsc_shop_id="+P,e.abrupt("return");case 11:if(!r){e.next=25;break}if(_=r.split("?"),f=_[1].split("&").find((function(e){return e.startsWith("sig=")})),h=f.substring(4),g=_[0].split("."),v=g[g.length-1],b=(0,c.isVisitingCNSC)()?(0,c.getShopeeCNUrl)("seller",v):(0,c.getSellerCenterUrl)(v),S=window.open(),!q){e.next=22;break}return S.location=q.includes("?")?q+"&sig="+h:q+"?sig="+h,e.abrupt("return");case 22:H||G?H?(M="https://"+b+"/portal/sale/"+H+"?sig="+h,S.location=M):G&&(y="https://"+b+"/portal/product/"+G+"?sig="+h,S.location=y):(m="https://"+b+"?sig="+h,S.location=m),e.next=28;break;case 25:return C=(0,u.getToastInformation)(!1,{type:"permission-denied"}),e.next=28,(0,n.put)((0,u.setToastInformation)({toast:C}));case 28:e.next=40;break;case 30:return e.prev=30,e.t0=e.catch(0),e.next=34,(0,n.select)((function(e){return e.entityReducer}));case 34:k=e.sent,L=k.shops,R=L[P],E="https://"+(0,c.getSellerCenterUrl)(R.country)+"/portal/",T=H?"sale/"+H:G?"product/"+G:"",window.open(E+T);case 40:case"end":return e.stop()}}),p,this,[[0,30]])}function M(e){var t,r=e.payload,o=r.shopId,s=r.country;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="https://"+(0,c.getMallUrl)(s)+"/shop/"+o,window.open(t);case 2:case"end":return e.stop()}}),f,this)}function y(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeEvery)(v,S);case 2:return e.next=4,(0,n.takeEvery)(b,M);case 4:case"end":return e.stop()}}),h,this)}t.visitShopSellerCenterRequested=v,t.visitMallRequested=b,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(v,"visitShopSellerCenterRequested","/workspace/src/reducers/shop/visit.js"),d.register(b,"visitMallRequested","/workspace/src/reducers/shop/visit.js"),d.register(S,"visitShopSellerCenter","/workspace/src/reducers/shop/visit.js"),d.register(M,"visitMall","/workspace/src/reducers/shop/visit.js"),d.register(y,"watchVisit","/workspace/src/reducers/shop/visit.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},furG:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=T(r("YEIV")),n=r("XnKn"),l=T(r("psxi")),u=T(r("F2Lx")),c=T(r("qdUf")),i=T(r("jZvD")),d=T(r("xayA")),_=T(r("7hFk")),p=T(r("aF+W")),f=T(r("HSHk")),h=T(r("Ri42")),g=T(r("X3i/")),v=T(r("/PCz")),b=T(r("bvpD")),S=T(r("GC6J")),M=T(r("9uOX")),y=T(r("DkPT")),m=T(r("q20h")),C=T(r("4Q5n")),k=T(r("HhcG")),L=T(r("LcIU")),R=T(r("ZEfi")),E=T(r("mnrR"));function T(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var w,q,P=(a={},(0,s.default)(a,n.MessageTypes.MSG_TYPE_TEXT,l.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_IMAGE,u.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_OFFER,c.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_ORDER,d.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_STICKER,_.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_PRODUCT,i.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_WEBVIEW,p.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_NOTIFICATION,p.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_VOUCHER,f.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_CATEGORY,h.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_PRODUCT_LIST,h.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FEED_STORY,g.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_CART_REMINDER,v.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ,b.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT,l.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ_QUESTION,l.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ_FEEDBACK,l.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ_FEEDBACK_PROMPT,M.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,y.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_ORDER_REVIEW_REMINDER,k.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FAQ_HISTORY,L.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_BUNDEL_DEAL,m.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_FLASH_SALE,C.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_POND,R.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_POND_SELECTED,l.default),(0,s.default)(a,n.MessageTypes.MSG_TYPE_ADD_ON_DEAL,E.default),a),H=function(e){return P[e]||S.default},G=H;t.default=G,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(P,"conversationMessagesMap","/workspace/src/components/MessageSectionLayout/ConversationMessages/index.js"),w.register(H,"getConversationMessagesMap","/workspace/src/components/MessageSectionLayout/ConversationMessages/index.js"),w.register(G,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/index.js")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)}).call(this,r("YuTi")(e))},g6PX:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_sellerWebchatService=__webpack_require__("tvxL"),_ConversationListsLayout=__webpack_require__("8oVw"),_ConversationListsLayout2=_interopRequireDefault(_ConversationListsLayout),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ConversationLists=function(_React$PureComponent){function ConversationLists(){return(0,_classCallCheck3.default)(this,ConversationLists),(0,_possibleConstructorReturn3.default)(this,(ConversationLists.__proto__||(0,_getPrototypeOf2.default)(ConversationLists)).apply(this,arguments))}return(0,_inherits3.default)(ConversationLists,_React$PureComponent),(0,_createClass3.default)(ConversationLists,[{key:"render",value:function(){return _react2.default.createElement(_ConversationListsLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ConversationLists}(_react2.default.PureComponent),selector=function(e){return{filter:(0,_sellerWebchatService.filterSelector)(e),keyword:(0,_sellerWebchatService.keywordSelector)(e),results:(0,_sellerWebchatService.resultsSelector)(e),listsHash:(0,_sellerWebchatService.listsHashSelector)(e),draftHash:(0,_sellerWebchatService.draftHashSelector)(e),socketFeedback:(0,_sellerWebchatService.feedbackSelector)(e),networkStatus:(0,_sellerWebchatService.networkStatusSelector)(e),totalUnreadConversationsCount:(0,_sellerWebchatService.totalUnreadConversationsCountSelector)(e),sortedConversations:(0,_sellerWebchatService.sortedConversationsSelector)(e),conversationDirection:(0,_sellerWebchatService.conversationDirectionSelector)(e),conversationHttpStatus:(0,_sellerWebchatService.conversationHttpStatusSelector)(e),searchConversationHttpStatus:(0,_sellerWebchatService.searchConversationHttpStatusSelector)(e)}},actions={markMessagesRequested:_sellerWebchatService.markMessagesRequested,updateConversationFilter:_sellerWebchatService.updateConversationFilter,pinConversationRequested:_sellerWebchatService.pinConversationRequested,showConversationRequested:_sellerWebchatService.showConversationRequested,resetConversationRequested:_sellerWebchatService.resetConversationRequested,deleteConversationRequested:_sellerWebchatService.deleteConversationRequested,fetchConversationsRequested:_sellerWebchatService.fetchConversationsRequested,searchConversationsRequested:_sellerWebchatService.searchConversationsRequested,redirectConversationRequested:_sellerWebchatService.redirectConversationRequested,updateConversationDetailStatus:_sellerWebchatService.updateConversationDetailStatus,resetConversationQueue:_sellerWebchatService.resetConversationQueue},_default=(0,_reactRedux.connect)(selector,actions)(ConversationLists),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ConversationLists,"ConversationLists","/workspace/src/containers/ConversationLists/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/ConversationLists/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/ConversationLists/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/ConversationLists/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},gXnt:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchShopAuthRequested=t.updateFetchShopsStatus=void 0;var a=_(r("YEIV")),o=_(r("QbLZ")),s=_(r("14Xm")),n=_(r("gDS+"));t.fetchShopsByIds=S,t.fetchShopAuth=M,t.watchFetch=y;var l,u=_(r("jtha")),c=r("6SzI"),i=r("5rFJ"),d=r("tvxL");function _(e){return e&&e.__esModule?e:{default:e}}(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);var p=s.default.mark(S),f=s.default.mark(M),h=s.default.mark(y),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,c.createActions)({UPDATE_FETCH_SHOPS_STATUS:function(e){return{status:e.status}},FETCH_SHOP_AUTH_REQUESTED:function(e){return{shopId:e.shopId}}})),v=g.updateFetchShopsStatus,b=g.fetchShopAuthRequested;function S(e){var t,r,a,o,l,c=e.shopIds;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.select)(d.entitiesSelector);case 2:if(t=e.sent,r=t.shops,(c=c.filter((function(e){return!r[e]}))).length){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,(0,i.call)(u.default,{resource:"shops",params:{ids:(0,n.default)(c)}});case 9:return a=e.sent,o=a.shops,l=void 0===o?[]:o,e.abrupt("return",l);case 13:case"end":return e.stop()}}),p,this)}function M(e){var t,r=e.payload.shopId;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.call)(u.default,{parent:"shop",parentId:r,resource:"auth"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),f,this,[[0,7]])}function y(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(b,M);case 2:case"end":return e.stop()}}),h,this)}t.updateFetchShopsStatus=v,t.fetchShopAuthRequested=b;var m,C,k=(0,a.default)({},v,(function(e,t){var r=t.payload.status;return(0,o.default)({},e,{status:r})}));t.default=k,(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(v,"updateFetchShopsStatus","/workspace/src/reducers/shop/fetch.js"),m.register(b,"fetchShopAuthRequested","/workspace/src/reducers/shop/fetch.js"),m.register(S,"fetchShopsByIds","/workspace/src/reducers/shop/fetch.js"),m.register(M,"fetchShopAuth","/workspace/src/reducers/shop/fetch.js"),m.register(y,"watchFetch","/workspace/src/reducers/shop/fetch.js"),m.register(k,"default","/workspace/src/reducers/shop/fetch.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)}).call(this,r("YuTi")(e))},gaYS:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _objectWithoutProperties2=__webpack_require__("jo6Y"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactRedux=__webpack_require__("/MKj"),_MessageSectionLayout=__webpack_require__("DE7l"),_MessageSectionLayout2=_interopRequireDefault(_MessageSectionLayout),_sellerWebchatService=__webpack_require__("tvxL"),_visit=__webpack_require__("empP"),_fetch=__webpack_require__("M2OP"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MessageSection=function(_React$PureComponent){function MessageSection(e){(0,_classCallCheck3.default)(this,MessageSection);var t=(0,_possibleConstructorReturn3.default)(this,(MessageSection.__proto__||(0,_getPrototypeOf2.default)(MessageSection)).call(this,e));return t.fetchRequested=t.fetchRequested.bind(t),t}return(0,_inherits3.default)(MessageSection,_React$PureComponent),(0,_createClass3.default)(MessageSection,[{key:"fetchRequested",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needReset,r=void 0!==t&&t,a=e.direction,o=this.props,s=o.messageList,n=o.currentConversation,l=o.fetchMessagesRequested,u={conversation:n,direction:"up"===a||"older"===a?"older":"latest"};if(r)u.read=!0,u.reset=!0;else if(!s.length)return;l((0,_extends3.default)({},u))}},{key:"render",value:function(){var e=this.props,t=(e.fetchMessagesRequested,e.messageHttpStatus),r=(0,_objectWithoutProperties3.default)(e,["fetchMessagesRequested","messageHttpStatus"]);return _react2.default.createElement(_MessageSectionLayout2.default,(0,_extends3.default)({},r,{status:t,fetchRequested:this.fetchRequested}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MessageSection}(_react2.default.PureComponent),mapStateToProps=function(e){return{isScChat:(0,_sellerWebchatService.isScChatSelector)(e),translateTips:(0,_sellerWebchatService.tipsSelector)(e),hasMoreOlderMessage:(0,_sellerWebchatService.hasMoreOlderMessageSelector)(e),autoTranslation:(0,_sellerWebchatService.autoTranslation)(e),isSubAccount:(0,_sellerWebchatService.isSubAccountSelector)(e),messageList:(0,_sellerWebchatService.messagesWithSourceSelector)(e),currentBuyer:(0,_sellerWebchatService.currentBuyerSelector)(e)||{},showChatWindow:(0,_sellerWebchatService.showChatWindowSelector)(e),unreadMessageIds:(0,_sellerWebchatService.unreadMessageIdsSelector)(e),currentUserShopId:(0,_sellerWebchatService.currentUserShopIdSelector)(e),messageHttpStatus:(0,_sellerWebchatService.messageHttpStatusSelector)(e),showConversationDetail:(0,_sellerWebchatService.showConversationDetailSelector)(e),currentConversationCanRead:(0,_sellerWebchatService.currentConversationCanReadSelector)(e)}},mapDispatchToProps={showModal:_sellerWebchatService.showModal,closeModal:_sellerWebchatService.closeModal,visitMallRequested:_visit.visitMallRequested,updateTranslateTips:_sellerWebchatService.updateTranslateTips,markMessagesRequested:_sellerWebchatService.markMessagesRequested,fetchMessagesRequested:_sellerWebchatService.fetchMessagesRequested,resendMessageRequested:_sellerWebchatService.resendMessageRequested,populateMessageRequested:_sellerWebchatService.populateMessageRequested,setCurrentConversationCanRead:_sellerWebchatService.setCurrentConversationCanRead,visitShopSellerCenterRequested:_visit.visitShopSellerCenterRequested,fetchFaqMessagesRequested:_fetch.fetchFaqMessagesRequested};MessageSection.propTypes={messageList:_propTypes2.default.array,messageHttpStatus:_propTypes2.default.string,currentConversation:_propTypes2.default.object,fetchMessagesRequested:_propTypes2.default.func};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(MessageSection),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MessageSection,"MessageSection","/workspace/src/containers/Messages/index.js"),reactHotLoader.register(mapStateToProps,"mapStateToProps","/workspace/src/containers/Messages/index.js"),reactHotLoader.register(mapDispatchToProps,"mapDispatchToProps","/workspace/src/containers/Messages/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/Messages/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},gfNt:function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_sellerWebchatUi=__webpack_require__("h4gR"),_close=__webpack_require__("MgYr"),_close2=_interopRequireDefault(_close),_index=__webpack_require__("hpM7"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},TranslateTips=function(_React$PureComponent){function TranslateTips(e){(0,_classCallCheck3.default)(this,TranslateTips);var t=(0,_possibleConstructorReturn3.default)(this,(TranslateTips.__proto__||(0,_getPrototypeOf2.default)(TranslateTips)).call(this,e));return t.handleClose=t.handleClose.bind(t),t}return(0,_inherits3.default)(TranslateTips,_React$PureComponent),(0,_createClass3.default)(TranslateTips,[{key:"handleClose",value:function(){var e=this.props,t=e.currentConversation;(0,e.updateTranslateTips)({shopId:t.shop_id,flag:"closed"})}},{key:"render",value:function(){return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.left},_react2.default.createElement("div",{className:_index2.default.icon}),_react2.default.createElement("div",{className:_index2.default.tips},$t("auto_translation.suggestion"))),_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_close2.default,className:_index2.default.close,onClick:this.handleClose}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TranslateTips}(_react2.default.PureComponent);TranslateTips.propTypes={updateTranslateTips:_propTypes2.default.func,currentConversation:_propTypes2.default.object};var _default=TranslateTips,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(TranslateTips,"TranslateTips","/workspace/src/components/MessageSectionLayout/TranslateTips/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/TranslateTips/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},hRrX:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.Status={ALL:"all",UNPAID:"unpaid",TO_SHIP:"to_ship",SHIPPING:"shipping",COMPLETED:"completed",CANCELLED:"cancelled",REFUND:"refund"},n=t.StatusIndex={all:0,unpaid:1,to_ship:2,shipping:3,completed:4,cancelled:5,refund:6},l=t.method={PAY_CREDIT_CARD:1,PAY_BANK_TRANSFER:2,PAY_OFFLINE_PAYMENT:3,PAY_IPAY88:4,PAY_FREE:5,PAY_COD:6,PAY_ESUN:7,PAY_BILL_PAYMENT:8,PAY_INDOMARET:13,PAY_KREDIVO:14,PAY_NICEPAY_CC:15,PAY_AIRPAY:18,PAY_SHOPEE_WALLET:20,PAY_SHOPEE_WALLET_V2:27,PAY_AKULAKU:21,PAY_INSTALLMENT:23,PAY_IBANKING:29},u=t.sellerCancelReason=[{value:1,key:"common.order.cancel_reason.out_of_stock"},{value:3,key:"common.order.cancel_reason.undeliverable_area"},{value:4,key:"common.order.cancel_reason.cannot_support_cod"}],c=t.reason={NONE:0,OUT_OF_STOCK:1,CUSTOMER_REQUEST:2,UNDELIVERABLE_AREA:3,CANNOT_SUPPORT_COD:4,LOST_PARCEL:5,SYSTEM_UNPAID:100,SYSTEM_UNDERPAID:101,SYSTEM_PAYMENT_REJECTED:102,LOGISTICS_REQUEST_CANCELED:200,LOGISTICS_PICKUP_FAILED:201,LOGISTICS_DELIVERY_FAILED:202,LOGISTICS_COD_REJECTED:203,BACKEND_LOGISTICS_NOT_STARTED:204,BACKEND_ESCROW_TERMINATED:300,BACKEND_INACTIVE_SELLER:301,BACKEND_SELLER_DID_NOT_SHIP:302,RULE_ENGINE_AUTO_CANCEL:400},i=t.statusExt={ORDER_EXT_DELETE:0,ORDER_EXT_UNPAID:1,ORDER_EXT_PAID:2,ORDER_EXT_SHIPPED:3,ORDER_EXT_COMPLETED:4,ORDER_EXT_INVALID:6,ORDER_EXT_CANCEL_PROCESSING:7,ORDER_EXT_CANCEL_COMPLETED:8,ORDER_EXT_RETURN_PROCESSING:9,ORDER_EXT_RETURN_COMPLETED:10,ORDER_EXT_ESCROW_PAID:11,ORDER_EXT_ESCROW_CREATED:12,ORDER_EXT_ESCROW_PENDING:13,ORDER_EXT_ESCROW_VERIFIED:14,ORDER_EXT_ESCROW_PAYOUT:15,ORDER_EXT_CANCEL_PENDING:16},d=t.listType={PAID:1,UNPAID:2,COMPLETED:3,CANCELLED:4,SHIPPED:5,ALL:6,TOSHIP:7,TORECEIVE:8,TOPAY:9,TOSHIP_UNPROCESSED:10,TOSHIP_PROCESSED:11,RETURN:12,GROUP_BUY_ALL:13,GROUP_BUY_ONGOING:14,GROUP_BUY_COMPLETED:15,GROUP_BUY_INVALID:16},_=t.logisticsStatus={LOGISTICS_NOT_STARTED:0,LOGISTICS_REQUEST_CREATED:1,LOGISTICS_PICKUP_DONE:2,LOGISTICS_PICKUP_RETRY:3,LOGISTICS_PICKUP_FAILED:4,LOGISTICS_DELIVERY_DONE:5,LOGISTICS_DELIVERY_FAILED:6,LOGISTICS_REQUEST_CANCELED:7,LOGISTICS_COD_REJECTED:8,LOGISTICS_READY:9,LOGISTICS_INVALID:10,LOGISTICS_LOST:11,LOGISTICS_PENDING_ARRANGE:12},p=t.orderType={UNKNOWN:0,SIMPLE:1,ESCROW:2},f=t.orderItemStatus={DELETE:0,UNRATED:1,RATED:2,RETURNED:3,RETURN_RATED:4,CANCEL:5},h=t.logisticsLog={ORDER_DETAIL_SHIPPING_CONFIRMED:2,ORDER_DETAIL_SHIPPED:4,ORDER_DETAIL_RECEIVED:5,ORDER_DETAIL_CANCELED:6,ORDER_DETAIL_NOTIFY_SHIP:7};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(s,"Status","/workspace/src/constants/orders.js"),a.register(n,"StatusIndex","/workspace/src/constants/orders.js"),a.register(l,"method","/workspace/src/constants/orders.js"),a.register(u,"sellerCancelReason","/workspace/src/constants/orders.js"),a.register(c,"reason","/workspace/src/constants/orders.js"),a.register(i,"statusExt","/workspace/src/constants/orders.js"),a.register(d,"listType","/workspace/src/constants/orders.js"),a.register(_,"logisticsStatus","/workspace/src/constants/orders.js"),a.register(p,"orderType","/workspace/src/constants/orders.js"),a.register(f,"orderItemStatus","/workspace/src/constants/orders.js"),a.register(h,"logisticsLog","/workspace/src/constants/orders.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},hruB:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_sellerWebchatService=__webpack_require__("tvxL"),_order=__webpack_require__("cOd3"),_OrderPopoverLayout=__webpack_require__("mkWr"),_OrderPopoverLayout2=_interopRequireDefault(_OrderPopoverLayout),_visit=__webpack_require__("empP"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},OrderPopover=function(_React$PureComponent){function OrderPopover(){return(0,_classCallCheck3.default)(this,OrderPopover),(0,_possibleConstructorReturn3.default)(this,(OrderPopover.__proto__||(0,_getPrototypeOf2.default)(OrderPopover)).apply(this,arguments))}return(0,_inherits3.default)(OrderPopover,_React$PureComponent),(0,_createClass3.default)(OrderPopover,[{key:"render",value:function(){return _react2.default.createElement(_OrderPopoverLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),OrderPopover}(_react2.default.PureComponent),selector=function(e){return{myData:(0,_order.myOrderDataSelector)(e),hisData:(0,_order.hisOrderDataSelector)(e),currentBuyerShop:(0,_sellerWebchatService.currentBuyerShopSelector)(e),fetchMyOrdersStatus:(0,_order.fetchMyOrdersStatusSelector)(e),fetchHisOrdersStatus:(0,_order.fetchHisOrdersStatusSelector)(e)}},actions={visitShopSellerCenterRequested:_visit.visitShopSellerCenterRequested},_default=(0,_reactRedux.connect)(selector,actions)(OrderPopover),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(OrderPopover,"OrderPopover","/workspace/src/containers/InputField/Toolbar/OrderPopover/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/InputField/Toolbar/OrderPopover/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/InputField/Toolbar/OrderPopover/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/InputField/Toolbar/OrderPopover/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},igIW:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchShopSagas=void 0;var a,o=d(r("QbLZ")),s=r("6SzI"),n=r("empP"),l=r("gXnt"),u=d(l),c=r("OVuk"),i=r("tvxL");function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var _,p,f=t.watchShopSagas=[l.watchFetch,n.watchVisit,c.watchShow],h=(0,s.handleActions)((0,o.default)({},u.default,i.fetchShopIdsActions),{fetchedShopIds:[]});t.default=h,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(f,"watchShopSagas","/workspace/src/reducers/shop/index.js"),_.register(h,"default","/workspace/src/reducers/shop/index.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},iwEN:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.clearApiCache=void 0;var a,o=u(r("14Xm")),s=u(r("m1cH")),n=u(r("D3Ub")),l=u(r("LpSC"));function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d,_=t.clearApiCache=function(){caches&&caches.delete("CHAT_API")},p=(c=(0,n.default)(o.default.mark((function e(t,r){var a,n,u,c,i,d,_,p,f,h,g,v,b,S,M,y,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=new URL(t),n=a.searchParams,u=n.get("need_cache"),c=r.method&&"get"===r.method.toLowerCase(),i="&csrf_token="+encodeURIComponent(n.get("csrf_token")),d=t.replace(i,""),!(c&&u&&caches)){e.next=41;break}return e.next=10,caches.open("CHAT_API");case 10:return _=e.sent,e.next=13,_.match(d);case 13:if(p=e.sent,f=Date.now(),!p){e.next=22;break}if(!(f<p.headers.get("cache-expires"))){e.next=20;break}return e.abrupt("return",p);case 20:return e.next=22,_.delete(d);case 22:return e.next=24,(0,l.default)(t,r);case 24:if(h=e.sent,g=h.clone(),200!==h.status){e.next=38;break}return v=[].concat((0,s.default)(h.headers.entries())),b={},S=n.get("cache_expires")||3600,M=f+1e3*S,e.next=33,h.blob();case 33:y=e.sent,v.forEach((function(e){b[e[0]]=e[1]})),b["cache-expires"]=M,m=new Response(y,{headers:new Headers(b)});try{_.put(d,m)}catch(e){caches.delete("CHAT_API")}case 38:return e.abrupt("return",g);case 41:return e.abrupt("return",(0,l.default)(t,r));case 42:e.next=47;break;case 44:return e.prev=44,e.t0=e.catch(0),e.abrupt("return",(0,l.default)(t,r));case 47:case"end":return e.stop()}}),e,this,[[0,44]])}))),function(e,t){return c.apply(this,arguments)});t.default=p,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register("CHAT_API","NAME_SPACE","/workspace/src/helpers/fetchWithCache.js"),i.register(3600,"DEFAULT_EXPIRES","/workspace/src/helpers/fetchWithCache.js"),i.register(_,"clearApiCache","/workspace/src/helpers/fetchWithCache.js"),i.register(p,"default","/workspace/src/helpers/fetchWithCache.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},jZvD:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=c(r("m4Vw")),s=c(r("q1tI")),n=c(r("17x9")),l=c(r("+iqz")),u=r("XnKn");function c(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=function(e){var t=e.isScChat,r=e.country,a=e.textContent,n=void 0===a?{}:a,l=e.isSubAccount,c=e.handleReload,i=e.conversation,d=i.hasViewProductAccess,_=i.shop_id,p=e.visitShopSellerCenterRequested,f=e.isSend,h=e.currentUser,g=e.track,v=n.id,b=n.shop_id,S=n.name,M=n.actual_price_string,y=n.image,m=h&&"subaccount"!==h.type?b===h.shop_id:b===_,C=!l||!m||t,k=C?"https://"+(0,u.getMallUrl)(r)+"/product/"+b+"/"+v+"/":"https://"+(0,u.getSellerCenterUrl)((0,u.isVisitingCNSC)()?"cn":r)+"/portal/product/"+v;return s.default.createElement(o.default,{name:S,price:M,image:y,isSend:f,failed:!v||!M,hasAccess:d||C,handleReload:c,handleClick:function(){g("product_items","click",{itemid:v}),C?window.open(k):(0,u.viewLinkWithAccess)(d,(function(){return p({shopId:b,itemId:v})}))}})};i.propTypes={isSend:n.default.bool,country:n.default.string,textContent:n.default.object,visitShopSellerCenterRequested:n.default.func,isSubAccount:n.default.bool,handleReload:n.default.func,conversation:n.default.object,currentUser:n.default.object,isScChat:n.default.bool,track:n.default.func};var d,_,p=(0,l.default)(i);t.default=p,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"ProductMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductMessage/index.js"),d.register(p,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductMessage/index.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},jtha:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=r("tvxL");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,n,l=o.fetch;t.default=l,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(l,"default","/workspace/src/helpers/fetch.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r("YuTi")(e))},kiWX:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s={source:{product:"common.product.footer",order:"common.order.footer"},message:{product:"common.product.cap",order:"common.order.cap",offer:"common.offer.cap"}};t.default=s,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"default","/workspace/src/constants/messageCardLabel.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},kiXb:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.t=void 0;var a,o,s=r("XzT5"),n=(a=s)&&a.__esModule?a:{default:a};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=t.t=n.default.t.bind(n.default);(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(c,"t","/workspace/src/i18n.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},"m/jO":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_message=__webpack_require__("yDfg"),_index=__webpack_require__("615J"),_index2=_interopRequireDefault(_index),_sellerWebchatService=__webpack_require__("tvxL"),_sellerWebchatUi=__webpack_require__("h4gR"),_arrowDownMessage=__webpack_require__("6HER"),_arrowDownMessage2=_interopRequireDefault(_arrowDownMessage),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},UnreadBriefMessage=function(_React$PureComponent){function UnreadBriefMessage(){return(0,_classCallCheck3.default)(this,UnreadBriefMessage),(0,_possibleConstructorReturn3.default)(this,(UnreadBriefMessage.__proto__||(0,_getPrototypeOf2.default)(UnreadBriefMessage)).apply(this,arguments))}return(0,_inherits3.default)(UnreadBriefMessage,_React$PureComponent),(0,_createClass3.default)(UnreadBriefMessage,[{key:"componentDidMount",value:function(){(0,_sellerWebchatService.tracker)("conversation_window","latest_message",{},"impression")}},{key:"render",value:function(){var e=this.props,t=e.username,r=e.message,a=e.onClick;return _react2.default.createElement("div",{className:_index2.default.root,onClick:function(){(0,_sellerWebchatService.tracker)("conversation_window","latest_message"),a&&a()}},_react2.default.createElement("span",{className:_index2.default.newMessageUsername},t,":"),_react2.default.createElement("div",{className:_index2.default.newMessageContent},(0,_message.previewMessage)(r)),_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_arrowDownMessage2.default,className:_index2.default.newMessageArrow}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),UnreadBriefMessage}(_react2.default.PureComponent);UnreadBriefMessage.propTypes={username:_propTypes2.default.string,message:_propTypes2.default.object,onClick:_propTypes2.default.func.isRequired};var _default=UnreadBriefMessage,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(UnreadBriefMessage,"UnreadBriefMessage","/workspace/src/components/MessageSectionLayout/UnreadBriefMessages/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/UnreadBriefMessages/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},mnrR:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=c(r("wLGQ")),s=c(r("QbLZ")),n=c(r("q1tI")),l=c(r("+iqz")),u=c(r("17x9"));function c(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=function(e){return n.default.createElement(o.default,(0,s.default)({},e,{region:e.country}))};i.propTypes={country:u.default.string};var d,_,p=(0,l.default)(i);t.default=p,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"AddOnDealMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/AddOnDealMessage/index.js"),d.register(p,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/AddOnDealMessage/index.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},nbEg:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentTotalProductsSelector=t.myShopProductsSelector=t.otherShopProductsSelector=t.currentFetchResultSelector=t.productSelector=t.otherShopSearchKeywordSelector=t.myShopSearchKeywordSelector=t.productFetchResultSelector=t.allShopSearchStatusSelector=t.selectedProductTabSelector=t.otherShopSearchStatusSelector=t.myShopSearchStatusSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),n=r("tvxL");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c={currentPage:0,perPage:20,total:0,hasMore:!0},i=t.myShopSearchStatusSelector=function(e){return e.productReducer.myShopSearchStatus},d=t.otherShopSearchStatusSelector=function(e){return e.productReducer.otherShopSearchStatus},_=t.selectedProductTabSelector=function(e){return e.productReducer.selectedProductTab},p=t.allShopSearchStatusSelector=function(e){return e.productReducer.allShopSearchStatus},f=t.productFetchResultSelector=function(e){return e.productReducer.fetchResult},h=t.myShopSearchKeywordSelector=function(e){return e.productReducer.myShopSearchKeyword},g=t.otherShopSearchKeywordSelector=function(e){return e.productReducer.otherShopSearchKeyword},v=t.productSelector=function(e){return(0,s.createSelector)(n.entitiesSelector,(function(t){return(0,o.denormalize)(e,n.productSchema,t)}))},b=t.currentFetchResultSelector=function(e){return(0,s.createSelector)(f,(function(t){var r=t[e];return r||{pagination:c,result:[]}}))},S=t.otherShopProductsSelector=(0,s.createSelector)(f,n.currentBuyerShopIdSelector,n.entitiesSelector,(function(e,t,r){var a=e[t];if(!a)return[];var s=a.result||[];return(0,o.denormalize)(s,[n.productSchema],r)})),M=t.myShopProductsSelector=(0,s.createSelector)(f,n.currentShopIdSelector,n.entitiesSelector,(function(e,t,r){var a=e[t];if(!a)return[];var s=a.result||[];return(0,o.denormalize)(s,[n.productSchema],r)})),y=t.currentTotalProductsSelector=(0,s.createSelector)(f,n.currentShopIdSelector,(function(e,t){var r=e[t];return r?r.pagination.total:0}));(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"defaultPagination","/workspace/src/selectors/product.js"),l.register(i,"myShopSearchStatusSelector","/workspace/src/selectors/product.js"),l.register(d,"otherShopSearchStatusSelector","/workspace/src/selectors/product.js"),l.register(_,"selectedProductTabSelector","/workspace/src/selectors/product.js"),l.register(p,"allShopSearchStatusSelector","/workspace/src/selectors/product.js"),l.register(f,"productFetchResultSelector","/workspace/src/selectors/product.js"),l.register(h,"myShopSearchKeywordSelector","/workspace/src/selectors/product.js"),l.register(g,"otherShopSearchKeywordSelector","/workspace/src/selectors/product.js"),l.register(v,"productSelector","/workspace/src/selectors/product.js"),l.register(b,"currentFetchResultSelector","/workspace/src/selectors/product.js"),l.register(S,"otherShopProductsSelector","/workspace/src/selectors/product.js"),l.register(M,"myShopProductsSelector","/workspace/src/selectors/product.js"),l.register(y,"currentTotalProductsSelector","/workspace/src/selectors/product.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},psxi:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=d(r("fkY8")),s=d(r("QbLZ")),n=d(r("q1tI")),l=d(r("17x9")),u=d(r("+iqz")),c=r("/MKj"),i=r("tvxL");function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var _=function(e){var t=e.isScChat,r=e.content,a=e.isSend,l=e.isSubAccount,u=e.conversation,c=e.autoTranslation,i=e.send_status,d=e.message_option;if(!r.text)return null;var _=u||{},p=_.to_id,f=_.shop_id,h=_.translationAccess,g=_.auto_translation,v="enabled"===c,b=(r||{}).translation,S=(b=void 0===b?{}:b).text,M=t?l?g:v:a?v:v||h&&!!S;return n.default.createElement(o.default,(0,s.default)({buyerId:p,shopId:f,sendStatus:i,messageOption:d,enableTranslation:M},e))},p=function(e){return{autoTranslation:(0,i.autoTranslation)(e)}},f={handleSensitiveUrl:i.handleSensitiveUrl,changeTranslateStatus:i.changeTranslateStatus,translateMessagesRequested:i.translateMessagesRequested};_.propTypes={isSend:l.default.bool,isScChat:l.default.bool,content:l.default.object,isSubAccount:l.default.bool,conversation:l.default.object,send_status:l.default.number,message_option:l.default.number,autoTranslation:l.default.string};var h,g,v=(0,u.default)((0,c.connect)(p,f)(_));t.default=v,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(_,"TextMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/TextMessage/index.js"),h.register(p,"mapStateToProps","/workspace/src/components/MessageSectionLayout/ConversationMessages/TextMessage/index.js"),h.register(f,"mapDispatchToProps","/workspace/src/components/MessageSectionLayout/ConversationMessages/TextMessage/index.js"),h.register(v,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/TextMessage/index.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("YuTi")(e))},ptXS:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=r("14Xm"),s=(a=o)&&a.__esModule?a:{default:a};t.preload=h;var n,l=r("SVmU"),u=r("5rFJ"),c=r("XnKn"),i=r("JbkK"),d=r("tvxL");(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var _,p,f=s.default.mark(h);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function h(){var e,t,r,a,o,n,_,p;return s.default.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,u.take)(l.REHYDRATE);case 3:return s.next=5,(0,u.put)((0,d.updateChatEntryStatus)({showEntry:!1}));case 5:return s.next=7,(0,u.put)((0,d.setChatSource)({isScChat:(0,c.getChatSource)()}));case 7:return s.next=9,(0,u.put)((0,d.resetConversationRequested)());case 9:return s.next=11,(0,u.put)((0,d.updateChatWindowStatus)({shouldShowWindow:!1}));case 11:return s.next=13,(0,c.getItem)("mini-session");case 13:return e=s.sent,s.next=16,(0,u.call)(d.login);case 16:if(t=s.sent,r=t.user){s.next=20;break}return s.abrupt("return");case 20:return s.next=22,(0,u.select)((function(e){return e.conversationReducer}));case 22:if(a=s.sent,a.oldestTimestampNano,n=a.latestTimestampNano,_=a.oldestTimestamp,p=a.latestTimestamp,void 0!==n&&n){s.next=32;break}return n=-1===p?"":p+"000000000",o=-1===_?"":0===_?"0":_+"000000000",s.next=32,(0,u.put)((0,d.updateConversationTimestamp)({oldestTimestampNano:o,latestTimestampNano:n}));case 32:if(!e){s.next=48;break}if(!r){s.next=44;break}if(r.id===e.user.id){s.next=38;break}return s.next=38,(0,u.put)((0,i.reduxReset)());case 38:return s.next=40,(0,u.call)(d.handleLoginSucceeded,t);case 40:return s.next=42,(0,u.put)((0,d.updateLoginSuccessStatus)({loginSuccess:!0}));case 42:s.next=46;break;case 44:return s.next=46,(0,u.put)((0,d.updateLoginSuccessStatus)({loginSuccess:!1}));case 46:s.next=54;break;case 48:return s.next=50,(0,u.put)((0,i.reduxReset)());case 50:return s.next=52,(0,u.call)(d.handleLoginSucceeded,t);case 52:return s.next=54,(0,u.put)((0,d.updateLoginSuccessStatus)({loginSuccess:!0}));case 54:return s.next=56,(0,u.put)((0,d.updateUnreadCount)({type:d.unreadCountActions.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT}));case 56:s.next=63;break;case 58:return s.prev=58,s.t0=s.catch(0),console.error("load chat failed!",s.t0),s.next=63,(0,u.put)((0,d.updateLoginSuccessStatus)({loginSuccess:!1}));case 63:case"end":return s.stop()}}),f,this,[[0,58]])}(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&_.register(h,"preload","/workspace/src/reducers/preload.js"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},q20h:function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _isInteger=__webpack_require__("ql3t"),_isInteger2=_interopRequireDefault(_isInteger),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_ProductItem=__webpack_require__("dm17"),_ProductItem2=_interopRequireDefault(_ProductItem),_index=__webpack_require__("FYh3"),_index2=_interopRequireDefault(_index),_sellerWebchatUtils=__webpack_require__("XnKn"),_messages=__webpack_require__("3atR"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},UpComing=_messages.PromotionStatus.UpComing,OnGoing=_messages.PromotionStatus.OnGoing,Expired=_messages.PromotionStatus.Expired,BundelDealMessage=function(_React$PureComponent){function BundelDealMessage(e){(0,_classCallCheck3.default)(this,BundelDealMessage);var t=(0,_possibleConstructorReturn3.default)(this,(BundelDealMessage.__proto__||(0,_getPrototypeOf2.default)(BundelDealMessage)).call(this,e));return t.renderFooter=t.renderFooter.bind(t),t.renderHeaderText=t.renderHeaderText.bind(t),t.renderProductList=t.renderProductList.bind(t),t.trackItem=t.trackItem.bind(t),t.countOnSec=t.countOnSec.bind(t),t.transValue=t.transValue.bind(t),t.tick=t.tick.bind(t),t.state={date:Math.floor(new Date/1e3)},t.timerID=null,t.status="",t}return(0,_inherits3.default)(BundelDealMessage,_React$PureComponent),(0,_createClass3.default)(BundelDealMessage,[{key:"componentDidMount",value:function(){this.countOnSec(),this.props.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"countOnSec",value:function(){var e=this;clearTimeout(this.timerID),this.timerID=setTimeout((function(){e.tick(),e.countOnSec()}),1e3)}},{key:"tick",value:function(){this.setState({date:Math.floor(new Date/1e3)})}},{key:"renderFooter",value:function(e,t,r,a){var o=this,s="https://"+(0,_sellerWebchatUtils.getMallUrl)(r)+"/bundle-deal/"+a,n=(0,_sellerWebchatUtils.customizeTime)(1e3*e),l=t===UpComing?_react2.default.createElement("div",null,$t("common.flash_sale.start_at")+" "+n):t===OnGoing?_react2.default.createElement("div",{className:_index2.default.detail},$t("conversation_detail.conversation_origin.view_details")):_react2.default.createElement("div",{className:_index2.default.textEnd},$t("message.bundel_deal.end"));return _react2.default.createElement("div",{className:_index2.default.footer,onClick:function(){t===OnGoing&&(window.open(s),o.props.track("bundle_deal_button","click"))}},l)}},{key:"renderProductList",value:function(e,t,r){var a=this;return e.map((function(e){var o=e.name,s=e.price,n=e.image,l=e.item_id,u=(0,_sellerWebchatUtils.formatPrice)(s,r),c="https://"+(0,_sellerWebchatUtils.getMallUrl)(r)+"/product/"+t+"/"+l+"/";return _react2.default.createElement(_ProductItem2.default,{key:e.item_id,name:o,price:u,image:n,url:c,id:l,trackItem:a.trackItem})}))}},{key:"transValue",value:function(e){return e/1e5}},{key:"trackItem",value:function(e){this.props.track("bundle_deal_items","click",{itemid:e})}},{key:"renderHeaderText",value:function(e,t,r){var a=e.rule_type,o=e.min_amount,s=e.fix_price,n=e.discount_percentage,l=e.discount_value,u=this.transValue(s),c=this.transValue(n);"tw"===(r||"").toLowerCase()&&(c=10-c/10,(0,_isInteger2.default)(c)||(c=c.toFixed(1)));var i=this.transValue(l),d=1===a?$t("message.bundel_deal.header.special_discount_title",{count:o,price:u}):2===a?$t("message.bundel_deal.header.percent_discount_title",{count:o,percent:c}):$t("message.bundel_deal.header.amount_discount_title",{count:o,price:i}),_=_index2.default.header+" "+(t!==Expired?_index2.default.active:_index2.default.inactive);return _react2.default.createElement("div",{className:_},d)}},{key:"render",value:function(){var e=this.state.date,t=this.props,r=t.isSend,a=t.content,o=a.bundle_deal_id,s=a.shop_id,n=a.start_time,l=a.end_time,u=a.bundle_rule,c=a.bundle_deal_item_list,i=(t.conversation||{}).shop,d=(i&&i.country?i.country:"SG").toLowerCase();this.status=e<n?UpComing:e<l&&e>n?OnGoing:Expired;var _=c.slice(0,4),p=_index2.default.root+" "+(r?_index2.default.send:_index2.default.receive),f=this.renderProductList(_,s,d),h=this.renderHeaderText(u,this.status,d),g=this.renderFooter(n,this.status,d,o);return _react2.default.createElement("div",{className:p},h,f,g)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BundelDealMessage}(_react2.default.PureComponent);BundelDealMessage.propTypes={measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,content:_propTypes2.default.object,conversation:_propTypes2.default.object,track:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(BundelDealMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(UpComing,"UpComing","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(OnGoing,"OnGoing","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(Expired,"Expired","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(BundelDealMessage,"BundelDealMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)},qdUf:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=u(r("q1tI")),s=u(r("DUT9")),n=r("/MKj"),l=r("tvxL");function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,i,d=function(e){return o.default.createElement(s.default,e)},_=function(){return{}},p={replyOfferRequested:l.replyOfferRequested},f=(0,n.connect)(_,p)(d);t.default=f,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"OfferMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/index.js"),c.register(_,"selectors","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/index.js"),c.register(p,"actions","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/index.js"),c.register(f,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},rNxL:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _objectWithoutProperties2=__webpack_require__("jo6Y"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_index=__webpack_require__("2WOU"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Button=function(_React$PureComponent){function Button(e){(0,_classCallCheck3.default)(this,Button);var t=(0,_possibleConstructorReturn3.default)(this,(Button.__proto__||(0,_getPrototypeOf2.default)(Button)).call(this,e));return t.getRenderClass=t.getRenderClass.bind(t),t.uppercaseFirstLetter=t.uppercaseFirstLetter.bind(t),t}return(0,_inherits3.default)(Button,_React$PureComponent),(0,_createClass3.default)(Button,[{key:"uppercaseFirstLetter",value:function(e){return""+e[0].toUpperCase()+e.slice(1)}},{key:"getRenderClass",value:function(e){var t=e.size,r=e.shape,a=e.theme,o=e.disabled,s=e.rounded,n=e.noHoverChange,l="default"!==t?_index2.default["size"+this.uppercaseFirstLetter(t)]:"",u="default"!==a?_index2.default["theme"+this.uppercaseFirstLetter(a)]:"",c="default"!==r?_index2.default["shape"+this.uppercaseFirstLetter(r)]:"",i=s?_index2.default.buttonRounded:"",d=o?_index2.default.disabled:"";return(n?_index2.default.btn:_index2.default.shopeeBtn)+" "+l+" "+u+" "+c+" "+i+" "+d}},{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.text,a=e.style,o=(0,_objectWithoutProperties3.default)(e,["onClick","text","style"]),s=this.getRenderClass(o),n=o.disabled;return _react2.default.createElement("button",{style:a,disabled:n,className:s,onClick:t},r)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Button}(_react2.default.PureComponent);Button.propTypes={text:_propTypes2.default.string,style:_propTypes2.default.object,size:_propTypes2.default.string.isRequired,theme:_propTypes2.default.string.isRequired,disabled:_propTypes2.default.bool.isRequired,rounded:_propTypes2.default.bool.isRequired,onClick:_propTypes2.default.func.isRequired,shape:_propTypes2.default.string.isRequired,noHoverChange:_propTypes2.default.bool.isRequired},Button.defaultProps={size:"default",shape:"default",theme:"default",disabled:!1,rounded:!1,noHoverChange:!1,style:{}};var _default=Button,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Button,"Button","/workspace/src/components/UI/Button/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/UI/Button/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},rfE5:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.supportDB=void 0;var a,o,s=r("oAJy"),n=(a=s)&&a.__esModule?a:{default:a};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=t.supportDB=function(){return n.default.supports(n.default.INDEXEDDB)||n.default.supports(n.default.WEBSQL)},i=n.default;t.default=i,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"supportDB","/workspace/src/helpers/supportLocalForage.js"),l.register(i,"default","/workspace/src/helpers/supportLocalForage.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},"se/o":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=r("ZRhG"),n=(a=s)&&a.__esModule?a:{default:a};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=n.default;t.default=c,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(c,"default","/workspace/src/hocs/catchStatus/index.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},t6u8:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactRedux=__webpack_require__("/MKj"),_order=__webpack_require__("cOd3"),_sellerWebchatService=__webpack_require__("tvxL"),_show=__webpack_require__("OVuk"),_fetch=__webpack_require__("R/fK"),_InputFieldLayout=__webpack_require__("yyim"),_InputFieldLayout2=_interopRequireDefault(_InputFieldLayout),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},InputField=function(_React$PureComponent){function InputField(){return(0,_classCallCheck3.default)(this,InputField),(0,_possibleConstructorReturn3.default)(this,(InputField.__proto__||(0,_getPrototypeOf2.default)(InputField)).apply(this,arguments))}return(0,_inherits3.default)(InputField,_React$PureComponent),(0,_createClass3.default)(InputField,[{key:"render",value:function(){return _react2.default.createElement(_InputFieldLayout2.default,this.props)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),InputField}(_react2.default.PureComponent),selector=function(e){return{isScChat:(0,_sellerWebchatService.isScChatSelector)(e),stickers:(0,_sellerWebchatService.stickersSelector)(e),draft:(0,_sellerWebchatService.currentDraftSelector)(e),myOrderData:(0,_order.myOrderDataSelector)(e),hisOrderData:(0,_order.hisOrderDataSelector)(e),stickerHttpStatus:(0,_sellerWebchatService.stickerHttpStatusSelector)(e),packHttpStatus:(0,_sellerWebchatService.packHttpStatusSelector)(e),fetchOrdersStatus:(0,_order.fetchOrdersStatusSelector)(e),messageShortcuts:(0,_sellerWebchatService.messageShortcutsSelector)(e),messageShortcutStatus:(0,_sellerWebchatService.messageShortcutsStatusSelector)(e),currentAllMessageShortcuts:(0,_sellerWebchatService.currentAllMessageShortcutsSelector)(e)}},actions={saveDraft:_sellerWebchatService.saveDraft,fetchShopDetailInfo:_show.fetchShopDetailInfo,fetchOrdersRequested:_fetch.fetchOrdersRequested,fetchAllOrdersRequested:_fetch.fetchAllOrdersRequested,fetchStickersRequested:_sellerWebchatService.fetchStickersRequested,fetchMessageShortcutsGroupRequested:_sellerWebchatService.fetchMessageShortcutsGroupRequested},_default=(0,_reactRedux.connect)(selector,actions)(InputField),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(InputField,"InputField","/workspace/src/containers/InputField/index.js"),reactHotLoader.register(selector,"selector","/workspace/src/containers/InputField/index.js"),reactHotLoader.register(actions,"actions","/workspace/src/containers/InputField/index.js"),reactHotLoader.register(_default,"default","/workspace/src/containers/InputField/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},tjUo:function(e,t,r){"use strict";(function(e){var t=f(r("GQeE"));r("2Z54");var a=f(r("q1tI")),o=f(r("i8i4")),s=r("/MKj"),n=r("0cfB"),l=r("mhGz"),u=r("wNa6"),c=f(r("8cBu"));r("p2bk");var i,d=r("XnKn"),_=r("iwEN"),p=r("tvxL");function f(e){return e&&e.__esModule?e:{default:e}}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;(0,p.initPapSdk)(),(0,p.initSentry)();var h,g,v=function(e,t){o.default.render(a.default.createElement(n.AppContainer,null,a.default.createElement(s.Provider,{store:u.store},a.default.createElement(l.PersistGate,{persistor:u.persistor,loading:null},a.default.createElement(e,null)))),document.getElementById(t))},b=(0,d.getChatSource)(),S=function(e){return{position:"fixed",right:b?"16px":"8px",bottom:b?(e?64:0)+16+"px":0,zIndex:99999}},M={create:function(e){var r=void 0,a=void 0,o=document.getElementById(e);if(b&&(r=(((a=(window.SellerFramework?window.SellerFramework.app:window.dev)||{}).componentData||{}).FixBottomCard||{}).isFixed,a.on&&a.on("FixBottomCardChange",(function(e){var r=S(e);(0,t.default)(r).forEach((function(e){o.style[e]=r[e]}))}))),!o){(o=document.createElement("div")).setAttribute("id",e);var s=S(r);(0,t.default)(s).forEach((function(e){o.style[e]=s[e]})),document.body.appendChild(o)}window.miniChatContainerId=e,v(c.default,e)},startOrderChat:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};b&&!a.entryPoint&&(a.entryPoint=7),u.store.dispatch((0,p.redirectConversationRequested)({userId:t,shopId:e,orderId:r,entryPointType:a.entryPoint}))},startChatWithText:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.store.dispatch((0,p.redirectConversationRequested)({userId:e,message:t,entryPointType:r.entryPoint}))},startChat:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u.store.dispatch((0,p.redirectConversationRequested)({userId:t,shopId:e,productId:r,entryPointType:a.entryPoint}))},minimizeChatWindow:function(){u.store.dispatch((0,p.updateChatWindowStatus)({shouldShowWindow:!1}))},inNewBie:function(){return!1},updateLoginStatus:function(){u.store.dispatch((0,p.loginRequested)())},logout:function(){(0,_.clearApiCache)(),u.store.dispatch((0,p.forceLogoutRequested)())}};window.ChatEasy=M,"function"==typeof window.chatReady&&window.chatReady(),M.create("shopee-mini-chat-embedded"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(v,"render","/workspace/src/index.js"),h.register(b,"isScChat","/workspace/src/index.js"),h.register(S,"getMinichatDomStyle","/workspace/src/index.js"),h.register(M,"Chat","/workspace/src/index.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("YuTi")(e))},wNa6:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.persistor=t.store=void 0;var a,o,s=r("ANjH"),n=r("5HXA"),l=r("rRWa"),u=(a=l)&&a.__esModule?a:{default:a},c=r("SVmU"),i=r("cokx");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d=(0,u.default)(),_=(0,s.applyMiddleware)(d),p=(0,s.createStore)(i.reducers,(0,n.composeWithDevTools)(_)),f=(0,c.persistStore)(p),h=d.run(i.sagas);d.run(i.preload);var g,v,b=function e(){h.toPromise().catch((function(t){h.cancel(),h=d.run(i.sagas),e()}))};b(),t.store=p,t.persistor=f,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(d,"sagaMiddleware","/workspace/src/store.js"),g.register(_,"middlewares","/workspace/src/store.js"),g.register(p,"store","/workspace/src/store.js"),g.register(f,"persistor","/workspace/src/store.js"),g.register(h,"tasks","/workspace/src/store.js"),g.register(b,"onTasksException","/workspace/src/store.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)}).call(this,r("YuTi")(e))},xayA:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=d(r("F0JU")),s=d(r("QbLZ")),n=d(r("q1tI")),l=d(r("17x9")),u=d(r("+iqz")),c=r("/MKj"),i=r("empP");function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var _=function(e){var t=e.isSubAccount,r=e.conversation,a=e.currentUser,l=e.content,u=r||{},c=u.shop,i=u.hasViewOrderAccess,d=u.shop_id,_=(c?c.country:"SG").toLowerCase(),p=(l||{}).shop_id,f=(a||{}).shop_id,h=t?p===d:p===f;return n.default.createElement(o.default,(0,s.default)({region:_,isOwnOrder:h,hasViewOrderAccess:i},e))},p=function(){return{}},f={visitShopSellerCenterRequested:i.visitShopSellerCenterRequested};_.propTypes={content:l.default.object,isSubAccount:l.default.bool,conversation:l.default.object,currentUser:l.default.object};var h,g,v=(0,u.default)((0,c.connect)(p,f)(_));t.default=v,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(_,"OrderMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/OrderMessage/index.js"),h.register(p,"mapStateToProps","/workspace/src/components/MessageSectionLayout/ConversationMessages/OrderMessage/index.js"),h.register(f,"mapDispatchToProps","/workspace/src/components/MessageSectionLayout/ConversationMessages/OrderMessage/index.js"),h.register(v,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/OrderMessage/index.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("YuTi")(e))},yDfg:function(e,t,r){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getSystemMessageText=t.previewMessage=t.previewWebview=t.getCustomMessageText=t.areSameMessages=t.areDeepEqualMessageList=t.getLastReadMessageIndexFromList=t.makeMessagePayload=void 0;var o,s=d(r("gDS+")),n=d(r("QbLZ")),l=d(r("xk4V")),u=r("XnKn"),c=r("KmjB"),i=r("UP2C");function d(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var _,p,f=u.MessageTypes.MSG_TYPE_TEXT,h=u.MessageTypes.MSG_TYPE_IMAGE,g=u.MessageTypes.MSG_TYPE_OFFER,v=u.MessageTypes.MSG_TYPE_PRODUCT,b=u.MessageTypes.MSG_TYPE_ORDER,S=u.MessageTypes.MSG_TYPE_STICKER,M=u.MessageTypes.MSG_TYPE_NOTIFICATION,y=u.MessageTypes.MSG_TYPE_WEBVIEW,m=u.MessageTypes.MSG_TYPE_RATE_CARDS,C=u.MessageTypes.MSG_TYPE_VOUCHER,k=u.MessageTypes.MSG_TYPE_VOUCHER_WEB,L=u.MessageTypes.MSG_TYPE_CATEGORY,R=u.MessageTypes.MSG_TYPE_PRODUCT_LIST,E=u.MessageTypes.MSG_TYPE_CART_REMINDER,T=u.MessageTypes.MSG_TYPE_FAQ,w=u.MessageTypes.MSG_TYPE_FAQ_QUESTION,q=u.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT,P=u.MessageTypes.MSG_TYPE_FAQ_FEEDBACK,H=u.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED,G=u.MessageTypes.MSG_TYPE_FAQ_FEEDBACK_PROMPT,x=u.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,I=u.MessageTypes.MSG_TYPE_ORDER_REVIEW_REMINDER,D=u.MessageTypes.MSG_TYPE_FAQ_HISTORY,O=u.MessageTypes.MSG_TYPE_BUNDEL_DEAL,j=u.MessageTypes.MSG_TYPE_FLASH_SALE,Y=u.MessageTypes.MSG_TYPE_POND,A=u.MessageTypes.MSG_TYPE_POND_SELECTED,N={1:"product_entry_point",2:"order_entry_point",3:"shop_entry_point",7:"seller_contact_buyer",8:"product_inactive_seller",10:"lowest_price_guaranteed",11:"poor_fulfilment"},F=t.makeMessagePayload=function(e){var t=e.recipientID,r=e.message,a=e.isSubAccount,o=e.redirectInfo,s=e.conversationId,u=e.entryPoint,c=r.content,i=r.type,d=r.shopId,_=r.isFaking,p={content:c,to_id:t,type:i,request_id:(0,l.default)(),created_timestamp:Math.floor(Date.now()/1e3),isFaking:_,chat_send_option:{force_send_cancel_order_warning:!1,comply_cancel_order_warning:!1}};if(a&&(p.shop_id=d),u&&u.type&&u.conversationId===s?p.entry_point=N[u.type]:p.entry_point="direct_chat_entry_point",o){var f=o.orderId,h=o.productId,g=o.conversationId,v=o.shopId;if(parseInt(s)===parseInt(g)){if(f){var b=parseInt(f);p=(0,n.default)({},p,{order_id:b,source_content:{order_id:b,shop_id:v},source_type:"order"})}if(h){var S=parseInt(h);p=(0,n.default)({},p,{product_id:S,source_content:{product_id:S,shop_id:v},source_type:"product"})}}}return p},U=t.getLastReadMessageIndexFromList=function(e,t){for(var r=e.length-1;r>=0;){var a=e[r];if(!t.includes(a.id))return r;r--}},W=t.areDeepEqualMessageList=function(e,t){return e.length===t.length&&e.every((function(e,r){var a=t[r];return(0,s.default)(e)===(0,s.default)(a)}))},B=t.areSameMessages=function(e,t){if(t.id!==e.id||e.type!==t.type||e.send_status!==t.send_status||e.translateStatus!==t.translateStatus)return!1;if(e.content&&t.content&&e.content.translation!==t.content.translation)return!1;if(e.type===g&&(e.textContent&&e.textContent.status)!==(t.textContent&&t.textContent.status))return!1;if(e.type===b&&(e.order&&e.order.title)!==(t.order&&t.order.title))return!1;return!!(0,c.simpleEqualCheck)(e.textContent,t.textContent)},V=t.getCustomMessageText=function(e){return a(i.customMessageTextKey[e]||"common.unsupported_message")},K=t.previewWebview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(!0){case e.includes(m):return a("conversation_list.conversation_cell.new_evaluation_message");case e.includes(k):case e.includes(C):return a("conversation_list.conversation_cell.voucher_message")}},z=t.previewMessage=function(e){var t=e.type,r=e.content,o=e.crm_message_preview,s=void 0===o?{}:o;if(s.text)return s.text;if(t){var n=r||{},l=n.url,u=n.text,c=n.title,i=n.type,d=void 0===i?"":i,_=n.opening,p=[f,q,w,P,A,Y],m=[H,G,x];if(t===T)return _;if(t===y)return"["+K(d||l)+"]";if(p.includes(t))return u||c;if(m.includes(t))return V(t);var k=[R,L],N="conversation_list.conversation_cell.new_"+t+"_message";return[h,g,v,b,S,M,C,E,I,O,j,D].includes(t)?"["+a(N)+"]":k.includes(t)?"["+a("conversation_list.conversation_cell.new_product_message")+"]":a("common.unsupported_message")}return a("common.unsupported_message")},$=t.getSystemMessageText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.toId,o=t.buyerId,s=r!==o;switch(e){case"webview":var n=t.type,l=t.status;if("rate_cards"===n){if(s)return a("conversation_detail.message_list.rating_card_for_buyer");if(!l||"unrated"===l)return a("conversation_detail.message_list.rating_card_unrated");if("rated"===l)return a("conversation_detail.message_list.rating_card_rated");if("expired"===l)return a("conversation_detail.message_list.rating_card_expired")}break;case"notification":var u=t.notification_for_receiver,c=t.notification_for_sender;return s?u:c}};(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(f,"MSG_TYPE_TEXT","/workspace/src/helpers/message.js"),_.register(h,"MSG_TYPE_IMAGE","/workspace/src/helpers/message.js"),_.register(g,"MSG_TYPE_OFFER","/workspace/src/helpers/message.js"),_.register(v,"MSG_TYPE_PRODUCT","/workspace/src/helpers/message.js"),_.register(b,"MSG_TYPE_ORDER","/workspace/src/helpers/message.js"),_.register(S,"MSG_TYPE_STICKER","/workspace/src/helpers/message.js"),_.register(M,"MSG_TYPE_NOTIFICATION","/workspace/src/helpers/message.js"),_.register(y,"MSG_TYPE_WEBVIEW","/workspace/src/helpers/message.js"),_.register(m,"MSG_TYPE_RATE_CARDS","/workspace/src/helpers/message.js"),_.register(C,"MSG_TYPE_VOUCHER","/workspace/src/helpers/message.js"),_.register(k,"MSG_TYPE_VOUCHER_WEB","/workspace/src/helpers/message.js"),_.register(L,"MSG_TYPE_CATEGORY","/workspace/src/helpers/message.js"),_.register(R,"MSG_TYPE_PRODUCT_LIST","/workspace/src/helpers/message.js"),_.register(E,"MSG_TYPE_CART_REMINDER","/workspace/src/helpers/message.js"),_.register(T,"MSG_TYPE_FAQ","/workspace/src/helpers/message.js"),_.register(w,"MSG_TYPE_FAQ_QUESTION","/workspace/src/helpers/message.js"),_.register(q,"MSG_TYPE_FAQ_LIVEAGENT","/workspace/src/helpers/message.js"),_.register(P,"MSG_TYPE_FAQ_FEEDBACK","/workspace/src/helpers/message.js"),_.register(H,"MSG_TYPE_FAQ_UNSUPPORTED","/workspace/src/helpers/message.js"),_.register(G,"MSG_TYPE_FAQ_FEEDBACK_PROMPT","/workspace/src/helpers/message.js"),_.register(x,"MSG_TYPE_FAQ_LIVEAGENT_PROMPT","/workspace/src/helpers/message.js"),_.register(I,"MSG_TYPE_ORDER_REVIEW_REMINDER","/workspace/src/helpers/message.js"),_.register(D,"MSG_TYPE_FAQ_HISTORY","/workspace/src/helpers/message.js"),_.register(O,"MSG_TYPE_BUNDEL_DEAL","/workspace/src/helpers/message.js"),_.register(j,"MSG_TYPE_FLASH_SALE","/workspace/src/helpers/message.js"),_.register(Y,"MSG_TYPE_POND","/workspace/src/helpers/message.js"),_.register(A,"MSG_TYPE_POND_SELECTED","/workspace/src/helpers/message.js"),_.register(N,"entryPointType","/workspace/src/helpers/message.js"),_.register("direct_chat_entry_point","DEFAULT_ENTRY_POINT_TYPE","/workspace/src/helpers/message.js"),_.register(F,"makeMessagePayload","/workspace/src/helpers/message.js"),_.register(U,"getLastReadMessageIndexFromList","/workspace/src/helpers/message.js"),_.register(W,"areDeepEqualMessageList","/workspace/src/helpers/message.js"),_.register(B,"areSameMessages","/workspace/src/helpers/message.js"),_.register(V,"getCustomMessageText","/workspace/src/helpers/message.js"),_.register(K,"previewWebview","/workspace/src/helpers/message.js"),_.register(z,"previewMessage","/workspace/src/helpers/message.js"),_.register($,"getSystemMessageText","/workspace/src/helpers/message.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e),r("kiXb").t)},yghM:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=void 0,o=Date.now();return function(){for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];a&&(clearTimeout(a),a=null);var u=Date.now();u-o>r?(e.apply(void 0,n),o=Date.now()):a=setTimeout((function(){e.apply(void 0,n),o=Date.now()}),t)}},n=t.throttle=function(e,t,r){var a=void 0,o=void 0,s=void 0,n=null,l=0;r||(r={});var u=function(){l=!1===r.leading?0:(new Date).getTime(),n=null,s=e.apply(a,o),n||(a=o=null)};return function(){var c=(new Date).getTime();l||!1!==r.leading||(l=c);var i=t-(c-l);return a=this,o=arguments,i<=0||i>t?(n&&(clearTimeout(n),n=null),l=c,s=e.apply(a,o),n||(a=o=null)):n||!1===r.trailing||(n=setTimeout(u,i)),s}},l=t.memFn=function(e,t){var r=0;return{check:function(){return e.apply(void 0,arguments)?r+=1:this.reset(),r>=t&&(this.reset(),!0)},reset:function(){r=0}}};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(s,"debounce","/workspace/src/helpers/function.js"),a.register(n,"throttle","/workspace/src/helpers/function.js"),a.register(l,"memFn","/workspace/src/helpers/function.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},ymbT:function(module,exports,__webpack_require__){"use strict";(function(module,$t){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("2mTb"),_index2=_interopRequireDefault(_index),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_messageCardLabel=__webpack_require__("kiWX"),_messageCardLabel2=_interopRequireDefault(_messageCardLabel),_offerStatus=__webpack_require__("Nv8w"),_offerStatus2=_interopRequireDefault(_offerStatus),_sellerWebchatUi=__webpack_require__("h4gR"),_linkArrow=__webpack_require__("VU/q"),_linkArrow2=_interopRequireDefault(_linkArrow),_hammer=__webpack_require__("zIr9"),_hammer2=_interopRequireDefault(_hammer),_offerReject=__webpack_require__("KkAs"),_offerReject2=_interopRequireDefault(_offerReject),_messages=__webpack_require__("3atR"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Footer=function(_React$PureComponent){function Footer(e){(0,_classCallCheck3.default)(this,Footer);var t=(0,_possibleConstructorReturn3.default)(this,(Footer.__proto__||(0,_getPrototypeOf2.default)(Footer)).call(this,e));return t.renderFooterActions=t.renderFooterActions.bind(t),t}return(0,_inherits3.default)(Footer,_React$PureComponent),(0,_createClass3.default)(Footer,[{key:"renderFooterActions",value:function(){var e=this.props,t=e.type,r=e.extraProps,a=e.category,o=e.isSend,s=r.sendStatus,n=r.isSendByMe;if("offer"===t){var l=r.offerStatus,u=r.accept,c=r.reject,i=r.conversationStatus,d=_index2.default.rejectBtn+" "+("closed"===i?_index2.default.disabled:""),_=_index2.default.acceptBtn+" "+("closed"===i?_index2.default.disabled:""),p=null,f=null;switch(l){case _offerStatus2.default.PENDING:f=o?_react2.default.createElement("div",{className:_index2.default.statusText},$t("common.pending_offer.tips")):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:d,onClick:c},$t("conversation_detail.workstation.offer_panel.reject")),_react2.default.createElement("div",{className:_,onClick:u},$t("conversation_detail.workstation.offer_panel.accept")));break;case _offerStatus2.default.ACCEPTED:p=_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_hammer2.default,className:_index2.default.acceptIcon}),f=_react2.default.createElement("div",{className:_index2.default.statusText},$t("conversation_detail.message_list.offer_accepted"));break;case _offerStatus2.default.REJECTED:p=_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_offerReject2.default,className:_index2.default.rejectIcon}),f=_react2.default.createElement("div",{className:_index2.default.statusText},$t("conversation_detail.message_list.offer_rejected"));break;case _offerStatus2.default.CANCELLED:p=_react2.default.createElement("div",{className:_index2.default.rejectIcon}),f=_react2.default.createElement("div",{className:_index2.default.statusText},$t("conversation_detail.message_list.offer_canceled"))}return _react2.default.createElement("div",{className:_index2.default.actions},p,f)}if("source"===a&&s===_messages.MSG_STATUS.SUCCEED&&n)return _react2.default.createElement("div",{className:_index2.default.sendStatus},_react2.default.createElement(_sellerWebchatUi.Icon,{svg:_linkArrow2.default,className:_index2.default.linkArrow}),$t("common.order.link_send"))}},{key:"render",value:function(){var e=this.props,t=e.category,r=e.type,a=_index2.default.root+" "+("source"===t?_index2.default.source:"");return _react2.default.createElement("div",{className:a},"source"===t&&_react2.default.createElement("div",{className:_index2.default.label},$t(_messageCardLabel2.default.source[r])),this.renderFooterActions())}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Footer}(_react2.default.PureComponent);Footer.propTypes={extraProps:_propTypes2.default.object,category:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,isSend:_propTypes2.default.bool};var _default=Footer,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Footer,"Footer","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/Footer/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/Footer/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module),__webpack_require__("kiXb").t)}});
//# sourceMappingURL=app~21833f8f.33d58a7e694648818c97.js.map